<!DOCTYPE html>
<html lang="">
    <head>
        <meta charset="UTF-8"/>
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <title>Using Prolog</title>
        <link rel="stylesheet" href="/assets/main.css"/>
        <script>
// Help the reader estimate how much time the reading is going to take.
// Show word count and reading time estimation in TOC entry.
//
// TOC = table of contents
//
// Known issue: This janks: this DOM manipulation is done after the page is rendered.
// If we don't want jank, we have to manipulate the HTML source before it reaches the browser.
// We assume that the user doesn't refresh the page while reading.
// The benefit of fixing that jank is not enough for me to justify trying to fix it.
document.addEventListener("DOMContentLoaded", function () {
    function count_word (string) {
        return string.trim().split(/\s+/).length;
    }
    function show_quantity (count, singular) {
        let plural = singular + "s"; // For this script only.
        return count + " " + ((count == 1) ? singular : plural);
    }
    function create_length_indicator (word, minute) {
        let e = document.createElement("span");
        e.className = "toc_entry__length_indicator";
        e.textContent = " (" + show_quantity(word, "word") + " ~ " + show_quantity(minute, "minute") + ")";
        return e;
    }
    // We assume that readers read this many words per minute with 100% comprehension.
    // This assumption may not hold for dense texts such as philosophy and mathematics.
    const wpm_assumption = 200;
    // We assume a certain Jekyll template.
    let page = document.querySelector("main.page-content");
    if (page === null) {
        console.log("toc_generate_estimate: Impossible: CSS selector \"main.page-content\" does not match anything");
        return;
    }
    let page_title = document.querySelector("header.post-header h1.post-title");
    if (page_title === null) {
        console.log("toc_generate_estimate: Impossible: CSS selector \"header.post-header h1.post-title\" does not match anything");
        return;
    }
    let page_word = count_word(page.textContent);
    let page_minute = Math.ceil(page_word / wpm_assumption);
    page_title.insertAdjacentElement("afterend", create_length_indicator(page_word, page_minute));
    // We violate the HTML specification.
    // The page may have several elements with the same ID.
    // We assume that Org HTML Export generates a DIV element with ID "table-of-contents".
    // We assume that Jekyll Markdown-to-HTML generates a UL element with ID "markdown-toc".
    // This only works for Org HTML Export's TOC.
    let toc_entries = document.querySelectorAll("#table-of-contents a, #text-table-of-contents a");
    toc_entries.forEach((toc_entry_a) => {
        let href = toc_entry_a.getAttribute("href"); // We assume that this is a string like "#org0123456".
        if (href.charAt(0) !== '#') {
            console.log("toc_generate_estimate: Impossible: " + href + " does not begin with hash sign");
            return;
        }
        // We can't just document.querySelector(href) because target_id may contain invalid ID characters such as periods.
        let target_id = href.substring(1);
        let id_escaped = target_id.replace("\"", "\\\"");
        let h_elem = document.querySelector("[id=\"" + id_escaped + "\"]"); // We assume that this is the h1/h2/h3 element referred by the TOC entry.
        if (h_elem === null) { // We assume that this is impossible.
            console.log("toc_generate_estimate: Impossible: " + href + " does not refer to anything");
            return;
        }
        let section = h_elem.parentNode;
        let section_word = count_word(section.textContent);
        let section_minute = Math.ceil(section_word / wpm_assumption);
        toc_entry_a.insertAdjacentElement("afterend", create_length_indicator(section_word, section_minute));
    });
});
        </script>

        <script async src="https://www.googletagmanager.com/gtag/js?id=UA-12628443-6"></script>
<script>
  window['ga-disable-UA-12628443-6'] = window.doNotTrack === "1" || navigator.doNotTrack === "1" || navigator.doNotTrack === "yes" || navigator.msDoNotTrack === "1";
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());
  gtag('config', 'UA-12628443-6');
</script>
        
        <script type="text/x-mathjax-config">
        MathJax.Hub.Config({
            jax: ["input/TeX","input/MathML","input/AsciiMath",
            "output/CommonHTML"
            ],
            extensions: ["tex2jax.js","mml2jax.js","asciimath2jax.js","MathMenu.js","MathZoom.js","AssistiveMML.js", "a11y/accessibility-menu.js"],
            TeX: {
                extensions: ["AMSmath.js","AMSsymbols.js","noErrors.js","noUndefined.js"]
                , equationNumbers: {
                    autoNumber: "AMS"
                }
            },
            "CommonHTML": {
                scale: 100
            },
            "fast-preview": {
                disabled: true,
            }
        });
        </script>
        <style>
            /*
            PreviewHTML produces small Times New Roman text.
            PreviewHTML scale doesn't work.
            */
            .MathJax_PHTML { font-size: 110%; }
        </style>
        <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js" async defer></script>
    </head>
    <body>
        <header class="site-header" role="banner">
            <div class="wrapper">
                <a class="site-title" rel="author" href="/">Erik Dominikus Research Group</a>
            </div>
        </header>
    <div style="display:none;">\(
    \renewcommand\emptyset{\varnothing}
    \newcommand\abs[1]{\left|#1\right|}
    \newcommand\dom{\textrm{dom}}
    \newcommand\cod{\textrm{cod}}
    \newcommand\Bernoulli{\textrm{Bernoulli}}
    \newcommand\Binomial{\textrm{Binomial}}
    \newcommand\Expect[1]{\mathbb{E}[#1]}
    \newcommand\Nat{\mathbb{N}}
    \newcommand\Integers{\mathbb{Z}}
    \newcommand\Real{\mathbb{R}}
    \newcommand\Rational{\mathbb{Q}}
    \newcommand\Complex{\mathbb{C}}
    \newcommand\Pr{\mathrm{P}}
    \newcommand\Time{\text{Time}}
    \newcommand\DTime{\text{DTime}}
    \newcommand\NTime{\text{NTime}}
    \newcommand\TimeP{\text{P}}
    \newcommand\TimeNP{\text{NP}}
    \newcommand\TimeExp{\text{ExpTime}}
    \newcommand\norm[1]{\left\lVert#1\right\rVert}
    \newcommand\bbA{\mathbb{A}}
    \newcommand\bbC{\mathbb{C}}
    \newcommand\bbD{\mathbb{D}}
    \newcommand\bbE{\mathbb{E}}
    \newcommand\bbN{\mathbb{N}}
    \newcommand\frakI{\mathfrak{I}}
    % deprecated; use TimeExp
    \newcommand\ExpTime{\text{ExpTime}}
    \newcommand\Compute{\text{Compute}}
    \newcommand\Search{\text{Search}}
    % model theory structure
    \newcommand\struc[1]{\mathcal{#1}}
    \)</div>
        <main class="page-content" aria-label="Content">
            <div class="wrapper">
                <article class="post">
                    <header class="post-header">
                        <h1 class="post-title">Using Prolog</h1>
                    </header>
                </article>
                <div class="post-content">
<div class="local_table_of_contents">
<ul>
<li><span class="section_number">1</span><span class="section_title"><a href="#before-you-go-full-prolog">Before you go full Prolog</a></span><span class="word_count">(647w~4m)</span></li>
<li><span class="section_number">2</span><span class="section_title"><a href="#establishing-a-workflow">Establishing a workflow</a></span><span class="word_count">(783w~4m)</span></li>
<li><span class="section_number">3</span><span class="section_title"><a href="#error-handling-and-logging">Error handling and logging</a></span><span class="word_count">(164w~1m)</span></li>
<li><span class="section_number">4</span><span class="section_title"><a href="#modeling-things-in-prolog">Modeling things in Prolog</a></span><span class="word_count">(737w~4m)</span></li>
<li><span class="section_number">5</span><span class="section_title"><a href="#writing-extensible-knowledge-bases">Writing extensible knowledge bases</a></span><span class="word_count">(16w~1m)</span></li>
<li><span class="section_number">6</span><span class="section_title"><a href="#where-things-get-ugly">Where things get ugly</a></span><span class="word_count">(156w~1m)</span></li>
<li><span class="section_number">7</span><span class="section_title"><a href="#writing-enterprise-web-applications">Writing enterprise web applications?</a></span><span class="word_count">(135w~1m)</span></li>
<li><span class="section_number">8</span><span class="section_title"><a href="#theories">Theories</a></span><span class="word_count">(426w~3m)</span></li>
<li><span class="section_number">9</span><span class="section_title"><a href="#half-baked-things-to-shuffle-around"><span class="todo TODO">TODO</span> Half-baked things to shuffle around</a></span><span class="word_count">(1030w~6m)</span></li>
<li><span class="section_number">10</span><span class="section_title"><a href="#how-to-present-prolog-to-newcomers">&lt;2018-12-05&gt; How to present Prolog to newcomers</a></span><span class="word_count">(305w~2m)</span></li>
<li><span class="section_number">11</span><span class="section_title"><a href="#prolog-community">Prolog community</a></span><span class="word_count">(27w~1m)</span></li>
<li><span class="section_number">12</span><span class="section_title"><a href="#smart-editors-are-dangerous-arbitrary-code-execution">&lt;2018-12-10&gt; Smart editors are dangerous! Arbitrary code execution!</a></span><span class="word_count">(128w~1m)</span></li>
<li><span class="section_number">13</span><span class="section_title"><a href="#ramble">Ramble</a></span><span class="word_count">(1033w~6m)</span></li>
</ul>
</div>
<h2 id="before-you-go-full-prolog"><span class="section_number">1</span><span class="section_title">Before you go full Prolog</span></h2>
<div class="local_table_of_contents">
<ul>
<li><span class="section_number">1.1</span><span class="section_title"><a href="#this-is-a-book-in-progress-i-dont-know-whether-i-will-ever-finish-this.">&lt;2018-11-30&gt; This is a book in progress! I don't know whether I will ever finish this.</a></span><span class="word_count">(16w~1m)</span></li>
<li><span class="section_number">1.2</span><span class="section_title"><a href="#who-might-you-be-how-might-this-book-serve-you">Who might you be? How might this book serve you?</a></span><span class="word_count">(66w~1m)</span></li>
<li><span class="section_number">1.3</span><span class="section_title"><a href="#let-me-warn-you-about-the-woes-and-blockers.">Let me warn you about the woes and blockers.</a></span><span class="word_count">(249w~2m)</span></li>
<li><span class="section_number">1.4</span><span class="section_title"><a href="#let-me-hype-you-up.">Let me hype you up.</a></span><span class="word_count">(219w~2m)</span></li>
<li><span class="section_number">1.5</span><span class="section_title"><a href="#not-sure-yet-try-prolog-with-minimal-investment.">Not sure yet? Try Prolog with minimal investment.</a></span><span class="word_count">(33w~1m)</span></li>
<li><span class="section_number">1.6</span><span class="section_title"><a href="#comparing-prolog-implementations">Comparing Prolog implementations?</a></span><span class="word_count">(65w~1m)</span></li>
</ul>
</div>
<h3 id="this-is-a-book-in-progress-i-dont-know-whether-i-will-ever-finish-this."><span class="section_number">1.1</span><span class="section_title">&lt;2018-11-30&gt; This is a book in progress! I don't know whether I will ever finish this.</span></h3>
<h3 id="who-might-you-be-how-might-this-book-serve-you"><span class="section_number">1.2</span><span class="section_title">Who might you be? How might this book serve you?</span></h3>
<ul>
<li>a programmer used to C, C++, Java, PHP, Ruby, Python</li>
<li>a programmer used to Lisp, Scheme, Haskell</li>
<li>a Prolog believer</li>
<li>a Prolog evangelist</li>
<li>someone who used to write Prolog codes</li>
<li>a dreamer who thinks machines should do more</li>
<li>a researcher, theoretician, computer scientist, mathematician, logician, philosopher?</li>
<li>(Who else might you be, why the hell are you here, and how should I write for you?)</li>
</ul>
<h3 id="let-me-warn-you-about-the-woes-and-blockers."><span class="section_number">1.3</span><span class="section_title">Let me warn you about the woes and blockers.</span></h3>
<p>I'm selling you Prolog here, but let me be honest: Don't buy it if any of these year-2018 deal-breakers are an issue for you. Prolog isn't ready for these use cases in 2018; I hope these will change.</p>
<p>&lt;2018-12-09&gt; Somewhat fatal: ISO Prolog open/4 has no way to open a file for writing without truncating it. How the hell did they overlook such a common use case in a standard? But some implementations have extensions to work around that.</p>
<p>Comparison of some open/4 implementations:</p>
<ul>
<li>Prolog implementations that can open a file for both reading and writing:
<ul>
<li>&lt;2018-12-09&gt; Amzi! Prolog open/4 has &quot;readwrite&quot; mode <a href="https://www.amzi.com/manuals/amzi/pro/ref_io.htm">https://www.amzi.com/manuals/amzi/pro/ref_io.htm</a></li>
</ul></li>
<li>Prolog implementations that can open a file for writing without truncating it:
<ul>
<li>&lt;2018-12-09&gt; SWI-Prolog open/4 has &quot;update&quot; mode <a href="http://www.swi-prolog.org/pldoc/doc_for?object=open/4">http://www.swi-prolog.org/pldoc/doc_for?object=open/4</a></li>
<li>&lt;2018-12-09&gt; ECLiPSe Prolog open/4 has &quot;update&quot; mode <a href="http://eclipseclp.org/doc/bips/kernel/iostream/open-4.html">http://eclipseclp.org/doc/bips/kernel/iostream/open-4.html</a></li>
</ul></li>
<li>Prolog implementations that <em>cannot</em> open a file for writing without truncating it:
<ul>
<li>&lt;2018-12-09&gt; GNU Prolog <a href="http://www.gprolog.org/manual/html_node/gprolog034.html#open%2F4">http://www.gprolog.org/manual/html_node/gprolog034.html#open%2F4</a></li>
<li>&lt;2018-12-09&gt; SICStus Prolog <a href="https://sicstus.sics.se/sicstus/docs/4.2.1/html/sicstus/mpg_002dref_002dopen.html">https://sicstus.sics.se/sicstus/docs/4.2.1/html/sicstus/mpg_002dref_002dopen.html</a></li>
<li>&lt;2018-12-09&gt; Ciao Prolog <a href="https://ciao-lang.org/docs/1.14/13646/CiaoDE-1.14.2-13646_ciao.html/streams_basic.html#open/4">https://ciao-lang.org/docs/1.14/13646/CiaoDE-1.14.2-13646_ciao.html/streams_basic.html#open/4</a></li>
</ul></li>
</ul>
<p>&lt;2018-11-30&gt; No arrays.</p>
<p>&lt;2018-11-30&gt; SWI-Prolog is honest: &quot;The main weakness of Prolog are algorithms that require destructive assignment, intensive array processing or bare-metal performance for e.g., processing pixels.&quot; <a href="http://www.swi-prolog.org/FAQ/PrologLAMP.txt">http://www.swi-prolog.org/FAQ/PrologLAMP.txt</a></p>
<p>&lt;2018-10-24&gt; There is no standard date/time/calendar library? There may be one? I'm still looking. library(julian)?</p>
<ul>
<li>Java 8 has &quot;java.util.time&quot;; previous Java versions can use &quot;Joda Time&quot;.</li>
<li>Haskell has the &quot;time&quot; package (&quot;Data.Time&quot; module).</li>
</ul>
<div class="local_table_of_contents">
<ul>
<li><span class="section_number">1.3.1</span><span class="section_title"><a href="#prolog-weakness-binary-array-and-low-level-input-output">&lt;2018-11-22&gt; Prolog weakness: binary array and low-level input-output</a></span><span class="word_count">(41w~1m)</span></li>
</ul>
</div>
<h4 id="prolog-weakness-binary-array-and-low-level-input-output"><span class="section_number">1.3.1</span><span class="section_title">&lt;2018-11-22&gt; Prolog weakness: binary array and low-level input-output</span></h4>
<p>Prolog doesn't have arrays.</p>
<p>Workaround: we can fake an array: Allocate with functor(T,F,N), read with arg(N,T,A), and write with nb_setarg(N,T,A).</p>
<p>Prolog doesn't have unsigned integers.</p>
<p>How fast is this?</p>
<p>This requires that the implementation doesn't limit functor arguments.</p>
<h3 id="let-me-hype-you-up."><span class="section_number">1.4</span><span class="section_title">Let me hype you up.</span></h3>
<p>(You can skip this.)</p>
<p>&lt;2018-11-30&gt; Don't take this too seriously. I'm on a honeymoon with Prolog.</p>
<p>Prolog is a <em>mind augmentation language</em>. Prolog is a mental prosthesis. With prosthetic arms, I can beat you in arm wrestling. With prosthetic legs, I can beat you in running. With prosthetic minds, I can beat you in thinking. If logic is the language of thought, then Prolog is the closest thing we have to mind dump. Offload your reasoning to computers. As Leibniz said, &quot;Let us calculate!&quot;</p>
<p>You love Lisp macros? Prolog has term_expansion/2, goal_expansion/2, op/2, and the infix operators that you have been dreaming of!</p>
<p>You love Haskell type system? In Prolog you can write your own type systems!</p>
<p>You love C++ operator overloading? In Prolog you can define your own operators with their precedences and associativities!</p>
<p>You want to beat/outdo/one-up your coworkers? Prolog is perfect for that! Unless you're low-level-programming, Prolog is the secret weapon that multiplies your productivity by 20 compared to a low-level programming language such as C, C++, Java. When you build your home, you don't build your own bricks.</p>
<p>Your coworkers are beating you with Prolog? Well, what the hell are you waiting for? Learn Prolog now, or lose your job and die in oblivion!</p>
<p>&quot;Prolog is a convenient language in which to express the semantics of other languages.&quot; <a href="https://www3.hhu.de/stups/prob/index.php/Why_Prolog%3F">https://www3.hhu.de/stups/prob/index.php/Why_Prolog%3F</a></p>
<h3 id="not-sure-yet-try-prolog-with-minimal-investment."><span class="section_number">1.5</span><span class="section_title">Not sure yet? Try Prolog with minimal investment.</span></h3>
<p>If you're not sure yet, I suggest that you read <a href="https://www.metalevel.at/prolog">Markus Triska's book &quot;The power of Prolog&quot;</a> while doodling some code on <a href="http://pengines.swi-prolog.org/apps/swish/index.html">SWISH online Prolog interpreter</a>.</p>
<h3 id="comparing-prolog-implementations"><span class="section_number">1.6</span><span class="section_title">Comparing Prolog implementations?</span></h3>
<p>I use SWI-Prolog because it's what I use in university, and because of this <a href="http://www.swi-prolog.org/features.html">SWI-Prolog sales pitch</a>.</p>
<p>This book assumes that the reader uses SWI-Prolog 7.6.4.</p>
<p>There are many Prolog implementations. Some companies have their own Prolog implementations.</p>
<p>GNU Prolog is &quot;a native-code compiler which produces standalone executables which donâ€™t rely on any byte-code emulator or meta-interpreter.&quot; <a href="https://www.semanticscholar.org/paper/On-the-Implementation-of-GNU-Prolog-Diaz-Abreu/2c4f697f96202f988602e88c49625a862a4ce696">https://www.semanticscholar.org/paper/On-the-Implementation-of-GNU-Prolog-Diaz-Abreu/2c4f697f96202f988602e88c49625a862a4ce696</a></p>
<p>See also:</p>
<ul>
<li><a href="https://en.wikipedia.org/wiki/Comparison_of_Prolog_implementations">https://en.wikipedia.org/wiki/Comparison_of_Prolog_implementations</a></li>
<li>Comparison between SWI Prolog, YAP, GNU Prolog <a href="http://www.david-reitter.com/compling/prolog/compare.html">http://www.david-reitter.com/compling/prolog/compare.html</a></li>
</ul>
<h2 id="establishing-a-workflow"><span class="section_number">2</span><span class="section_title">Establishing a workflow</span></h2>
<div class="local_table_of_contents">
<ul>
<li><span class="section_number">2.1</span><span class="section_title"><a href="#installing-swi-prolog-7.6.4-on-ubuntu-14.04">&lt;2018-10-20&gt; Installing SWI-Prolog 7.6.4 on Ubuntu 14.04</a></span><span class="word_count">(222w~2m)</span></li>
<li><span class="section_number">2.2</span><span class="section_title"><a href="#enabling-readline">Enabling readline</a></span><span class="word_count">(65w~1m)</span></li>
<li><span class="section_number">2.3</span><span class="section_title"><a href="#starting-the-interpreter-and-the-documentation-server">Starting the interpreter and the documentation server</a></span><span class="word_count">(29w~1m)</span></li>
<li><span class="section_number">2.4</span><span class="section_title"><a href="#thinking-and-editing">Thinking and editing</a></span><span class="word_count">(71w~1m)</span></li>
<li><span class="section_number">2.5</span><span class="section_title"><a href="#rebuilding">Rebuilding</a></span><span class="word_count">(70w~1m)</span></li>
<li><span class="section_number">2.6</span><span class="section_title"><a href="#trying-and-manual-testing">Trying and manual testing</a></span><span class="word_count">(121w~1m)</span></li>
<li><span class="section_number">2.7</span><span class="section_title"><a href="#seeing-source-codes-and-finding-definitions">Seeing source codes and finding definitions</a></span><span class="word_count">(49w~1m)</span></li>
<li><span class="section_number">2.8</span><span class="section_title"><a href="#troubleshooting-tracing-and-spying">Troubleshooting: tracing and spying</a></span><span class="word_count">(130w~1m)</span></li>
<li><span class="section_number">2.9</span><span class="section_title"><a href="#committing-to-a-git-repository">Committing to a Git repository</a></span><span class="word_count">(32w~1m)</span></li>
</ul>
</div>
<h3 id="installing-swi-prolog-7.6.4-on-ubuntu-14.04"><span class="section_number">2.1</span><span class="section_title">&lt;2018-10-20&gt; Installing SWI-Prolog 7.6.4 on Ubuntu 14.04</span></h3>
<p>If you are using Ubuntu 14.04, follow my instructions below. If your operating system has packaged SWI-Prolog 7.6.4 or newer, use it. Otherwise, follow the <a href="http://www.swi-prolog.org/Download.html">official instructions</a> and choose the current stable release.</p>
<p>The following guide is for installing SWI-Prolog 7.6.4 on Ubuntu 14.04.</p>
<p>Uninstall existing SWI-Prolog installations. The version packaged with Ubuntu 14.04 is too old (6.6.4). SWI-Prolog 7 fixes a lot of issues with strings in SWI-Prolog 6.</p>
<p>Install dependencies. I take this from the <a href="http://www.swi-prolog.org/build/Debian.html">Debian build instructions</a> with these changes. I replace <code>libunwind-dev</code> with <code>libunwind8-dev</code>. I remove <code>openjdk-8-jdk</code> and <code>junit</code>. I add <code>libreadline-dev</code>.</p>
<pre class="example"><code>sudo apt-get install \
        build-essential autoconf curl chrpath pkg-config \
        ncurses-dev libreadline-dev libedit-dev \
        libunwind8-dev \
        libgmp-dev \
        libssl-dev \
        unixodbc-dev \
        zlib1g-dev libarchive-dev \
        libossp-uuid-dev \
        libxext-dev libice-dev libjpeg-dev libxinerama-dev libxft-dev \
        libxpm-dev libxt-dev \
        libdb-dev \
        libpcre3-dev \
        libyaml-dev \
        libreadline-dev
</code></pre>
<p>That doesn't include the documentation dependencies because they are too big. Just read the documentation online.</p>
<p>After apt-get finishes, for security (avoiding sudo cache), close that terminal, and open a new one.</p>
<p>Download the <a href="http://www.swi-prolog.org/download/stable">source</a>.</p>
<p>Check the checksum using sha256sum.</p>
<p><code>cp -p build.templ build</code></p>
<p><code>mkdir -p $HOME/.local</code></p>
<p>Edit <code>build</code> script. Set <code>PREFIX</code> to <code>$HOME/.local</code>. Uncomment the <code>--link</code> option in <code>EXTRACFG</code> variable.</p>
<p>Run <code>./build</code>. It should take a few minutes (about 5 minutes on my 4-core 8-GB-RAM machine).</p>
<p>Ensure that <code>$HOME/.local/bin</code> is in your <code>PATH</code>. For example, I have this line somewhere near the end of my <code>~/.bashrc</code> file:</p>
<pre class="example"><code>export PATH=&quot;$PATH:$HOME/.local/bin&quot;
</code></pre>
<p>If you edit your bashrc, close your terminal and open a new one. Entering <code>swipl --version</code> should print this:</p>
<pre class="example"><code>SWI-Prolog version 7.6.4 for x86_64-linux
</code></pre>
<p>If you don't want to edit your bashrc, you can run swipl by its full path <code>~/.local/bin/swipl</code>.</p>
<h3 id="enabling-readline"><span class="section_number">2.2</span><span class="section_title">Enabling readline</span></h3>
<p>We want readline for history (Ctrl+R, Ctrl+S) and completion (Tab, Up, Down).</p>
<p>To keep the entire codebase under BSD license, SWI-Prolog doesn't enable the GPL-licensed GNU readline by default. But you can tell SWI-Prolog to use readline. Create a FILE containing this:</p>
<pre class="example"><code>:- set_prolog_flag(readline, readline).
</code></pre>
<p>Add <code>-f FILE</code> switch to the command line you use to start <code>swipl</code>.</p>
<p>Related: <a href="https://github.com/SWI-Prolog/issues/issues/72">GitHub issue #72</a>: &quot;how to build with GNU readline on linux&quot;.</p>
<h3 id="starting-the-interpreter-and-the-documentation-server"><span class="section_number">2.3</span><span class="section_title">Starting the interpreter and the documentation server</span></h3>
<p>I start SWI-Prolog with this command line:</p>
<pre class="example"><code>swipl --pldoc=DocPort -f UserInitFile -l PrologFile
</code></pre>
<p>I have enabled readline in my UserInitFile.</p>
<p>I use 4002 for DocPort. I open <a href="http://localhost:4002/pldoc/">http://localhost:4002/pldoc/</a> in my browser.</p>
<h3 id="thinking-and-editing"><span class="section_number">2.4</span><span class="section_title">Thinking and editing</span></h3>
<p>I edit some Prolog source files in Visual Studio Code with vim key bindings because I often need to duplicate a line when adding a new clause.</p>
<p>I add statements or comments.</p>
<p>I think a lot about names, representations, and relations.</p>
<p>To edit the source of a thing in PceEmacs, I have several options:</p>
<ul>
<li>I click the &quot;Edit file&quot; or &quot;Edit predicate&quot; button in pldoc server.</li>
<li>I query <code>edit(Name)</code> or <code>edit(Name/Arity)</code> in the interpreter.</li>
</ul>
<h3 id="rebuilding"><span class="section_number">2.5</span><span class="section_title">Rebuilding</span></h3>
<p>To see the updated documentation, I click &quot;Make &amp; Reload&quot; button in my pldoc website, if I haven't done so. If I have clicked that button, I simply refresh my browser with F5 or Ctrl+R.</p>
<p>To test the program, I query <code>make.</code> in the interactive prompt, and I enter some queries.</p>
<p>Warnings are errors. If there is a warning, I go back to editing. &quot;Singleton variables&quot; most likely mean there's a typo.</p>
<h3 id="trying-and-manual-testing"><span class="section_number">2.6</span><span class="section_title">Trying and manual testing</span></h3>
<p>Important: <em>Prolog source file and Prolog query prompt have different syntax.</em> A Prolog source file contains <em>statements</em>. The Prolog interpreter accepts <em>queries</em>. Pasting a file into the interpreter does <em>not</em> load the file; this is contrary to Lisp/Python/Ruby interpreters.</p>
<p>The prompt <code>?-</code> means that the interpreter is expecting a <em>query</em>. However, we can enter temporary statements:</p>
<ul>
<li>Type the query <code>[user].</code>. The prompt changes to <code>|:</code>. We're now at the statement prompt. (The syntax <code>:- [foo].</code> is shorthand for <code>:- consult(foo).</code> which is documented in <a href="http://www.swi-prolog.org/pldoc/man?predicate=consult/1">consult/1</a>.)</li>
<li>Enter several lines of statements.</li>
<li>End with a new line and Control+D. We're now back at the query prompt.</li>
</ul>
<p>Those temporary statements disappear when the interpreter quits.</p>
<p>Usually, after trying my changes, I go back to thinking and editing.</p>
<h3 id="seeing-source-codes-and-finding-definitions"><span class="section_number">2.7</span><span class="section_title">Seeing source codes and finding definitions</span></h3>
<p>To show the canonical representation (properly-parenthesized tree form) of a term, query <code>write_canonical(Term)</code>.</p>
<p>To see the source code of a predicate, query <code>edit(Name)</code> or <code>edit(Name/Arity)</code> or <code>listing(Module:Name)</code> or <code>listing(Name)</code>. We can see the source code of libraries. We can easily find where things are defined.</p>
<h3 id="troubleshooting-tracing-and-spying"><span class="section_number">2.8</span><span class="section_title">Troubleshooting: tracing and spying</span></h3>
<p>Having to use the tracer means I have failed to design unsurprising programs. It means that my past self have failed to communicate to my future self.</p>
<p>Sometimes I query debug/0 to disable optimizations so that errors have full stack trace. Sometimes I need to restart the interpreter and query debug/0 before running my development web server. See also nodebug/0.</p>
<p>I start tracing a goal with the query <code>trace, Goal.</code> In the tracer prompt:</p>
<ul>
<li><code>a</code> aborts (calls abort/0; goes back to toplevel interpreter prompt)</li>
<li><code>c</code> creeps (&quot;step into&quot; in modern debugger parlance)</li>
<li><code>s</code> skips (&quot;step over&quot; in modern debugger parlance)</li>
<li><code>l</code> leaps (&quot;continue&quot; in modern debugger parlance)</li>
<li>Type <code>/f</code> in the tracer prompt to run to the next failure.</li>
</ul>
<p>I stop tracing by notrace/0.</p>
<p>TODO spy/1, tspy/1</p>
<p>trace/0, gtrace/0, notrace/0</p>
<p>These resources say something about fixing programming errors:</p>
<ul>
<li><a href="https://www.cs.ucsb.edu/~kyledewey/cs162w15/debugging_prolog.html">https://www.cs.ucsb.edu/~kyledewey/cs162w15/debugging_prolog.html</a></li>
<li><a href="http://www.swi-prolog.org/pldoc/man?section=debugoverview">http://www.swi-prolog.org/pldoc/man?section=debugoverview</a></li>
<li><a href="https://www.metalevel.at/prolog/testing">https://www.metalevel.at/prolog/testing</a></li>
<li><a href="https://www.metalevel.at/prolog/debugging">https://www.metalevel.at/prolog/debugging</a></li>
</ul>
<h3 id="committing-to-a-git-repository"><span class="section_number">2.9</span><span class="section_title">Committing to a Git repository</span></h3>
<p>I commit my work to Git repository with Emacs Magit or git-gui. I sanity-check the tree with <code>gitk --all</code>. I push my work to my GitHub work repository.</p>
<h2 id="error-handling-and-logging"><span class="section_number">3</span><span class="section_title">Error handling and logging</span></h2>
<div class="local_table_of_contents">
<ul>
<li><span class="section_number">3.1</span><span class="section_title"><a href="#fail-throw-stack-traces">Fail, throw, stack traces</a></span><span class="word_count">(57w~1m)</span></li>
<li><span class="section_number">3.2</span><span class="section_title"><a href="#structured-logging">Structured logging</a></span><span class="word_count">(105w~1m)</span></li>
</ul>
</div>
<h3 id="fail-throw-stack-traces"><span class="section_number">3.1</span><span class="section_title">Fail, throw, stack traces</span></h3>
<p>Two options: throw or fail.</p>
<p>If backtracking doesn't make sense, then throw, don't fail.</p>
<pre class="example"><code>person(joe).
pair_first_second(pair(A,_), A, B).
</code></pre>
<p>Should <code>person(1)</code> fail or throw? Should <code>pair_first_second(foo)</code> fail or throw?</p>
<p>Fail means try the next alternative.</p>
<p>If you want throw/1 with stack trace, you must write it like <code>throw(error(Something, _))</code>.</p>
<p>A <em>function</em> should always throw and not fail, when an argument has a wrong type.</p>
<pre class="example"><code>negate(A,B) :- integer(A), !, B is -A.
negate(A,B) :- integer(B), !, A is -B.
negate(A,B) :- throw(error(negate(A,B),_)).
</code></pre>
<ul>
<li><a href="https://wiki.colby.edu/display/~amvartan/Exception+and+Error+Handling+in+Prolog">https://wiki.colby.edu/display/~amvartan/Exception+and+Error+Handling+in+Prolog</a></li>
<li><a href="https://stackoverflow.com/questions/32968148/why-throw-an-exception-in-prolog-instead-a-simple-fail">https://stackoverflow.com/questions/32968148/why-throw-an-exception-in-prolog-instead-a-simple-fail</a></li>
</ul>
<h3 id="structured-logging"><span class="section_number">3.2</span><span class="section_title">Structured logging</span></h3>
<p>This is how we log messages in Prolog:</p>
<ul>
<li>Design a term that represents the <em>meaning</em> of the message.</li>
<li>Call <code>print_message(Kind,Message)</code> where Message is that term.</li>
<li>Extend <code>prolog:message//1</code> to translate that term to string.</li>
</ul>
<pre class="example"><code>% Syntax:
prolog:message(Term) --&gt; Lines.

% Example:
prolog:message(Term) --&gt;
    [ &#39;The term is ~q.&#39;-[Term] ],
    [ &#39;This is the second line in the message.&#39; ].
</code></pre>
<p>Syntax description:</p>
<ul>
<li>'Lines' is a list of 'Line's.
<ul>
<li>A 'Line' has this shape:
<ul>
<li>Format-Args: 'Format' and 'Args' are the same arguments accepted by format/2.</li>
<li>Terms of other shapes are converted to string.</li>
</ul></li>
</ul></li>
</ul>
<p>The printed message is the concatenation of all 'Line's.</p>
<p>TODO:</p>
<ul>
<li>How do we log to file?</li>
<li>How do we rotate log files?</li>
</ul>
<p>References:</p>
<ul>
<li><a href="http://www.pathwayslms.com/swipltuts/message/index.html">Anne Ogborn's &quot;Printing Messages in SWI-Prolog&quot;</a></li>
<li><a href="http://www.swi-prolog.org/pldoc/man?section=printmsg">http://www.swi-prolog.org/pldoc/man?section=printmsg</a></li>
<li><a href="http://www.swi-prolog.org/pldoc/man?section=debug">http://www.swi-prolog.org/pldoc/man?section=debug</a></li>
<li><a href="https://www.metalevel.at/prolog/business">https://www.metalevel.at/prolog/business</a></li>
</ul>
<p>Usability issues:</p>
<ul>
<li>Where is <code>prolog:message//1</code> documented? I found that by trial-and-error.</li>
<li>Why do we require people to understand DCG rules before they can use the messaging system?</li>
</ul>
<h2 id="modeling-things-in-prolog"><span class="section_number">4</span><span class="section_title">Modeling things in Prolog</span></h2>
<div class="local_table_of_contents">
<ul>
<li><span class="section_number">4.1</span><span class="section_title"><a href="#declarative-reading">Declarative reading</a></span><span class="word_count">(55w~1m)</span></li>
<li><span class="section_number">4.2</span><span class="section_title"><a href="#production-prolog">Production prolog</a></span><span class="word_count">(29w~1m)</span></li>
<li><span class="section_number">4.3</span><span class="section_title"><a href="#predicate-for-membership">Predicate for membership</a></span><span class="word_count">(5w~1m)</span></li>
<li><span class="section_number">4.4</span><span class="section_title"><a href="#designing-predicates-naming-is-hard.">Designing predicates: naming is hard.</a></span><span class="word_count">(97w~1m)</span></li>
<li><span class="section_number">4.5</span><span class="section_title"><a href="#naming-the-parts-of-a-list-head-tail-and-butt">Naming the parts of a list: head, tail, and butt</a></span><span class="word_count">(23w~1m)</span></li>
<li><span class="section_number">4.6</span><span class="section_title"><a href="#total-relational-programming-relational-programs-that-can-be-proven-to-terminate">Total relational programming? Relational programs that can be proven to terminate?</a></span><span class="word_count">(48w~1m)</span></li>
<li><span class="section_number">4.7</span><span class="section_title"><a href="#prolog-procedural-semantics">Prolog procedural semantics</a></span><span class="word_count">(331w~2m)</span></li>
<li><span class="section_number">4.8</span><span class="section_title"><a href="#which-string-representation-should-i-use">Which string representation should I use?</a></span><span class="word_count">(153w~1m)</span></li>
</ul>
</div>
<h3 id="declarative-reading"><span class="section_number">4.1</span><span class="section_title">Declarative reading</span></h3>
<p><code>A :- B</code> means &quot;to prove A, prove B&quot;.</p>
<p><code>p(a,b) :- Q</code> is a shorthand of <code>p(A,B) :- A=a, B=b, Q</code>.</p>
<p><code>A :- B</code> is pure iff all reordering of the phrases of B doesn't change the result?</p>
<p><code>\+</code> means &quot;not provable&quot;, not &quot;not&quot;</p>
<p>Every variable is implicitly universally quantified.</p>
<p><code>?- Q</code> means we ask Prolog to prove <code>Q</code>.</p>
<h3 id="production-prolog"><span class="section_number">4.2</span><span class="section_title">Production prolog</span></h3>
<p>&quot;Production Prolog&quot; by Michael Hendricks; Strange Loop 2014 <a href="https://www.youtube.com/watch?v=G_eYTctGZw8">https://www.youtube.com/watch?v=G_eYTctGZw8</a></p>
<ul>
<li>This mentions &quot;Mercury's bisecting debugger&quot;</li>
<li>mavis library for optional type declarations</li>
<li>julian library for dates</li>
<li>time/1 for measuring how long a goal takes</li>
<li>library(spawn)?</li>
</ul>
<h3 id="predicate-for-membership"><span class="section_number">4.3</span><span class="section_title">Predicate for membership</span></h3>
<p>Membership person(joe) positive(1)</p>
<h3 id="designing-predicates-naming-is-hard."><span class="section_number">4.4</span><span class="section_title">Designing predicates: naming is hard.</span></h3>
<p>The name of a relation should describe the relationship.</p>
<p>If we intend that there is only one relation between A and B that makes sense, then we may name that relation A_B. But:</p>
<ul>
<li>What if A or B contains underscores?</li>
<li>Why do we prefer <code>father_child</code> to <code>beget</code> or <code>sire</code>?</li>
</ul>
<p>is_thing(A).</p>
<p>A procedure's name should begin with a verb.</p>
<p>Order the parameters from the most likely to be bound. If parameter A is more likely to be more bound than parameter B, then A should come before B. Example: Write list_length/2 instead of length_list/2. Unfortunately not everyone follows this convention.</p>
<h3 id="naming-the-parts-of-a-list-head-tail-and-butt"><span class="section_number">4.5</span><span class="section_title">Naming the parts of a list: head, tail, and butt</span></h3>
<ul>
<li>&quot;head&quot; is the first element</li>
<li>&quot;tail&quot; is everything but the head</li>
<li>&quot;butt&quot; is the last element</li>
</ul>
<h3 id="total-relational-programming-relational-programs-that-can-be-proven-to-terminate"><span class="section_number">4.6</span><span class="section_title">Total relational programming? Relational programs that can be proven to terminate?</span></h3>
<p>A total relation is a relation that is defined for every element in its domain.</p>
<p>If there is total functional programming, then there should be total relational programming.</p>
<p>It is too easy to write a Prolog program that doesn't terminate.</p>
<h3 id="prolog-procedural-semantics"><span class="section_number">4.7</span><span class="section_title">Prolog procedural semantics</span></h3>
<div class="local_table_of_contents">
<ul>
<li><span class="section_number">4.7.1</span><span class="section_title"><a href="#swapped-phrases">Swapped phrases</a></span><span class="word_count">(24w~1m)</span></li>
<li><span class="section_number">4.7.2</span><span class="section_title"><a href="#understanding-depth-first-search-backtracking-choice-points-performance-and-cuts">Understanding depth-first search, backtracking, choice points, performance, and cuts</a></span><span class="word_count">(171w~1m)</span></li>
<li><span class="section_number">4.7.3</span><span class="section_title"><a href="#prolog-is-a-depth-first-brute-forcer">Prolog is a depth-first brute-forcer</a></span><span class="word_count">(136w~1m)</span></li>
</ul>
</div>
<h4 id="swapped-phrases"><span class="section_number">4.7.1</span><span class="section_title">Swapped phrases</span></h4>
<p>There is only a small syntactic difference between <code>dfs</code> and <code>bfs</code> (it's just flipped order).</p>
<p>Which one exploits tail call optimization (last call optimization)?</p>
<div class="sourceCode" id="cb9"><pre class="sourceCode prolog"><code class="sourceCode prolog"><a class="sourceLine" id="cb9-1" title="1">bit(<span class="dv">0</span>)<span class="kw">.</span></a>
<a class="sourceLine" id="cb9-2" title="2">bit(<span class="dv">1</span>)<span class="kw">.</span></a>
<a class="sourceLine" id="cb9-3" title="3"></a>
<a class="sourceLine" id="cb9-4" title="4">dfs([])<span class="kw">.</span></a>
<a class="sourceLine" id="cb9-5" title="5">dfs([<span class="dt">H</span><span class="fu">|</span><span class="dt">T</span>]) <span class="kw">:-</span> bit(<span class="dt">H</span>)<span class="kw">,</span> dfs(<span class="dt">T</span>)<span class="kw">.</span></a>
<a class="sourceLine" id="cb9-6" title="6"></a>
<a class="sourceLine" id="cb9-7" title="7">bfs([])<span class="kw">.</span></a>
<a class="sourceLine" id="cb9-8" title="8">bfs([<span class="dt">H</span><span class="fu">|</span><span class="dt">T</span>]) <span class="kw">:-</span> bfs(<span class="dt">T</span>)<span class="kw">,</span> bit(<span class="dt">H</span>)<span class="kw">.</span></a></code></pre></div>
<h4 id="understanding-depth-first-search-backtracking-choice-points-performance-and-cuts"><span class="section_number">4.7.2</span><span class="section_title">Understanding depth-first search, backtracking, choice points, performance, and cuts</span></h4>
<p>Save this knowledge base into a file, and load it into Prolog.</p>
<div class="sourceCode" id="cb10"><pre class="sourceCode prolog"><code class="sourceCode prolog"><a class="sourceLine" id="cb10-1" title="1">a(<span class="dv">0</span>)<span class="kw">.</span></a>
<a class="sourceLine" id="cb10-2" title="2">a(<span class="dv">1</span>)<span class="kw">.</span></a>
<a class="sourceLine" id="cb10-3" title="3"></a>
<a class="sourceLine" id="cb10-4" title="4">b(<span class="dv">0</span>)<span class="kw">.</span></a>
<a class="sourceLine" id="cb10-5" title="5">b(<span class="dv">1</span>)<span class="kw">.</span></a></code></pre></div>
<p>Run the query <code>a(A), b(B).</code> and press <code>;</code> until Prolog fails.</p>
<p>This is what Prolog finds (we remove the newlines to make it more readable):</p>
<pre class="example"><code>A = B, B = 0 ;
A = 0, B = 1 ;
A = 1, B = 0 ;
A = B, B = 1.
</code></pre>
<p>This is the search space (search tree) of that query.</p>
<pre class="example"><code>       ?- a(A), b(B).
      /              \
    A = 0           A = 1
   /     \         /     \
B = 0   B = 1   B = 0   B = 1
</code></pre>
<p>Prolog traverses that tree in depth-first order as follows:</p>
<pre class="example"><code>- ?- a(A), b(B).
  - A = 0
    - B = 0
    - B = 1
  - A = 1
    - B = 0
    - B = 1
</code></pre>
<p>The important things to infer from this experiment are:</p>
<ul>
<li>Prolog repeats the work on <code>b</code> as many times as the number of ways of satisfying <code>a</code>. If <code>a</code> can be satisfied in N ways, and satisfying <code>b</code> is a lot of work, then Prolog may do that work N times, although the work produces the same result.</li>
<li>Everything to the right of an infinite branch will never be visited.</li>
</ul>
<p>What is a choice point?</p>
<p>A cut makes <code>a(A), b(B)</code> and <code>b(B), a(A)</code> return different results.</p>
<p>How far does a cut cut?</p>
<p>&quot;The craft of Prolog&quot; defines three kinds of cuts: red, green, and blue.</p>
<ul>
<li>A red cut destroys the logical meaning of a program. Green and blue cuts don't.</li>
</ul>
<h4 id="prolog-is-a-depth-first-brute-forcer"><span class="section_number">4.7.3</span><span class="section_title">Prolog is a depth-first brute-forcer</span></h4>
<p>But you can emulate other search algorithms too.</p>
<ol>
<li><p>Non-termination pitfalls, and how to generate terms correctly</p>
<p>Sometimes we forget that Prolog, on failure, backtracks (retries), not stops.</p>
<p>Sometimes we focus too much on the logical reading and neglect the procedural reading.</p>
<p>For example, suppose that you want to generate all lists whose length doesn't exceed 2.</p>
<p>The following is a mathematically correct statement about that fact, but it doesn't work in Prolog. It has correct logical reading, but incorrect procedural reading. If you keep pressing <code>;</code>, this will fail to terminate.</p>
<div class="sourceCode" id="cb14"><pre class="sourceCode prolog"><code class="sourceCode prolog"><a class="sourceLine" id="cb14-1" title="1"><span class="fu">?-</span> length(<span class="dt">A</span><span class="kw">,</span> <span class="dt">LA</span>)<span class="kw">,</span> <span class="dt">LA</span> <span class="dt">=&lt;</span> <span class="dv">2</span><span class="kw">.</span></a></code></pre></div>
<p>The correct way to do that is to use <code>between/3</code> (inclusive):</p>
<div class="sourceCode" id="cb15"><pre class="sourceCode prolog"><code class="sourceCode prolog"><a class="sourceLine" id="cb15-1" title="1"><span class="fu">?-</span> between(<span class="dv">0</span><span class="kw">,</span> <span class="dv">2</span><span class="kw">,</span> <span class="dt">LA</span>)<span class="kw">,</span> length(<span class="dt">A</span><span class="kw">,</span> <span class="dt">LA</span>)<span class="kw">.</span></a></code></pre></div>
<p>We can also use the <code>clpfd</code> library:</p>
<div class="sourceCode" id="cb16"><pre class="sourceCode prolog"><code class="sourceCode prolog"><a class="sourceLine" id="cb16-1" title="1"><span class="kw">:-</span> use_module(library(clpfd))<span class="kw">.</span></a>
<a class="sourceLine" id="cb16-2" title="2"></a>
<a class="sourceLine" id="cb16-3" title="3"><span class="fu">?-</span> <span class="dt">LA</span> in <span class="dv">0</span>..<span class="dv">2</span><span class="kw">,</span> indomain(<span class="dt">LA</span>)<span class="kw">,</span> length(<span class="dt">A</span><span class="kw">,</span> <span class="dt">LA</span>)<span class="kw">.</span></a></code></pre></div>
<p>We shouldn't have to resort to cuts:</p>
<div class="sourceCode" id="cb17"><pre class="sourceCode prolog"><code class="sourceCode prolog"><a class="sourceLine" id="cb17-1" title="1"><span class="co">% Don&#39;t do this.</span></a>
<a class="sourceLine" id="cb17-2" title="2"><span class="fu">?-</span> length(<span class="dt">A</span><span class="kw">,</span> <span class="dt">LA</span>)<span class="kw">,</span> (<span class="dt">LA</span> <span class="dt">=&lt;</span> <span class="dv">2</span> <span class="kw">-&gt;</span> <span class="kw">true;</span> <span class="kw">!,</span> <span class="kw">fail</span>)<span class="kw">.</span></a></code></pre></div>
<p>See also:</p>
<ul>
<li><a href="https://www.metalevel.at/prolog/nontermination">https://www.metalevel.at/prolog/nontermination</a>
<ul>
<li>&quot;[Non-termination is] common among beginners, and often lead them to perceive Prolog as 'slow', when in fact their program does not terminate <em>at all</em>.&quot;</li>
</ul></li>
</ul></li>
</ol>
<h3 id="which-string-representation-should-i-use"><span class="section_number">4.8</span><span class="section_title">Which string representation should I use?</span></h3>
<p>The answer: Dedicated double-quoted string type (SWI-Prolog 7).</p>
<ul>
<li>&quot;Strings are distinct from lists&quot; <a href="http://www.swi-prolog.org/pldoc/man?section=strings">http://www.swi-prolog.org/pldoc/man?section=strings</a></li>
<li>&quot;Why has the representation of double quoted text changed?&quot; <a href="http://www.swi-prolog.org/pldoc/man?section=ext-dquotes-motivation">http://www.swi-prolog.org/pldoc/man?section=ext-dquotes-motivation</a></li>
<li>2013 article &quot;Strings in ECLiPSe 6.2, SWI-7 and YAP&quot; <a href="http://eclipseclp.org/wiki/Prolog/Strings">http://eclipseclp.org/wiki/Prolog/Strings</a>
<ul>
<li>&quot;With SWI-7 and ECLiPSe 6.2 string support has been harmonized, and YAP is expected to agree as well.&quot;</li>
<li>&quot;Agreed Common Functionality&quot;</li>
<li>&quot;Situation before December 2013&quot;</li>
</ul></li>
</ul>
<p>Non-answer: Edinburgh style: Double-quoted string as list of integer codes (default mode of SWI-Prolog 6.6.4 on Ubuntu 14.04):</p>
<ul>
<li>A Unicode character is represented as an integer that is the code of that character.</li>
<li>A string is represented as a list of codes. Example: <code>&quot;aaa&quot; = [97,97,97]</code>.</li>
<li>This behavior changed in SWI-Prolog 7.</li>
<li>This was in 1993 ISO standard draft. <a href="http://fsl.cs.illinois.edu/images/9/9c/PrologStandard.pdf">http://fsl.cs.illinois.edu/images/9/9c/PrologStandard.pdf</a>
<ul>
<li>This wasn't in the final version?</li>
</ul></li>
</ul>
<p>Non-answer: Double-quoted string as list of one-character atoms:</p>
<ul>
<li>A Unicode character is represented as a one-character atom.</li>
<li>A string is represented as a list of one-character atoms. Example: <code>&quot;aaa&quot; = [a,a,a]</code>.</li>
<li>This assumes that the Prolog implementation garbage-collects atoms.</li>
</ul>
<h2 id="writing-extensible-knowledge-bases"><span class="section_number">5</span><span class="section_title">Writing extensible knowledge bases</span></h2>
<div class="local_table_of_contents">
<ul>
<li><span class="section_number">5.1</span><span class="section_title"><a href="#multifile-or-parametrization-and-catamorphism">Multifile or parametrization-and-catamorphism?</a></span><span class="word_count">(13w~1m)</span></li>
</ul>
</div>
<h3 id="multifile-or-parametrization-and-catamorphism"><span class="section_number">5.1</span><span class="section_title">Multifile or parametrization-and-catamorphism?</span></h3>
<pre class="example"><code>:- multifile foo_ext/1.

foo(A) :- foo_ext(A).
</code></pre>
<p>Catamorphism:</p>
<pre class="example"><code>foo(F,A) :- call(F,A).
</code></pre>
<p>Don't multifile if clause order matters. Reloading changes clause order. <a href="http://www.swi-prolog.org/FAQ/Multifile.html">http://www.swi-prolog.org/FAQ/Multifile.html</a></p>
<h2 id="where-things-get-ugly"><span class="section_number">6</span><span class="section_title">Where things get ugly</span></h2>
<div class="local_table_of_contents">
<ul>
<li><span class="section_number">6.1</span><span class="section_title"><a href="#cuts">Cuts</a></span><span class="word_count">(9w~1m)</span></li>
<li><span class="section_number">6.2</span><span class="section_title"><a href="#speeding-things-up">Speeding things up</a></span><span class="word_count">(30w~1m)</span></li>
<li><span class="section_number">6.3</span><span class="section_title"><a href="#functionalexpression-style-sometimes-beats-relationalunification-style">Functional/expression style sometimes beats relational/unification style</a></span><span class="word_count">(93w~1m)</span></li>
<li><span class="section_number">6.4</span><span class="section_title"><a href="#directives-like---op-complicate-parsing-a-prolog-source-code.">Directives like <code>:- op</code> complicate parsing a Prolog source code.</a></span><span class="word_count">(10w~1m)</span></li>
<li><span class="section_number">6.5</span><span class="section_title"><a href="#zero-arity-compound-term">Zero-arity compound term</a></span><span class="word_count">(15w~1m)</span></li>
</ul>
</div>
<h3 id="cuts"><span class="section_number">6.1</span><span class="section_title">Cuts</span></h3>
<ul>
<li>slide 5-28, pitfalls in implementing abs with cut <a href="http://users.informatik.uni-halle.de/~brass/lp06/c5_propr.pdf">http://users.informatik.uni-halle.de/~brass/lp06/c5_propr.pdf</a></li>
</ul>
<h3 id="speeding-things-up"><span class="section_number">6.2</span><span class="section_title">Speeding things up</span></h3>
<div class="local_table_of_contents">
<ul>
<li><span class="section_number">6.2.1</span><span class="section_title"><a href="#profiling-finding-where-your-program-spends-time-finding-where-it-is-slow-diagnosing-slowness">Profiling: finding where your program spends time; finding where it is slow; diagnosing slowness</a></span><span class="word_count">(28w~1m)</span></li>
</ul>
</div>
<h4 id="profiling-finding-where-your-program-spends-time-finding-where-it-is-slow-diagnosing-slowness"><span class="section_number">6.2.1</span><span class="section_title">Profiling: finding where your program spends time; finding where it is slow; diagnosing slowness</span></h4>
<p>To run your <code>Goal</code> with profiling, simply query <code>profile(Goal)</code>.</p>
<p>Profiling couldn't be any simpler than this!</p>
<h3 id="functionalexpression-style-sometimes-beats-relationalunification-style"><span class="section_number">6.3</span><span class="section_title">Functional/expression style sometimes beats relational/unification style</span></h3>
<pre class="example"><code>-- Functional/expression style
g (f0 x0) (f1 x1) (f2 x2)

% Relational/unification style
f0(X0, Y0), f1(X1, Y1), f2(X2, Y2), g(Y0, Y1, Y2, Z).
</code></pre>
<p>Example where functional style wins:</p>
<ul>
<li>string formatting</li>
<li>number crunching</li>
</ul>
<p>If backtracking isn't involved, functional style wins (is more concise than relational style).</p>
<p>If computation is reversible, relational style wins (half the amount of code of functional style).</p>
<p>We should use both styles depending on circumstances.</p>
<p>We can define a functional/expression/applicative/evaluative sublanguage in Prolog, roughly like this:</p>
<div class="sourceCode" id="cb21"><pre class="sourceCode prolog"><code class="sourceCode prolog"><a class="sourceLine" id="cb21-1" title="1">eval((<span class="dt">A</span> <span class="kw">=</span> <span class="dt">B</span>)<span class="kw">,</span> <span class="dt">Val</span>) <span class="kw">:-</span> <span class="dt">A</span> <span class="kw">=</span> <span class="dt">B</span><span class="kw">,</span> eval(<span class="dt">B</span><span class="kw">,</span> <span class="dt">Val</span>)<span class="kw">,</span> <span class="kw">!.</span></a>
<a class="sourceLine" id="cb21-2" title="2">eval(<span class="dt">F</span><span class="kw">,</span> <span class="dt">Val</span>) <span class="kw">:-</span> <span class="dt">callable</span>(<span class="dt">F</span>)<span class="kw">,</span> <span class="kw">call</span>(<span class="dt">F</span><span class="kw">,</span> <span class="dt">Val</span>)<span class="kw">,</span> <span class="kw">!.</span> <span class="co">% lots of hand-waving here</span></a>
<a class="sourceLine" id="cb21-3" title="3"><span class="co">% etc.</span></a></code></pre></div>
<p>Haskell is weak against the AST decoration problem. Dynamic languages (Scheme, JavaScript, Prolog) / gradual-typed languages (TypeScript) beat static languages (Haskell) on the AST decoration problem. How about Ocaml polymorphic variants?</p>
<p>Should we move from Prolog to Scheme/miniKanren or Mercury?</p>
<h3 id="directives-like---op-complicate-parsing-a-prolog-source-code."><span class="section_number">6.4</span><span class="section_title">Directives like <code>:- op</code> complicate parsing a Prolog source code.</span></h3>
<h3 id="zero-arity-compound-term"><span class="section_number">6.5</span><span class="section_title">Zero-arity compound term</span></h3>
<p>Use compound_name_arity/3 instead of functor/3, but this seems to be an SWI-Prolog extension.</p>
<p><a href="http://www.swi-prolog.org/pldoc/man?section=ext-compound-zero">http://www.swi-prolog.org/pldoc/man?section=ext-compound-zero</a></p>
<h2 id="writing-enterprise-web-applications"><span class="section_number">7</span><span class="section_title">Writing enterprise web applications?</span></h2>
<div class="local_table_of_contents">
<ul>
<li><span class="section_number">7.1</span><span class="section_title"><a href="#comparison-between-ontology-relational-programming-and-database-programming">Comparison between ontology, relational programming, and database programming</a></span><span class="word_count">(30w~1m)</span></li>
<li><span class="section_number">7.2</span><span class="section_title"><a href="#knowledge-representation-and-software-specification">Knowledge representation and software specification</a></span><span class="word_count">(53w~1m)</span></li>
<li><span class="section_number">7.3</span><span class="section_title"><a href="#logic-programming-vs-theorem-proving">Logic programming vs theorem proving</a></span><span class="word_count">(5w~1m)</span></li>
<li><span class="section_number">7.4</span><span class="section_title"><a href="#swi-prolog-postgresql-and-odbc">SWI-Prolog, PostgreSQL, and ODBC</a></span><span class="word_count">(44w~1m)</span></li>
<li><span class="section_number">7.5</span><span class="section_title"><a href="#deductive-databases-and-datalog">Deductive databases and Datalog?</a></span><span class="word_count">(4w~1m)</span></li>
</ul>
</div>
<h3 id="comparison-between-ontology-relational-programming-and-database-programming"><span class="section_number">7.1</span><span class="section_title">Comparison between ontology, relational programming, and database programming</span></h3>
<p>Open World Assumption vs Closed World Assumption <a href="http://www.mkbergman.com/852/the-open-world-assumption-elephant-in-the-room/">http://www.mkbergman.com/852/the-open-world-assumption-elephant-in-the-room/</a></p>
<p>How do we combine closed-world assumption (logic programming / relational database) and open-world assumption (web ontology)?</p>
<h3 id="knowledge-representation-and-software-specification"><span class="section_number">7.2</span><span class="section_title">Knowledge representation and software specification</span></h3>
<div class="local_table_of_contents">
<ul>
<li><span class="section_number">7.2.1</span><span class="section_title"><a href="#their-relationships">Their relationships</a></span><span class="word_count">(45w~1m)</span></li>
<li><span class="section_number">7.2.2</span><span class="section_title"><a href="#executable-specification">Executable specification?</a></span><span class="word_count">(5w~1m)</span></li>
</ul>
</div>
<h4 id="their-relationships"><span class="section_number">7.2.1</span><span class="section_title">Their relationships</span></h4>
<ul>
<li>2010, &quot;Functional-Logic Programming Lecture Notes&quot;, Harold Boley, slides, <a href="http://www.cs.unb.ca/~boley/FLP/cs6905FLP.pdf">pdf</a>
<ul>
<li>Knowledge representation in AI roughly corresponds to software specification in software engineering.</li>
<li>Declarative programs can be thought as executable specifications.</li>
<li>Invertibility principle (slide 36)</li>
<li>Nesting/conjunction principle (slide 46)</li>
<li>Unification principle (slide 50)</li>
<li>Amalgamation/integration principle (slide 55)</li>
<li>That's a long deck: 270 slides.</li>
</ul></li>
</ul>
<h4 id="executable-specification"><span class="section_number">7.2.2</span><span class="section_title">Executable specification?</span></h4>
<ul>
<li>lightweight executable mathematics <a href="https://www.cl.cam.ac.uk/~pes20/lem/">https://www.cl.cam.ac.uk/~pes20/lem/</a></li>
</ul>
<h3 id="logic-programming-vs-theorem-proving"><span class="section_number">7.3</span><span class="section_title">Logic programming vs theorem proving</span></h3>
<ul>
<li><a href="https://stackoverflow.com/questions/36335633/difference-between-logic-programming-and-automated-theorem-proving">https://stackoverflow.com/questions/36335633/difference-between-logic-programming-and-automated-theorem-proving</a></li>
<li><a href="https://en.wikipedia.org/wiki/Automated_theorem_proving">https://en.wikipedia.org/wiki/Automated_theorem_proving</a></li>
</ul>
<h3 id="swi-prolog-postgresql-and-odbc"><span class="section_number">7.4</span><span class="section_title">SWI-Prolog, PostgreSQL, and ODBC</span></h3>
<p>Install the Ubuntu 14.04 package <code>odbc-postgresql</code>.</p>
<p>I want my application to self-contain its configuration. I don't configure ODBC INI files.</p>
<p>ODBC Data Source Name (DSN) connection string</p>
<p>Relevant commands: <code>odbcinst -j</code></p>
<p>The file <code>/etc/odbcinst.ini</code> contains a list of driver names.</p>
<p><a href="http://www.swi-prolog.org/pldoc/doc_for?object=section(%2527packages/cql.html%2527)">SWI-Prolog CQL documentation</a> doesn't inspire confidence.</p>
<h3 id="deductive-databases-and-datalog"><span class="section_number">7.5</span><span class="section_title">Deductive databases and Datalog?</span></h3>
<h2 id="theories"><span class="section_number">8</span><span class="section_title">Theories</span></h2>
<div class="local_table_of_contents">
<ul>
<li><span class="section_number">8.1</span><span class="section_title"><a href="#relational-multidirectional-logic-programming">Relational-multidirectional-logic programming?</a></span><span class="word_count">(2w~1m)</span></li>
<li><span class="section_number">8.2</span><span class="section_title"><a href="#embedding-prologhaskell-in-haskellprolog">Embedding Prolog/Haskell in Haskell/Prolog</a></span><span class="word_count">(114w~1m)</span></li>
<li><span class="section_number">8.3</span><span class="section_title"><a href="#how-are-prolog-and-lisp-similar">How are Prolog and Lisp similar?</a></span><span class="word_count">(56w~1m)</span></li>
<li><span class="section_number">8.4</span><span class="section_title"><a href="#comparison-between-what-is-difficult-in-various-programming-languages">Comparison between what is difficult in various programming languages</a></span><span class="word_count">(50w~1m)</span></li>
<li><span class="section_number">8.5</span><span class="section_title"><a href="#comparison-with-other-relational-programming-languages">Comparison with other relational programming languages</a></span><span class="word_count">(93w~1m)</span></li>
<li><span class="section_number">8.6</span><span class="section_title"><a href="#two-camps-in-programming">Two camps in programming</a></span><span class="word_count">(97w~1m)</span></li>
<li><span class="section_number">8.7</span><span class="section_title"><a href="#goedel-is-intended-to-be-a-declarative-successor-to-prolog.">&quot;GOEDEL is intended to be a declarative successor to Prolog.&quot;</a></span><span class="word_count">(20w~1m)</span></li>
</ul>
</div>
<h3 id="relational-multidirectional-logic-programming"><span class="section_number">8.1</span><span class="section_title">Relational-multidirectional-logic programming?</span></h3>
<h3 id="embedding-prologhaskell-in-haskellprolog"><span class="section_number">8.2</span><span class="section_title">Embedding Prolog/Haskell in Haskell/Prolog</span></h3>
<div class="local_table_of_contents">
<ul>
<li><span class="section_number">8.2.1</span><span class="section_title"><a href="#embedding-prolog-in-haskell">Embedding Prolog in Haskell</a></span><span class="word_count">(57w~1m)</span></li>
<li><span class="section_number">8.2.2</span><span class="section_title"><a href="#embedding-haskell-in-prolog-nobody-is-talking-about-this">Embedding Haskell in Prolog: Nobody is talking about this?</a></span><span class="word_count">(55w~1m)</span></li>
</ul>
</div>
<h4 id="embedding-prolog-in-haskell"><span class="section_number">8.2.1</span><span class="section_title">Embedding Prolog in Haskell</span></h4>
<ul>
<li>1999 article &quot;Embedding Prolog in Haskell&quot; <a href="https://pdfs.semanticscholar.org/7c46/5d25205830735d0a034532746b7243221eca.pdf">https://pdfs.semanticscholar.org/7c46/5d25205830735d0a034532746b7243221eca.pdf</a>
<ul>
<li>&quot;We propose an embedding of logic programming into lazy functional programming in which each predicate in a Prolog program becomes a Haskell function, in such a way that both the declarative and the procedural reading of the Prolog predicate are preserved.&quot;</li>
</ul></li>
<li>1988 article &quot;Towards functional programming in Prolog&quot; <a href="ftp://obaluae.inf.puc-rio.br/pub/docs/Publications/88_AI_Furtado_SINPLAN.Not.pdf">ftp://obaluae.inf.puc-rio.br/pub/docs/Publications/88_AI_Furtado_SINPLAN.Not.pdf</a></li>
</ul>
<h4 id="embedding-haskell-in-prolog-nobody-is-talking-about-this"><span class="section_number">8.2.2</span><span class="section_title">Embedding Haskell in Prolog: Nobody is talking about this?</span></h4>
<p>translate haskell to prolog</p>
<ul>
<li><a href="https://stackoverflow.com/questions/1932770/haskell-vs-prolog-comparison">https://stackoverflow.com/questions/1932770/haskell-vs-prolog-comparison</a></li>
<li><a href="https://github.com/COMS30106/slides">https://github.com/COMS30106/slides</a></li>
<li><a href="https://github.com/COMS30106/slides/blob/master/haskell2prolog.pdf">https://github.com/COMS30106/slides/blob/master/haskell2prolog.pdf</a></li>
</ul>
<p>Prolog and Haskell are almost equally concise. Prolog and Haskell are even in head/2 and tail/2. Prolog beats Haskell in null/1 and reverse/2. Haskell beats Prolog in length/2, sumList/2, and everything that has arithmetics where Prolog requires intermediate variable such as &quot;N1 is N-1&quot;.</p>
<h3 id="how-are-prolog-and-lisp-similar"><span class="section_number">8.3</span><span class="section_title">How are Prolog and Lisp similar?</span></h3>
<ul>
<li>Both Prolog and Lisp have symbols and cons cells.
<ul>
<li>This is a Lisp cons cell: <code>(cons 'a 'b)</code> or <code>'(a . b)</code>.</li>
<li>This is the corresponding SWI-Prolog cons cell: <code>[a|b]</code> (the canonical form is <code>'[|]'(a,b)</code>).</li>
</ul></li>
<li>Both have macros.
<ul>
<li>Lisp has defmacro.</li>
<li>Prolog has term_expansion/2 and goal_expansion/2.</li>
</ul></li>
</ul>
<p>I'd say Prolog = Lisp + unification + backtracking - lambda.</p>
<h3 id="comparison-between-what-is-difficult-in-various-programming-languages"><span class="section_number">8.4</span><span class="section_title">Comparison between what is difficult in various programming languages</span></h3>
<ul>
<li>2014 presentation &quot;That scripting language called Prolog&quot; <a href="https://www.slideshare.net/SergeiWinitzki/prolog-talk">https://www.slideshare.net/SergeiWinitzki/prolog-talk</a>
<ul>
<li>It compares what is difficult in various programming languages.</li>
<li>It defines &quot;declarative&quot;: 'Programming is &quot;declarative&quot; when <em>specifications are programs</em>.'
<ul>
<li>Slide 29: &quot;declarative programming = creating a good DSL for your domain&quot;</li>
</ul></li>
<li>Slide 24 compares SQL, Datalog, and Prolog.</li>
</ul></li>
</ul>
<h3 id="comparison-with-other-relational-programming-languages"><span class="section_number">8.5</span><span class="section_title">Comparison with other relational programming languages</span></h3>
<p>Comparison with miniKanren:</p>
<ul>
<li><a href="https://stackoverflow.com/questions/28467011/what-are-the-main-technical-differences-between-prolog-and-minikanren-with-resp">https://stackoverflow.com/questions/28467011/what-are-the-main-technical-differences-between-prolog-and-minikanren-with-resp</a>
<ul>
<li>William E. Byrd's answer:
<ul>
<li>Prolog is practical; miniKanren is pure.</li>
<li>Prolog unification doesn't use occurs check; miniKanren unification uses occurs check.</li>
<li>Prolog uses depth-first search; miniKanren uses complete interleaving search.</li>
<li>'[â€¦] miniKanren is being used for research in &quot;relational&quot; programming.'</li>
<li>&quot;Over time miniKanren has added more symbolic constraints, really becoming a symbolically-oriented Constraint Logic Programming language.&quot;</li>
<li>&quot;There are other very interesting logic programming languages as well, such as Mercury, Curry, and GÃ¶del, each of which has its own take on logic programming.&quot;</li>
</ul></li>
</ul></li>
</ul>
<p>Mercury vs Prolog</p>
<ul>
<li><a href="http://lambda-the-ultimate.org/node/890">http://lambda-the-ultimate.org/node/890</a></li>
<li>&lt;2018-10-21&gt; &quot;The Prolog to Mercury transition guide&quot; <a href="https://www.mercurylang.org/information/doc-latest/transition_guide.pdf">https://www.mercurylang.org/information/doc-latest/transition_guide.pdf</a></li>
</ul>
<p>SQL? Datalog?</p>
<h3 id="two-camps-in-programming"><span class="section_number">8.6</span><span class="section_title">Two camps in programming</span></h3>
<p>There are two camps in programming: the bottom-up camp and the top-down camp.</p>
<p>The bottom-up camp starts from machines and goes up toward mathematics. This camp produces Assembly, Fortran, Cobol, Pascal, C, C++, Go. This camp produced fast but ugly implementations. Haphazard incremental improvements.</p>
<p>The top-down camp starts from mathematics and goes down toward machines. This camp produces Lisp, Scheme, Prolog, ML, Ocaml, Haskell, Coq, Idris, Agda, Lean. This camp produced elegant but slow implementations. Big design up front.</p>
<p>They seem to be converging to a middle ground: ugly and slow.</p>
<p>Why can't we get fast and elegant?</p>
<h3 id="goedel-is-intended-to-be-a-declarative-successor-to-prolog."><span class="section_number">8.7</span><span class="section_title">&quot;GOEDEL is intended to be a declarative successor to Prolog.&quot;</span></h3>
<p>&quot;GOEDEL is intended to be a declarative successor to Prolog.&quot; <a href="https://www.cs.cmu.edu/afs/cs/project/ai-repository/ai/lang/prolog/impl/other/goedel/0.html">https://www.cs.cmu.edu/afs/cs/project/ai-repository/ai/lang/prolog/impl/other/goedel/0.html</a></p>
<h2 id="half-baked-things-to-shuffle-around"><span class="section_number">9</span><span class="section_title"><span class="todo TODO">TODO</span> Half-baked things to shuffle around</span></h2>
<div class="local_table_of_contents">
<ul>
<li><span class="section_number">9.1</span><span class="section_title"><a href="#defining-your-own-operators">Defining your own operators</a></span><span class="word_count">(7w~1m)</span></li>
<li><span class="section_number">9.2</span><span class="section_title"><a href="#meta-programming">Meta-programming</a></span><span class="word_count">(7w~1m)</span></li>
<li><span class="section_number">9.3</span><span class="section_title"><a href="#use-clpfd-2-instead-of-is2">Use clpfd #=/2 instead of is/2?</a></span><span class="word_count">(12w~1m)</span></li>
<li><span class="section_number">9.4</span><span class="section_title"><a href="#difference-lists">Difference lists</a></span><span class="word_count">(66w~1m)</span></li>
<li><span class="section_number">9.5</span><span class="section_title"><a href="#what-99-prolog-problems">What? 99 Prolog problems?</a></span><span class="word_count">(7w~1m)</span></li>
<li><span class="section_number">9.6</span><span class="section_title"><a href="#iterative-deepening-search-with-length1">Iterative deepening search with length/1</a></span><span class="word_count">(37w~1m)</span></li>
<li><span class="section_number">9.7</span><span class="section_title"><a href="#how-do-we-make-sense-of-this-counterintuitive-module-syntax">&lt;2018-10-20&gt; How do we make sense of this counterintuitive module syntax?</a></span><span class="word_count">(11w~1m)</span></li>
<li><span class="section_number">9.8</span><span class="section_title"><a href="#discover-the-wonderful-world-of-prolog-logic-programming-relational-programming">Discover the wonderful world of Prolog / logic programming / relational programming</a></span><span class="word_count">(79w~1m)</span></li>
<li><span class="section_number">9.9</span><span class="section_title"><a href="#reminder-for-those-who-already-know">Reminder for those who already know</a></span><span class="word_count">(7w~1m)</span></li>
<li><span class="section_number">9.10</span><span class="section_title"><a href="#making-compilers">Making compilers</a></span><span class="word_count">(20w~1m)</span></li>
<li><span class="section_number">9.11</span><span class="section_title"><a href="#declarative-programming-languages">Declarative programming languages</a></span><span class="word_count">(30w~1m)</span></li>
<li><span class="section_number">9.12</span><span class="section_title"><a href="#speculative">Speculative</a></span><span class="word_count">(4w~1m)</span></li>
<li><span class="section_number">9.13</span><span class="section_title"><a href="#resources">Resources</a></span><span class="word_count">(122w~1m)</span></li>
<li><span class="section_number">9.14</span><span class="section_title"><a href="#what">What?</a></span><span class="word_count">(595w~3m)</span></li>
<li><span class="section_number">9.15</span><span class="section_title"><a href="#prolog-needs-static-checking-like-erlang-dialyzer."><span class="todo TODO">TODO</span> &lt;2018-11-30&gt; Prolog needs static checking like Erlang Dialyzer.</a></span><span class="word_count">(35w~1m)</span></li>
</ul>
</div>
<h3 id="defining-your-own-operators"><span class="section_number">9.1</span><span class="section_title">Defining your own operators</span></h3>
<ul>
<li><code>:- op(Precedence, Type, Name)</code></li>
</ul>
<h3 id="meta-programming"><span class="section_number">9.2</span><span class="section_title">Meta-programming</span></h3>
<ul>
<li>To define 'macros', use <code>term_expansion</code> or <code>goal_expansion</code>.</li>
</ul>
<h3 id="use-clpfd-2-instead-of-is2"><span class="section_number">9.3</span><span class="section_title">Use clpfd #=/2 instead of is/2?</span></h3>
<p>But it's good to have minimal dependencies.</p>
<h3 id="difference-lists"><span class="section_number">9.4</span><span class="section_title">Difference lists</span></h3>
<ul>
<li>Who invented difference lists when?</li>
</ul>
<p>A &quot;difference list&quot; is a term of the form <code>A - B</code> where <code>A</code> is a list and <code>B</code> is a list.</p>
<p>A difference list represents a list.</p>
<p>The difference list <code>A - []</code> represents the list <code>A</code>.</p>
<ul>
<li><a href="https://en.wikipedia.org/wiki/Difference_list">https://en.wikipedia.org/wiki/Difference_list</a></li>
<li><a href="https://en.wikibooks.org/wiki/Prolog/Difference_Lists">https://en.wikibooks.org/wiki/Prolog/Difference_Lists</a>
<ul>
<li>Difference list has constant-time append. Ordinary list has linear-time append.</li>
</ul></li>
<li><a href="https://wiki.haskell.org/Difference_list">https://wiki.haskell.org/Difference_list</a>
<ul>
<li>&quot;Whether this kind of difference list is more efficient than another list representations depends on usage patterns.&quot;</li>
</ul></li>
<li><a href="http://homepages.inf.ed.ac.uk/pbrna/prologbook/node180.html">http://homepages.inf.ed.ac.uk/pbrna/prologbook/node180.html</a></li>
</ul>
<h3 id="what-99-prolog-problems"><span class="section_number">9.5</span><span class="section_title">What? 99 Prolog problems?</span></h3>
<ul>
<li>99 Prolog problems <a href="http://www.ic.unicamp.br/~meidanis/courses/problemas-prolog/">http://www.ic.unicamp.br/~meidanis/courses/problemas-prolog/</a></li>
</ul>
<h3 id="iterative-deepening-search-with-length1"><span class="section_number">9.6</span><span class="section_title">Iterative deepening search with length/1</span></h3>
<p>Prolog uses depth-first search. It isn't complete. (What does that mean?)</p>
<p>If you have a query <code>goal(List)</code> where <code>List</code> is a list, then you can query <code>length(List, _), goal(List)</code> to make the search complete.</p>
<p><a href="https://en.wikibooks.org/wiki/Prolog/Search_techniques">https://en.wikibooks.org/wiki/Prolog/Search_techniques</a></p>
<h3 id="how-do-we-make-sense-of-this-counterintuitive-module-syntax"><span class="section_number">9.7</span><span class="section_title">&lt;2018-10-20&gt; How do we make sense of this counterintuitive module syntax?</span></h3>
<ul>
<li><a href="https://stackoverflow.com/questions/42399020/how-to-get-a-listing-of-a-specific-knowledge-base">https://stackoverflow.com/questions/42399020/how-to-get-a-listing-of-a-specific-knowledge-base</a></li>
</ul>
<h3 id="discover-the-wonderful-world-of-prolog-logic-programming-relational-programming"><span class="section_number">9.8</span><span class="section_title">Discover the wonderful world of Prolog / logic programming / relational programming</span></h3>
<div class="local_table_of_contents">
<ul>
<li><span class="section_number">9.8.1</span><span class="section_title"><a href="#symbolic-ai-is-the-easiest-ai-approach.">Symbolic AI is the easiest AI approach.</a></span><span class="word_count">(53w~1m)</span></li>
<li><span class="section_number">9.8.2</span><span class="section_title"><a href="#dreams">Dreams</a></span><span class="word_count">(16w~1m)</span></li>
</ul>
</div>
<h4 id="symbolic-ai-is-the-easiest-ai-approach."><span class="section_number">9.8.1</span><span class="section_title">Symbolic AI is the easiest AI approach.</span></h4>
<ul>
<li>Connectionist AI (neural networks) excels at tasks that are difficult to describe in formal logic.</li>
<li>Symbolic AI (Prolog) is much more understandable and predictable than connectionist AI.
<ul>
<li>Understanding connectionist AI requires probability, statistics, and real analysis.</li>
</ul></li>
<li>Why not both? 2017 article &quot;SLDR-DL: A Framework for SLD-Resolution with Deep Learning&quot; <a href="https://arxiv.org/pdf/1705.02210.pdf">https://arxiv.org/pdf/1705.02210.pdf</a>?</li>
</ul>
<h4 id="dreams"><span class="section_number">9.8.2</span><span class="section_title">Dreams</span></h4>
<ul>
<li>offload/scale/formalize thinking/cognition</li>
<li>transform reasoning into data entry</li>
<li>brain prosthetics; cognitive prosthetics</li>
<li>Leibniz, &quot;Let us calculate!&quot;, calculus ratiocinator
<ul>
<li><a href="https://en.wikipedia.org/wiki/Calculus_ratiocinator">https://en.wikipedia.org/wiki/Calculus_ratiocinator</a></li>
<li><a href="https://publicdomainreview.org/2016/11/10/let-us-calculate-leibniz-llull-and-computational-imagination/">https://publicdomainreview.org/2016/11/10/let-us-calculate-leibniz-llull-and-computational-imagination/</a></li>
</ul></li>
<li>probabilistic logic programming</li>
<li><a href="https://softwareengineering.stackexchange.com/questions/275680/the-dream-of-declarative-programming">https://softwareengineering.stackexchange.com/questions/275680/the-dream-of-declarative-programming</a></li>
</ul>
<h3 id="reminder-for-those-who-already-know"><span class="section_number">9.9</span><span class="section_title">Reminder for those who already know</span></h3>
<p>Elucidating <a href="https://en.wikipedia.org/wiki/Prolog_syntax_and_semantics">https://en.wikipedia.org/wiki/Prolog_syntax_and_semantics</a></p>
<h3 id="making-compilers"><span class="section_number">9.10</span><span class="section_title">Making compilers</span></h3>
<ul>
<li><a href="https://www.reddit.com/r/ProgrammingLanguages/comments/9em9jf/future_directions_for_optimizing_compilers/">https://www.reddit.com/r/ProgrammingLanguages/comments/9em9jf/future_directions_for_optimizing_compilers/</a>
<ul>
<li>&quot;Future Directions for Optimizing Compilers&quot; <a href="https://arxiv.org/abs/1809.02161">https://arxiv.org/abs/1809.02161</a></li>
</ul></li>
</ul>
<p>&quot;Universal-transpiler&quot; may be similar to what we want.</p>
<ul>
<li>&quot;Universal-transpiler&quot;
<ul>
<li><a href="https://github.com/jarble/transpiler">https://github.com/jarble/transpiler</a>
<ul>
<li>it also has links to similar projects</li>
</ul></li>
<li><a href="http://www.swi-prolog.org/pack/list?p=transpiler">http://www.swi-prolog.org/pack/list?p=transpiler</a></li>
</ul></li>
</ul>
<h3 id="declarative-programming-languages"><span class="section_number">9.11</span><span class="section_title">Declarative programming languages</span></h3>
<p><a href="http://www.cse.chalmers.se/~oloft/Papers/wm96/node2.html">Declarative Programming Languages</a>, functional logic programming, two ways it is done (narrowing and residuation); definitional programming, GCLA language (separate definition and control)</p>
<ul>
<li>1995, &quot;Functional Logic Programming in GCLA&quot;, <a href="http://www.cse.chalmers.se/~oloft/Papers/wm95.pdf">pdf</a></li>
</ul>
<h3 id="speculative"><span class="section_number">9.12</span><span class="section_title">Speculative</span></h3>
<div class="local_table_of_contents">
<ul>
<li><span class="section_number">9.12.1</span><span class="section_title"><a href="#fast-logic-programming">Fast logic programming?</a></span><span class="word_count">(3w~1m)</span></li>
<li><span class="section_number">9.12.2</span><span class="section_title"><a href="#lambda-prolog">Lambda-prolog?</a></span><span class="word_count">(2w~1m)</span></li>
</ul>
</div>
<h4 id="fast-logic-programming"><span class="section_number">9.12.1</span><span class="section_title">Fast logic programming?</span></h4>
<ul>
<li><a href="https://www.reddit.com/r/ProgrammingLanguages/comments/9fgv3v/can_logic_programming_execute_as_fast_as/">https://www.reddit.com/r/ProgrammingLanguages/comments/9fgv3v/can_logic_programming_execute_as_fast_as/</a>
<ul>
<li><a href="https://www.info.ucl.ac.be/~pvr/Peter.thesis/Peter.thesis.html">https://www.info.ucl.ac.be/~pvr/Peter.thesis/Peter.thesis.html</a></li>
</ul></li>
<li><a href="https://stackoverflow.com/questions/23711790/comparision-of-abstract-machines-for-execution-of-prolog">https://stackoverflow.com/questions/23711790/comparision-of-abstract-machines-for-execution-of-prolog</a></li>
</ul>
<h4 id="lambda-prolog"><span class="section_number">9.12.2</span><span class="section_title">Lambda-prolog?</span></h4>
<ul>
<li>lambda-prolog <a href="http://www.lix.polytechnique.fr/~dale/lProlog/">http://www.lix.polytechnique.fr/~dale/lProlog/</a></li>
</ul>
<h3 id="resources"><span class="section_number">9.13</span><span class="section_title">Resources</span></h3>
<div class="local_table_of_contents">
<ul>
<li><span class="section_number">9.13.1</span><span class="section_title"><a href="#for-beginners">For beginners</a></span><span class="word_count">(2w~1m)</span></li>
<li><span class="section_number">9.13.2</span><span class="section_title"><a href="#not-for-beginners">Not for beginners</a></span><span class="word_count">(121w~1m)</span></li>
</ul>
</div>
<h4 id="for-beginners"><span class="section_number">9.13.1</span><span class="section_title">For beginners</span></h4>
<h4 id="not-for-beginners"><span class="section_number">9.13.2</span><span class="section_title">Not for beginners</span></h4>
<ul>
<li>1990 book &quot;The craft of Prolog&quot; by Richard A. O'Keefe
<ul>
<li>from the preface: &quot;There are a lot of introductory Prolog books around. This is not one of them. Think of it as &quot;second steps in Prolog&quot;. If you have already read one of the introductory books, if you have taken an introductory course on Prolog, if you have written one or two Prolog programs, and if you are wondering why it is still hard to writegood Prolog programs, this book is meant to help you. The purpose of the book is to show you how you can write Prolog programs that work, that don't take an unreasonable amount of time, and that are clean enough to show to your friends.&quot;</li>
</ul></li>
</ul>
<h3 id="what"><span class="section_number">9.14</span><span class="section_title">What?</span></h3>
<div class="local_table_of_contents">
<ul>
<li><span class="section_number">9.14.1</span><span class="section_title"><a href="#p-translates-prolog-to-c.">P# translates Prolog to C#.</a></span><span class="word_count">(5w~1m)</span></li>
<li><span class="section_number">9.14.2</span><span class="section_title"><a href="#real-world-programming-in-swi-prolog">&quot;Real World Programming in SWI-Prolog&quot;</a></span><span class="word_count">(5w~1m)</span></li>
<li><span class="section_number">9.14.3</span><span class="section_title"><a href="#frequently-asked-questions-for-prolog">&quot;Frequently Asked Questions for ##Prolog&quot;</a></span><span class="word_count">(5w~1m)</span></li>
<li><span class="section_number">9.14.4</span><span class="section_title"><a href="#what-are-these-trying-to-say">What are these trying to say?</a></span><span class="word_count">(156w~1m)</span></li>
<li><span class="section_number">9.14.5</span><span class="section_title"><a href="#books">Books?</a></span><span class="word_count">(428w~3m)</span></li>
</ul>
</div>
<h4 id="p-translates-prolog-to-c."><span class="section_number">9.14.1</span><span class="section_title">P# translates Prolog to C#.</span></h4>
<p><a href="https://pdfs.semanticscholar.org/12ec/568a6583d3d66b6821f28269f06937a9f2eb.pdf">https://pdfs.semanticscholar.org/12ec/568a6583d3d66b6821f28269f06937a9f2eb.pdf</a></p>
<h4 id="real-world-programming-in-swi-prolog"><span class="section_number">9.14.2</span><span class="section_title">&quot;Real World Programming in SWI-Prolog&quot;</span></h4>
<p><a href="http://www.pathwayslms.com/swipltuts/index.html">http://www.pathwayslms.com/swipltuts/index.html</a></p>
<h4 id="frequently-asked-questions-for-prolog"><span class="section_number">9.14.3</span><span class="section_title">&quot;Frequently Asked Questions for ##Prolog&quot;</span></h4>
<p><a href="http://www.pathwayslms.com/swipltuts/student/">http://www.pathwayslms.com/swipltuts/student/</a></p>
<h4 id="what-are-these-trying-to-say"><span class="section_number">9.14.4</span><span class="section_title">What are these trying to say?</span></h4>
<ul>
<li>1991 article &quot;Logic Programming, Functional Programming, and Inductive Definitions&quot; <a href="https://www.cl.cam.ac.uk/techreports/UCAM-CL-TR-205.pdf">https://www.cl.cam.ac.uk/techreports/UCAM-CL-TR-205.pdf</a>
<ul>
<li>&quot;The unification of logic and functional programming, like the Holy Grail, is sought by countless people&quot;</li>
<li>&quot;More generally, we suggest that the traditional paradigm â€” logic programming as first-order logic â€” is seriously out of step with practice. We offer an alternative paradigm. We view the logic program as an <em>inductive definition</em> of sets and relations.&quot;</li>
<li>&quot;To justify the Closed World Assumption, we propose that logic programs should be viewed as inductive definitions, not as first-order theories. Some people refuse to abandon the dream of programming in first-order logic. But we have to ask whether this dream is possible â€” even whether it is desirable. The first-order paradigm does not deal adequately with negation in databases, and seems to be an unreliable guide in research on program correctness and language design. Inductive definitions are more fundamental than first-order logic, and perhaps easier to understand.&quot;</li>
</ul></li>
</ul>
<h4 id="books"><span class="section_number">9.14.5</span><span class="section_title">Books?</span></h4>
<ul>
<li>1995 book &quot;Prolog Programming in Depth&quot; <a href="http://www.lsv.fr/~reichert/Enseignement/2012/PPL/Prolog_Programming_In_Depth.pdf">http://www.lsv.fr/~reichert/Enseignement/2012/PPL/Prolog_Programming_In_Depth.pdf</a>
<ul>
<li>1.16 Styles of encoding knowledge, p. 28
<ul>
<li>parent, male, female vs. father, mother</li>
<li>&quot;Which style is computationally more efficient depends on the kinds of queries to be answered.&quot;</li>
<li>&quot;Unlike other knowledge representation languages, Prolog does not force the knowledge base builder to state information in a particular logical style. Information can be entered in whatever form is most convenient, and then appropriate rules can be added to retrieve the information in a different form.&quot;</li>
<li>&quot;We could use a 'data-record' format to encode the family tree like [person(Name,Sex,Father,Mother)]&quot;
<ul>
<li>&quot;The only advantage of this style is that the multi-argument facts are often easy to generate from conventional databases, by simply printing out the data in a format that conforms to Prolog syntax.&quot;</li>
</ul></li>
</ul></li>
<li>5.12 Grand Finale: Reading a Lotus Spreadsheet, p. 148</li>
<li>5.13 Language and Metalanguage, p. 153
<ul>
<li>&quot;A Prolog program can extend and modify the inference engine that controls program execution. Thus, the language can change itself in ways that go beyond superficial syntax.&quot;
<ul>
<li>Really? How?</li>
</ul></li>
</ul></li>
<li>5.17 Intensional and Extensional Queries, p. 159</li>
<li>5.19 Giving Meaning to Operators, p. 163
<ul>
<li>&quot;How to make the ampersand mean 'and' in Prolog&quot;</li>
</ul></li>
<li>5.20 Prolog in Prolog, p. 165
<ul>
<li>&quot;Meta-interpreter for Prolog&quot;</li>
</ul></li>
<li>5.21 Extending the inference engine, p. 167
<ul>
<li>biconditionals</li>
</ul></li>
<li>11 Defeasible Prolog, p. 347
<ul>
<li>11.1 Nonmonotonic reasoning and Prolog, p. 347
<ul>
<li>&quot;If our reasoning is monotonic, the set of conclusions we draw from the information we have only gets larger as we get more and more information. Once we reach a conclusion, no additional information will cause us to reject it. When our reasoning is nonmonotonic, we may reject an earlier conclusion on the basis of new information.&quot;</li>
<li>&quot;Human reasoning is notoriously nonmonotonic. We make plans based on what we expect to happen, but we constantly revise our expectations, and our plans, as events unfold.&quot;</li>
<li>&quot;The Prolog inference engine is nonmonotonic because of the way it handles negation.&quot;</li>
<li>Why is &quot;defeasible&quot; not spelled &quot;defeatable&quot;?</li>
</ul></li>
<li>11.2 New syntax for defeasible reasoning, p. 348
<ul>
<li>&quot;Although Prolog can perform some kinds of nonmonotonic reasoning, Prolog rules are not defeasible.&quot;</li>
<li>&quot;Some instances of defeasible reasoning cannot be reproduced in ordinary Prolog.&quot;</li>
<li>&quot;What we need is a new way to represent defeasible rules and presumptions and an inference engine that knows how to use them. We also need a negation operator that is different from negation-as-failure so we can represent rules that tell us when something is positively not the case rather than just that we cannot <em>prove</em> that it is the case. These negative rules are needed to tell us when we have an exception to a defeasible rule, but they are desirable in their own right as well.&quot;
<ul>
<li>The second sentence is too long.</li>
</ul></li>
</ul></li>
<li>(I haven't read it.)</li>
</ul></li>
</ul></li>
</ul>
<h3 id="prolog-needs-static-checking-like-erlang-dialyzer."><span class="section_number">9.15</span><span class="section_title"><span class="todo TODO">TODO</span> &lt;2018-11-30&gt; Prolog needs static checking like Erlang Dialyzer.</span></h3>
<p>SWI-Prolog has check library?</p>
<p>Is there a Prolog totality/determinism checker?</p>
<p>Prolog typechecking is vital to prevent stupid mistakes in a large knowledge base?</p>
<p>1997 inconclusive discussion &quot;Prolog Type Checker&quot; <a href="https://dtai.cs.kuleuven.be/projects/ALP/newsletter/archive_93_96/net/typing/types.html">https://dtai.cs.kuleuven.be/projects/ALP/newsletter/archive_93_96/net/typing/types.html</a></p>
<h2 id="how-to-present-prolog-to-newcomers"><span class="section_number">10</span><span class="section_title">&lt;2018-12-05&gt; How to present Prolog to newcomers</span></h2>
<p>This is a draft. These are slides. Assume that one section is one slide.</p>
<div class="local_table_of_contents">
<ul>
<li><span class="section_number">10.1</span><span class="section_title"><a href="#the-coolest-thing-about-prolog-relationalmultidirectional-programming">The coolest thing about Prolog: relational/multidirectional programming</a></span><span class="word_count">(135w~1m)</span></li>
<li><span class="section_number">10.2</span><span class="section_title"><a href="#write-once-run-in-several-directions">Write once, run in several directions</a></span><span class="word_count">(132w~1m)</span></li>
<li><span class="section_number">10.3</span><span class="section_title"><a href="#another-declarative-example-palindromes">Another declarative example: palindromes</a></span><span class="word_count">(15w~1m)</span></li>
<li><span class="section_number">10.4</span><span class="section_title"><a href="#what-1">What</a></span><span class="word_count">(7w~1m)</span></li>
</ul>
</div>
<h3 id="the-coolest-thing-about-prolog-relationalmultidirectional-programming"><span class="section_number">10.1</span><span class="section_title">The coolest thing about Prolog: relational/multidirectional programming</span></h3>
<p>The Prolog phrase &quot;append(A, B, C)&quot; means the English clause &quot;appending list A and list B produces list C&quot;.</p>
<p>Here we show some ways of calling append/3. Here we show how to read Prolog fragments in English.</p>
<p>&quot;Prolog, does appending [1] and [2,3] produce [1,2,3]?&quot;</p>
<pre class="example"><code>?- append([1], [2,3], [1,2,3]).
true.
</code></pre>
<p>&quot;Prolog, what does appending [1] and [2,3] produce?&quot;</p>
<pre class="example"><code>?- append([1], [2,3], C).
C = [1,2,3].
</code></pre>
<p>&quot;Prolog, what list do I have to append to [1] in order to produce [1,2,3]?&quot;</p>
<pre class="example"><code>?- append([1], B, [1,2,3]).
B = [2,3].
</code></pre>
<p>&quot;Prolog, what list produces [1,2,3] when appended with [2,3]?&quot;</p>
<pre class="example"><code>?- append(A, [2,3], [1,2,3]).
A = [1] ;
false.
</code></pre>
<p>&quot;Prolog, does appending [1] and [2] produce [1,2,3]?&quot;</p>
<pre class="example"><code>?- append([1], [2], [1,2,3]).
false.
</code></pre>
<p>We press &quot;;&quot; to ask Prolog to find another solution. Prolog prints &quot;false&quot; when it doesn't find any more solutions.</p>
<p>&quot;Prolog, what list produces [1] when appended with itself?&quot;</p>
<pre class="example"><code>?- append(A, A, [1]).
false.
</code></pre>
<p>&quot;Prolog, what list produces [1,2,1,2] when appended with itself?&quot;</p>
<p>&quot;[1,2].&quot;</p>
<p>&quot;Is there any other such list?&quot;</p>
<p>&quot;No.&quot;</p>
<pre class="example"><code>?- append(A, A, [1,2,1,2]).
A = [1,2] ;
false.
</code></pre>
<p>&quot;Prolog, what two lists A and B produce [1,2,3] when appended?&quot;</p>
<pre class="example"><code>append(A, B, [1,2,3]).
A = [], B = [1,2,3] ;
A = [1], B = [2,3] ;
A = [1,2], B = [3] ;
A = [1,2,3], B = [] ;
false.
</code></pre>
<h3 id="write-once-run-in-several-directions"><span class="section_number">10.2</span><span class="section_title">Write once, run in several directions</span></h3>
<p>The Prolog code for append/3 seems simple. We can see in SWI-Prolog library/lists.pl <a href="http://www.swi-prolog.org/pldoc/doc/_SWI_/library/lists.pl?show=src#append/3">append/3</a> (I renamed some variables to improve readability):</p>
<pre class="example"><code>append([], B, B).
append([H|A], B, [H|C]) :- append(A, B, C).
</code></pre>
<p>Haskell seems simpler:</p>
<pre class="example"><code>append [] b = b
append (h : a) b = h : append a b
</code></pre>
<p>But those fragments differ. Prolog gives us the ability to run the code in other directions. There are 3 parameters; each parameter is either bound or unbound; thus there are 2^3 = 8 possible directions. If we don't use a logic programming library in Haskell, the Prolog predicate translates to at least 5 Haskell functions, for the 5 ways of using append/3 we saw earlier. If we use a logic programming library in Haskell, the definition wouldn't be as concise as the Prolog definition.</p>
<p>We write append/3 once, and we get at least five ways of calling it.</p>
<p>But this beautiful dream crumbles outside <em>pure</em> logic programming.</p>
<h3 id="another-declarative-example-palindromes"><span class="section_number">10.3</span><span class="section_title">Another declarative example: palindromes</span></h3>
<p>&quot;A list L is a palindrome iff L is its own reverse.&quot;</p>
<pre class="example"><code>palindrome(L) :- reverse(L, L).
</code></pre>
<h3 id="what-1"><span class="section_number">10.4</span><span class="section_title">What</span></h3>
<p>2015 Approaches for Learning Prolog Programming <a href="https://www.tandfonline.com/doi/full/10.11120/ital.2007.06040088">https://www.tandfonline.com/doi/full/10.11120/ital.2007.06040088</a></p>
<h2 id="prolog-community"><span class="section_number">11</span><span class="section_title">Prolog community</span></h2>
<p>Where is the community?</p>
<ul>
<li>IRC requires login. Where is the chat log?</li>
<li>SWI-Prolog Google Groups (web-browsable mailing list) <a href="https://groups.google.com/forum/#!forum/swi-prolog">https://groups.google.com/forum/#!forum/swi-prolog</a></li>
<li>comp.lang.prolog <a href="https://groups.google.com/forum/#!forum/comp.lang.prolog">https://groups.google.com/forum/#!forum/comp.lang.prolog</a></li>
<li>StackOverflow tag swi-prolog <a href="https://stackoverflow.com/questions/tagged/swi-prolog">https://stackoverflow.com/questions/tagged/swi-prolog</a></li>
<li>SWI-Prolog roadmap <a href="https://github.com/SWI-Prolog/roadmap">https://github.com/SWI-Prolog/roadmap</a></li>
<li><a href="http://www.swi-prolog.org/Links.html">http://www.swi-prolog.org/Links.html</a></li>
<li><a href="https://www.reddit.com/r/prolog/">https://www.reddit.com/r/prolog/</a></li>
<li><a href="http://prolog-commons.org">http://prolog-commons.org</a></li>
</ul>
<p>SWI-Prolog packs need curation/vetting/testimony/promotion.</p>
<h2 id="smart-editors-are-dangerous-arbitrary-code-execution"><span class="section_number">12</span><span class="section_title">&lt;2018-12-10&gt; Smart editors are dangerous! Arbitrary code execution!</span></h2>
<p>I use the VSCode extension VSC-Prolog, but I disabled its linter after I realize that it may execute arbitrary code. I only use its syntax highlighting and documentation popup feature. Fortunately the plugin is still very useful without the linter.</p>
<p>Imagine this file:</p>
<pre class="example"><code>% doom.pro
:- shell(&#39;touch ~/doomed&#39;).
</code></pre>
<p>I loaded that file into VSCode, and a file named <code>doomed</code> appeared in my home directory. I'd be really doomed if someone replaced that command with 'rm -rf /'.</p>
<p>Perhaps we should make a whitelist of allowed directives?</p>
<p>Vim suffers the same thing with its modelines. I think it's now disabled by default?</p>
<p>However, this doesn't affect you if you only open what you write yourself, and never open a criminal's Prolog code. But this is an accident waiting to happen!</p>
<p>I reported this:</p>
<ul>
<li><a href="https://github.com/arthwang/vsc-prolog/issues/31">https://github.com/arthwang/vsc-prolog/issues/31</a></li>
</ul>
<h2 id="ramble"><span class="section_number">13</span><span class="section_title">Ramble</span></h2>
<div class="local_table_of_contents">
<ul>
<li><span class="section_number">13.1</span><span class="section_title"><a href="#dense">Dense?</a></span><span class="word_count">(18w~1m)</span></li>
<li><span class="section_number">13.2</span><span class="section_title"><a href="#purifying-prolog">Purifying Prolog?</a></span><span class="word_count">(11w~1m)</span></li>
<li><span class="section_number">13.3</span><span class="section_title"><a href="#ramble-translating-prolog-to-native-code">Ramble: Translating Prolog to native code?</a></span><span class="word_count">(199w~1m)</span></li>
<li><span class="section_number">13.4</span><span class="section_title"><a href="#prolog-should-use-three-valued-logic">Prolog should use three-valued logic?</a></span><span class="word_count">(54w~1m)</span></li>
<li><span class="section_number">13.5</span><span class="section_title"><a href="#equalities-and-equivalences">Equalities and equivalences?</a></span><span class="word_count">(10w~1m)</span></li>
<li><span class="section_number">13.6</span><span class="section_title"><a href="#implicit-state-language">Implicit state language?</a></span><span class="word_count">(3w~1m)</span></li>
<li><span class="section_number">13.7</span><span class="section_title"><a href="#devops-dependency-build-system">Devops, dependency, build system?</a></span><span class="word_count">(71w~1m)</span></li>
<li><span class="section_number">13.8</span><span class="section_title"><a href="#modules">Modules?</a></span><span class="word_count">(28w~1m)</span></li>
<li><span class="section_number">13.9</span><span class="section_title"><a href="#prolog-revival-attempt">Prolog revival attempt</a></span><span class="word_count">(3w~1m)</span></li>
<li><span class="section_number">13.10</span><span class="section_title"><a href="#declarative-programming-function-arguments">Declarative programming? Function arguments?</a></span><span class="word_count">(28w~1m)</span></li>
<li><span class="section_number">13.11</span><span class="section_title"><a href="#what-2">What</a></span><span class="word_count">(242w~2m)</span></li>
<li><span class="section_number">13.12</span><span class="section_title"><a href="#minikanren">miniKanren?</a></span><span class="word_count">(26w~1m)</span></li>
<li><span class="section_number">13.13</span><span class="section_title"><a href="#what-3">what</a></span><span class="word_count">(75w~1m)</span></li>
<li><span class="section_number">13.14</span><span class="section_title"><a href="#whaaat">whaaat</a></span><span class="word_count">(12w~1m)</span></li>
<li><span class="section_number">13.15</span><span class="section_title"><a href="#search-engine">Search engine?</a></span><span class="word_count">(3w~1m)</span></li>
<li><span class="section_number">13.16</span><span class="section_title"><a href="#reverse-engineering">Reverse engineering?</a></span><span class="word_count">(34w~1m)</span></li>
<li><span class="section_number">13.17</span><span class="section_title"><a href="#idea-write-an-sql-database-explorer-in-prolog.">Idea: Write an SQL database explorer in Prolog.</a></span><span class="word_count">(53w~1m)</span></li>
<li><span class="section_number">13.18</span><span class="section_title"><a href="#use-prolog-for-formal-software-requirement-capture-modeling.">Use Prolog for formal software requirement capture / modeling.?</a></span><span class="word_count">(133w~1m)</span></li>
<li><span class="section_number">13.19</span><span class="section_title"><a href="#prolog-somewhat-object-oriented-mapping-from-java-to-prolog">Prolog, somewhat object-oriented, mapping from Java to Prolog</a></span><span class="word_count">(48w~1m)</span></li>
</ul>
</div>
<h3 id="dense"><span class="section_number">13.1</span><span class="section_title">Dense?</span></h3>
<p>When writing Prolog code, I write much more documentation than code. Is this bad? Are self-describing programs possible?</p>
<h3 id="purifying-prolog"><span class="section_number">13.2</span><span class="section_title">Purifying Prolog?</span></h3>
<ul>
<li>assert/2 can be replaced with two parameters (state and next-state).</li>
</ul>
<h3 id="ramble-translating-prolog-to-native-code"><span class="section_number">13.3</span><span class="section_title">Ramble: Translating Prolog to native code?</span></h3>
<p>The idea is to relate a Prolog predicate and a C routine.</p>
<p>Every disjunct translates into one routine / basic block.</p>
<p>The current goal relates to the instruction pointer.</p>
<p>Proving a goal ~ calling a routine Conjunction of phrase ~ sequence of call Disjunction of clause ~ speculative parallel execution, for pure predicates only</p>
<p>p(A),q(A) can be optimized from O(PQ) time to O(max(P,Q)) time if we order the storage.</p>
<p>Intermediate language Compile by abstract interpretation unify(Var1,Var2) frame(Instrs) prove((A,B)) :- prove(A), prove(B).</p>
<p>A variable in clause head is implicitly universally quantified. A free variable in clause body is implicitly existentially quantified.</p>
<p>What is the relationship between logic programming, relational programming, logic, Horn clauses, theorem proving, searching, and backtracking?</p>
<p>Prolog just-in-time compilation compile(GoalAst, Fragment) call(Fragment) Execute?</p>
<p>Compile prolog predicates, limited to u32 parameters. Normalize p(a). to p(A) :- A=a. If first arg is bound, use index. Else sequential scan. Subset of prolog. Focus on translation for performance. No dynamic predicates. Generate a c func for some predicate direction. plus_bbb plus_bbu â€¦ plus_uuu Add a state parameter for nondet predicate. (Next clause index to try). Initial value 0. p(A,B) :- B is A + 1.</p>
<p>Libjit vs llvm? mmap and mprotect</p>
<p>father_child(F,C)</p>
<p>bool father_child(termref F, termref C) { }</p>
<h3 id="prolog-should-use-three-valued-logic"><span class="section_number">13.4</span><span class="section_title">Prolog should use three-valued logic?</span></h3>
<p>Suppose that both A and B are unbound variables. Then:</p>
<ul>
<li><code>A =</code> B= is unknown, but it's false in Prolog.</li>
<li><code>A \</code> B= is unknown, not it's false in Prolog.</li>
</ul>
<p>In that case, it is better for Prolog to throw an instantiation_error instead of failing.</p>
<p>Three-valued logic would simplify and elegantize constraint logic programming?</p>
<h3 id="equalities-and-equivalences"><span class="section_number">13.5</span><span class="section_title">Equalities and equivalences?</span></h3>
<p>What is the difference: <code>, ~==~, ~</code>:=~, is</p>
<h3 id="implicit-state-language"><span class="section_number">13.6</span><span class="section_title">Implicit state language?</span></h3>
<div class="sourceCode" id="cb34"><pre class="sourceCode prolog"><code class="sourceCode prolog"><a class="sourceLine" id="cb34-1" title="1">interpret(state(<span class="dt">S</span>)<span class="kw">,</span> <span class="dt">S</span><span class="kw">,</span> <span class="dt">S</span>)<span class="kw">.</span></a>
<a class="sourceLine" id="cb34-2" title="2">interpret(state_set(<span class="dt">S</span>)<span class="kw">,</span> <span class="dt">_</span><span class="kw">,</span> <span class="dt">S</span>)<span class="kw">.</span></a>
<a class="sourceLine" id="cb34-3" title="3">interpret((<span class="dt">A</span><span class="kw">,</span><span class="dt">B</span>)<span class="kw">,</span><span class="dt">S0</span><span class="kw">,</span><span class="dt">S2</span>) <span class="kw">:-</span> interpret(<span class="dt">A</span><span class="kw">,</span><span class="dt">S0</span><span class="kw">,</span><span class="dt">S1</span>)<span class="kw">,</span> interpret(<span class="dt">B</span><span class="kw">,</span><span class="dt">S1</span><span class="kw">,</span><span class="dt">S2</span>)<span class="kw">.</span></a></code></pre></div>
<h3 id="devops-dependency-build-system"><span class="section_number">13.7</span><span class="section_title">Devops, dependency, build system?</span></h3>
<p>Prolog marelle, Haskell shake, build system?</p>
<ul>
<li><a href="http://quietlyamused.org/blog/2013/11/09/marelle-for-devops/">http://quietlyamused.org/blog/2013/11/09/marelle-for-devops/</a></li>
<li>&quot;there is already a configuration management language that is strongly influenced by Prolog and logic programming - Puppet - and the results are not that great&quot; <a href="https://news.ycombinator.com/item?id=6701362">https://news.ycombinator.com/item?id=6701362</a>
<ul>
<li>really?</li>
<li>The computer can't read your mind. You lie to the computer, it does what you told it to do. Don't blame the computer for your failing to tell the computer everything it needs to do the job.</li>
</ul></li>
</ul>
<h3 id="modules"><span class="section_number">13.8</span><span class="section_title">Modules?</span></h3>
<p>Prolog syntax for use_module is documented in <a href="http://www.swi-prolog.org/FAQ/LoadLibrary.html">LoadLibrary FAQ</a>, not in the documentation for use_module/1. The <code>library</code> alias is defined in file_search_path/2.</p>
<p>swipl: use <code>-s</code> instead of <code>-l</code> <a href="http://www.swi-prolog.org/pldoc/man?section=cmdline">http://www.swi-prolog.org/pldoc/man?section=cmdline</a></p>
<h3 id="prolog-revival-attempt"><span class="section_number">13.9</span><span class="section_title">Prolog revival attempt</span></h3>
<ul>
<li><a href="https://github.com/Web-Prolog/swi-web-prolog">https://github.com/Web-Prolog/swi-web-prolog</a></li>
</ul>
<h3 id="declarative-programming-function-arguments"><span class="section_number">13.10</span><span class="section_title">Declarative programming? Function arguments?</span></h3>
<p>The idea: A relation's parameter can be a unifiable logic variable or a beta-reducible lambda expression.</p>
<pre class="example"><code>is_one(A : exp(integer)) :- A = 1.
?- is_one(0+1).
true.

f(A : var(integer)) :- A = 1.
?- f(0+1).
false.
</code></pre>
<p>TODO Compare various approaches such as LambdaProlog, Mercury, and Curry.</p>
<h3 id="what-2"><span class="section_number">13.11</span><span class="section_title">What</span></h3>
<p>Writing a Prolog knowledge base is an exercise in philosophy, especially ontology. We ask these all the time:</p>
<ul>
<li>What exist?</li>
<li>How do they relate?</li>
<li>How do we model all those entities and relationships in Prolog for not-too-slow computation?</li>
</ul>
<p>Gerrit has prolog? <a href="https://gerrit-review.googlesource.com/Documentation/prolog-cookbook.html">https://gerrit-review.googlesource.com/Documentation/prolog-cookbook.html</a></p>
<p>Prolog web browser, prolog gui, prolog operating system, prolog system f, normal-order lambda calculus, Haskell in prolog</p>
<p>Prolog to glue Haskell, racket, typescript</p>
<p>&lt;2018-12-06&gt; Prolog is the most ideal metalanguage I have found so far.</p>
<p>&quot;adding a search Path in SWI prolog&quot; <a href="https://stackoverflow.com/questions/6334050/adding-a-search-path-in-swi-prolog">https://stackoverflow.com/questions/6334050/adding-a-search-path-in-swi-prolog</a></p>
<p>Prolog in JavaScript/browser <a href="http://tau-prolog.org/">http://tau-prolog.org/</a></p>
<p>Alternative Prolog syntax? Curry/ML-like syntax for Prolog?</p>
<pre class="example"><code>append([],B,B).
append([H|A], B, [H|C]) :- append(A,B,C).

append [] B B.
append [H|A] B [H|C] :- append A B C.
</code></pre>
<p>If everyone could be 20x more productive using Prolog, then it is a sin to let them use Java or C++. It is a massive waste of human life.</p>
<p>&quot;Syntactic integration of external languages in Prolog&quot; <a href="https://pdfs.semanticscholar.org/35eb/0b9d6edc27dd4564d98b107fec08e45e36cd.pdf">https://pdfs.semanticscholar.org/35eb/0b9d6edc27dd4564d98b107fec08e45e36cd.pdf</a> SQL-Prolog Draxler [2] NED [5]</p>
<p>&quot;The Mess We're In&quot; by Joe Armstrong&quot; <a href="https://www.youtube.com/watch?v=lKXe3HUG2l4">https://www.youtube.com/watch?v=lKXe3HUG2l4</a> 43:20 We assume that two files A and B are similar if size(compress(A)) is similar to size(compress(A++B)).</p>
<p>&quot;Goal: Adapting the Warren abstract machine to the LLVM IR machine model for later compilation.&quot; &quot;Hassan AÃ¯t-Kaci's WAM book&quot; 2018 <a href="https://www.researchgate.net/project/Compiling-Prolog">https://www.researchgate.net/project/Compiling-Prolog</a></p>
<p>decompilation &quot;J.P. Bowen, From Programs to Object Code and Back Again Using Logic Programming: Compilation and Decompilation, Journal of Software Maintenance: Research and Practice, Vol. 5, No. 4, pp.205-234, December, 1993&quot; <a href="https://dtai.cs.kuleuven.be/projects/ALP/newsletter/archive_93_96/net/grammars/compiler2.html">https://dtai.cs.kuleuven.be/projects/ALP/newsletter/archive_93_96/net/grammars/compiler2.html</a></p>
<p>Prolog parser in Prolog <a href="https://dtai.cs.kuleuven.be/projects/ALP/newsletter/archive_93_96/net/grammars/parser.html">https://dtai.cs.kuleuven.be/projects/ALP/newsletter/archive_93_96/net/grammars/parser.html</a></p>
<p>XPCE may have been considered deprecated since 2015 <a href="https://github.com/SWI-Prolog/roadmap/issues/29">https://github.com/SWI-Prolog/roadmap/issues/29</a></p>
<p>&quot;What is Wrong with Logic Programming?&quot; &quot;A Deductive Solution to Mutable State and I/O&quot; <a href="https://pdfs.semanticscholar.org/ca08/dcb9eddc1e7651509daac7fa02eddb7f675b.pdf">https://pdfs.semanticscholar.org/ca08/dcb9eddc1e7651509daac7fa02eddb7f675b.pdf</a></p>
<p><a href="http://www.swi-prolog.org/pldoc/doc_for?object=section(%27packages/cql.html%27">http://www.swi-prolog.org/pldoc/doc_for?object=section(%27packages/cql.html%27</a>) Draxler 1991 relates database table and Prolog predicate. CQL models SQL query in Prolog terms.</p>
<h3 id="minikanren"><span class="section_number">13.12</span><span class="section_title">miniKanren?</span></h3>
<p>Relational programming, microKanren <a href="http://matt.might.net/articles/microkanren/">http://matt.might.net/articles/microkanren/</a></p>
<p>2017 A Unified Approach to Solving Seven Programming Problems (Functional Pearl) <a href="http://io.livecode.ch/learn/gregr/icfp2017-artifact-auas7pp">http://io.livecode.ch/learn/gregr/icfp2017-artifact-auas7pp</a></p>
<p>2013 rKanren - Guided Search in miniKanren, Part I <a href="http://cgswords.github.io/rkanren/">http://cgswords.github.io/rkanren/</a></p>
<p>Schelog vs minikanren?</p>
<h3 id="what-3"><span class="section_number">13.13</span><span class="section_title">what</span></h3>
<p>!! <a href="https://www.cambridge.org/core/journals/theory-and-practice-of-logic-programming/article/structured-alternative-to-prolog-with-simple-compositional-semantics/3E4B4198D74D6A2EC92DF4D6DC78DDE3">https://www.cambridge.org/core/journals/theory-and-practice-of-logic-programming/article/structured-alternative-to-prolog-with-simple-compositional-semantics/3E4B4198D74D6A2EC92DF4D6DC78DDE3</a></p>
<p>Prolog clpq documentation doesn't mention multivariate optimization? <a href="https://stackoverflow.com/questions/27716598/constraint-values-on-local-variable">https://stackoverflow.com/questions/27716598/constraint-values-on-local-variable</a></p>
<p><a href="http://www.amzi.com/manuals/amzi/pro/ref_execution.htm">http://www.amzi.com/manuals/amzi/pro/ref_execution.htm</a></p>
<p><a href="http://users.cs.cf.ac.uk/O.F.Rana/prolog/lectureP5/node3.html">http://users.cs.cf.ac.uk/O.F.Rana/prolog/lectureP5/node3.html</a></p>
<p><a href="https://coderwall.com/p/laduzw/how-to-measure-execution-time-in-swi-prolog">https://coderwall.com/p/laduzw/how-to-measure-execution-time-in-swi-prolog</a></p>
<p><a href="https://www.reddit.com/r/prolog/comments/9mxhbw/the_art_of_prolog_second_edition_is_available_as/">https://www.reddit.com/r/prolog/comments/9mxhbw/the_art_of_prolog_second_edition_is_available_as/</a></p>
<p><a href="https://github.com/klauscfhq/awesome-prolog/blob/master/readme.md">https://github.com/klauscfhq/awesome-prolog/blob/master/readme.md</a></p>
<p><a href="http://www.swi-prolog.org/pldoc/man?section=modes">http://www.swi-prolog.org/pldoc/man?section=modes</a></p>
<p>Twitter LOPSTR: Logic Based Program Synthesis and Transformation: 13th Internationalâ€¦</p>
<p><a href="https://www.ajibot.com/blog/overview-of-logic-languages">https://www.ajibot.com/blog/overview-of-logic-languages</a></p>
<p><a href="https://stackoverflow.com/questions/1817010/embedded-prolog-interpreter-compiler-for-java">https://stackoverflow.com/questions/1817010/embedded-prolog-interpreter-compiler-for-java</a></p>
<p><a href="https://github.com/raydac/java-prolog-parser">https://github.com/raydac/java-prolog-parser</a></p>
<p><a href="http://dbs.informatik.uni-halle.de/Lehre/LP09/c3_purep.pdf">http://dbs.informatik.uni-halle.de/Lehre/LP09/c3_purep.pdf</a></p>
<p><a href="http://fsl.cs.illinois.edu/images/9/9c/PrologStandard.pdf">http://fsl.cs.illinois.edu/images/9/9c/PrologStandard.pdf</a></p>
<p>prolog headless clause <a href="https://stackoverflow.com/questions/14168363/what-does-a-clause-without-a-head-mean-in-prolog">https://stackoverflow.com/questions/14168363/what-does-a-clause-without-a-head-mean-in-prolog</a></p>
<p>Read &quot;The art of Prolog&quot;, second-order programming,</p>
<p><a href="https://stackoverflow.com/questions/32835086/prolog-how-to-avoid-backtracking-without-cuts">https://stackoverflow.com/questions/32835086/prolog-how-to-avoid-backtracking-without-cuts</a></p>
<p>Now I know this is false:</p>
<ul>
<li>Relational programming subsumes functional programming.
<ul>
<li>Functional programming is a special case of relational programming.</li>
<li>Every function is a relation.</li>
</ul></li>
</ul>
<p>Functional programming is more concise and readable than logic (relational?) programming when we are describing functions:</p>
<div class="sourceCode" id="cb37"><pre class="sourceCode haskell"><code class="sourceCode haskell"><a class="sourceLine" id="cb37-1" title="1">fib <span class="dv">0</span> <span class="fu">=</span> <span class="dv">1</span></a>
<a class="sourceLine" id="cb37-2" title="2">fib <span class="dv">1</span> <span class="fu">=</span> <span class="dv">1</span></a>
<a class="sourceLine" id="cb37-3" title="3">fib n <span class="fu">=</span> fib (n<span class="fu">-</span><span class="dv">1</span>) <span class="fu">+</span> fib (n<span class="fu">-</span><span class="dv">2</span>)</a></code></pre></div>
<div class="sourceCode" id="cb38"><pre class="sourceCode prolog"><code class="sourceCode prolog"><a class="sourceLine" id="cb38-1" title="1">fib(<span class="dv">0</span><span class="kw">,</span><span class="dv">1</span>)<span class="kw">.</span></a>
<a class="sourceLine" id="cb38-2" title="2">fib(<span class="dv">1</span><span class="kw">,</span><span class="dv">1</span>)<span class="kw">.</span></a>
<a class="sourceLine" id="cb38-3" title="3">fib(<span class="dt">N</span><span class="kw">,</span><span class="dt">F</span>) <span class="kw">:-</span> <span class="dt">N1</span> <span class="dt">is</span> <span class="dt">N</span><span class="dv">-1</span><span class="kw">,</span> <span class="dt">N2</span> <span class="dt">is</span> <span class="dt">N</span><span class="dv">-2</span><span class="kw">,</span> fib(<span class="dt">N1</span><span class="kw">,</span><span class="dt">F1</span>)<span class="kw">,</span> fib(<span class="dt">N2</span><span class="kw">,</span><span class="dt">F2</span>)<span class="kw">,</span> <span class="dt">F</span> <span class="dt">is</span> <span class="dt">F1+F2</span><span class="kw">.</span></a></code></pre></div>
<p>But we can translate a function to a deterministic (det) predicate in Prolog.</p>
<h3 id="whaaat"><span class="section_number">13.14</span><span class="section_title">whaaat</span></h3>
<p>This marshallp guy isâ€¦ inhuman? He uses Prolog for note taking! <a href="https://news.ycombinator.com/item?id=1142292">https://news.ycombinator.com/item?id=1142292</a></p>
<h3 id="search-engine"><span class="section_number">13.15</span><span class="section_title">Search engine?</span></h3>
<p>AntRank <a href="http://www.ijettcs.org/Volume3Issue2/IJETTCS-2014-04-23-113.pdf">http://www.ijettcs.org/Volume3Issue2/IJETTCS-2014-04-23-113.pdf</a></p>
<h3 id="reverse-engineering"><span class="section_number">13.16</span><span class="section_title">Reverse engineering?</span></h3>
<ul>
<li>1992 &quot;A Logic-Based Approach to Reverse Engineering Tools Production&quot;</li>
</ul>
<p><a href="https://pdfs.semanticscholar.org/4882/9fd716349ff586e21e9277890989daa0e916.pdf">https://pdfs.semanticscholar.org/4882/9fd716349ff586e21e9277890989daa0e916.pdf</a></p>
<p>Prolog-COBOL stuff</p>
<ul>
<li>1991, Using Prolog for Reverse-Engineering and Validation</li>
</ul>
<p><a href="http://www.academia.edu/2493008/Using_Prolog_for_reverse-engineering_and_validation">http://www.academia.edu/2493008/Using_Prolog_for_reverse-engineering_and_validation</a></p>
<ul>
<li>1994, &quot;Reverse Engineering of COBOL Programs into Prolog Programs&quot;</li>
</ul>
<p><a href="http://citeseerx.ist.psu.edu/viewdoc/download?doi=10.1.1.38.5073&amp;rep=rep1&amp;type=pdf">http://citeseerx.ist.psu.edu/viewdoc/download?doi=10.1.1.38.5073&amp;rep=rep1&amp;type=pdf</a></p>
<ul>
<li>1992, &quot;The Art of Computer Un-Programming: Reverse Engineering in Prolog&quot;</li>
</ul>
<p><a href="http://www.academia.edu/1413561/The_art_of_computer_un-programming_Reverse_engineering_in_Prolog">http://www.academia.edu/1413561/The_art_of_computer_un-programming_Reverse_engineering_in_Prolog</a></p>
<ul>
<li><a href="https://link.springer.com/chapter/10.1007/3-540-55930-2_20">https://link.springer.com/chapter/10.1007/3-540-55930-2_20</a></li>
</ul>
<p><a href="http://www.academia.edu/1413561/The_art_of_computer_un-programming_Reverse_engineering_in_Prolog">http://www.academia.edu/1413561/The_art_of_computer_un-programming_Reverse_engineering_in_Prolog</a></p>
<h3 id="idea-write-an-sql-database-explorer-in-prolog."><span class="section_number">13.17</span><span class="section_title">Idea: Write an SQL database explorer in Prolog.</span></h3>
<p>CLI interface without ncurses without pager. Imagine printing to paper like early Fortran/Unix/ed. Paper user interface.</p>
<ul>
<li>menu(KeyActionPairs).</li>
<li>select database</li>
<li>select schema</li>
<li>show 10 rows of table, 15 chars per column, truncating long strings with &quot;&gt;&quot;
<ul>
<li>tput <a href="https://stackoverflow.com/questions/263890/how-do-i-find-the-width-height-of-a-terminal-window">https://stackoverflow.com/questions/263890/how-do-i-find-the-width-height-of-a-terminal-window</a></li>
<li>My 1920x1080 terminal has 191 columns and 53 lines.</li>
</ul></li>
<li>go up / back to previous menu.</li>
</ul>
<h3 id="use-prolog-for-formal-software-requirement-capture-modeling."><span class="section_number">13.18</span><span class="section_title">Use Prolog for formal software requirement capture / modeling.?</span></h3>
<p>&quot;Are there any standard Prolog knowledge bases available anywhere that have the same purpose as Cyc, namely to encode generally accepted common sense and human knowledge?&quot; <a href="https://cs.stackexchange.com/questions/35237/open-standard-prolog-knowledge-bases">https://cs.stackexchange.com/questions/35237/open-standard-prolog-knowledge-bases</a></p>
<p>2004 &quot;SweetProlog: A System to Integrate Ontologies and Rules&quot; <a href="https://pdfs.semanticscholar.org/03c2/a0048a5845bb1f52462c4f26d7be0a929d7a.pdf">https://pdfs.semanticscholar.org/03c2/a0048a5845bb1f52462c4f26d7be0a929d7a.pdf</a></p>
<p>Prolog is better than Turtle. <a href="http://sujitpal.blogspot.com/2009/06/ontology-rules-with-prolog.html">http://sujitpal.blogspot.com/2009/06/ontology-rules-with-prolog.html</a> &quot;I actually set out to learn Jena Rules using the Semantic Web Programming book as a guide. Midway through that exercise, it occurred to me that Prolog would be a cleaner and almost drop-in replacement to the rather verbose Turtle syntax. Apparently the Semantic Web community thinks otherwise, since Turtle stands for Terse RDF Triple language. I haven't actually used Prolog before this, although I've read code snippets in articles once or twice (but not recently), so the realization was almost like an epiphany.&quot;</p>
<p><a href="http://collaboration.cmc.ec.gc.ca/science/rpn/biblio/ddj/Website/articles/DDJ/1989/8910/8910f/8910f.htm">http://collaboration.cmc.ec.gc.ca/science/rpn/biblio/ddj/Website/articles/DDJ/1989/8910/8910f/8910f.htm</a></p>
<p><a href="https://www.cs.auckland.ac.nz/~j-hamer/07.363/prolog-for-se.html">https://www.cs.auckland.ac.nz/~j-hamer/07.363/prolog-for-se.html</a></p>
<p><a href="http://ceur-ws.org/Vol-274/paper6.pdf">http://ceur-ws.org/Vol-274/paper6.pdf</a></p>
<h3 id="prolog-somewhat-object-oriented-mapping-from-java-to-prolog"><span class="section_number">13.19</span><span class="section_title">Prolog, somewhat object-oriented, mapping from Java to Prolog</span></h3>
<p>Prior arts: 2017 &quot;Mapping Objects to Persistent Predicates&quot; <a href="https://pdfs.semanticscholar.org/f1ec/9e0e24faa1332d0cb60149e1d633b8d2509e.pdf">https://pdfs.semanticscholar.org/f1ec/9e0e24faa1332d0cb60149e1d633b8d2509e.pdf</a></p>
<p><a href="http://ceur-ws.org/Vol-274/paper6.pdf">http://ceur-ws.org/Vol-274/paper6.pdf</a></p>
<p>Every Java class instantiation expression becomes a Prolog compound.</p>
<pre class="example"><code>% From Java expression: new Class_name(field_1, field_n)
class_name(Field_1, ..., Field_N)
</code></pre>
<p>Every Java class instantiation statement becomes a Prolog fact.</p>
<pre class="example"><code>% From Java statement: Class_name instance_name = new Class_name(field_1, field_n)
Class_name(Instance_name, Field_1, ..., Field_N).
</code></pre>
<p>Example 2010 &quot;Simulating BPMN Models with Prolog&quot;</p>
<pre class="example"><code>final class Car {
    final String brand;
    final int year;
    // constructor omitted
}

Car a_car = new Car(&quot;Toyota&quot;, 2000);
</code></pre>
<p>becomes</p>
<pre class="example"><code>car(a_car, [brand(&#39;Toyota&#39;), year(2000)]).
% or
car(a_car, &#39;Toyota&#39;, 2000).
% or
car(a_car, car(&#39;Toyota&#39;, 2000)).
</code></pre>
<p>Large-scale Prolog? 1991 &quot;Efficient Access To Large Prolog Knowledge Bases&quot; <a href="https://link.springer.com/chapter/10.1007/978-3-7091-7555-2_26">https://link.springer.com/chapter/10.1007/978-3-7091-7555-2_26</a></p>
                </div>
            </div>
        </main>
                        <div id="disqus_thread"></div>
<script>
/**
*  RECOMMENDED CONFIGURATION VARIABLES: EDIT AND UNCOMMENT THE SECTION BELOW TO INSERT DYNAMIC VALUES FROM YOUR PLATFORM OR CMS.
*  LEARN WHY DEFINING THESE VARIABLES IS IMPORTANT: https://disqus.com/admin/universalcode/#configuration-variables*/
var disqus_config = function () {
    this.page.url = "https://edom.github.io/prolog.html";  // Replace PAGE_URL with your page's canonical URL variable
    this.page.identifier = "https://edom.github.io/prolog.html"; // Replace PAGE_IDENTIFIER with your page's unique identifier variable
};
(function() { // DON'T EDIT BELOW THIS LINE
var d = document, s = d.createElement('script');
s.src = 'https://edom-github-io.disqus.com/embed.js';
s.setAttribute('data-timestamp', +new Date());
(d.head || d.body).appendChild(s);
})();
</script>
<noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
                        <footer class="site-footer h-card">
            <data class="u-url" href="/"></data>
            <div class="wrapper">
                <p>This page was created on 2018-04-11 00:00 +0700.</p>
                <p class="rss-subscribe">There is an
                    <a href="/feed.xml">RSS feed</a>, but it's unused because this site is a wiki, not a blog.</p>
                <p>Stop writing books, papers, and blogs!
                    Write a personal wiki instead!
                    Or, even better, contribute to a community wiki.
                </p>
            </div>
        </footer>
    </body>
</html>
