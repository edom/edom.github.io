<!DOCTYPE html>
<html lang="en">

  <head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <title>Administering a computer</title>
  <meta name="description" content="Personal website">

  <link href="https://fonts.googleapis.com/css?family=Libre+Baskerville:400,400i,700&amp;subset=latin-ext" rel="stylesheet">
  <link rel="stylesheet" href="/assets/main.css">
  <link rel="canonical" href="https://edom.github.io/sysadm.html">
  <link rel="alternate" type="application/rss+xml" title="Erik Dominikus&#39;s wiki" href="/feed.xml">

  

  
  <script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-12628443-6', 'auto');
  ga('send', 'pageview');

</script>
  

  

  
</head>


  <body>

    <header class="site-header" role="banner">
  <div class="wrapper">
    <a class="site-title" rel="author" href="/">Erik Dominikus&#39;s wiki</a>
  </div>
</header>


    

    <main class="page-content" aria-label="Content">
      <div class="wrapper">
        <article class="post">

  <header class="post-header">
    <h1 class="post-title">Administering a computer</h1>
  </header>

  <div class="post-content">
    <ul id="markdown-toc">
  <li><a href="#sudo-security-hole-mitigation-dont-reuse-the-terminal-you-use-for-sudo" id="markdown-toc-sudo-security-hole-mitigation-dont-reuse-the-terminal-you-use-for-sudo">sudo security hole mitigation: Don’t reuse the terminal you use for sudo.</a></li>
  <li><a href="#probably-relevant-twitters" id="markdown-toc-probably-relevant-twitters">Probably relevant Twitters</a></li>
</ul>

<ul>
  <li>Why use swap partitions and not swap files?
    <ul>
      <li>Defragmenting swap files might have undesirable effects.
        <ul>
          <li>https://lwn.net/Articles/317787/</li>
        </ul>
      </li>
    </ul>
  </li>
  <li>ext4 defragmentation tools
    <ul>
      <li>https://askubuntu.com/questions/221079/how-to-defrag-an-ext4-filesystem
        <ul>
          <li>e2freefrag DEV, e4defrag -c FILE</li>
        </ul>
      </li>
    </ul>
  </li>
  <li>SATA 3 Gbps controller problem?
    <ul>
      <li>https://github.com/zfsonlinux/zfs/issues/4873</li>
    </ul>
  </li>
  <li>Security
    <ul>
      <li>Isolating (sandboxing) an application
        <ul>
          <li>Creating a dedicated limited user for an application
            <ul>
              <li><code class="highlighter-rouge">adduser --system</code>, or just use the <code class="highlighter-rouge">nobody</code> user?</li>
            </ul>
          </li>
        </ul>
      </li>
      <li>Many methods of isolation
        <ul>
          <li>https://unix.stackexchange.com/questions/384117/linux-isolate-process-without-containers</li>
          <li>https://www.engineyard.com/blog/linux-containers-isolation</li>
          <li>https://opensourceforu.com/2016/07/many-approaches-sandboxing-linux/</li>
        </ul>
      </li>
    </ul>
  </li>
  <li>Why isn’t ssh fail2ban the default?
Why is security not the default?</li>
  <li>2014, “Is there any solution to make OpenVPN authentication with Google ID?”, <a href="https://serverfault.com/questions/597833/is-there-any-solution-to-make-openvpn-authentication-with-google-id">SF 597833</a></li>
  <li>man page usability, terminal usability, reducing cognitive load
    <ul>
      <li><a href="https://tldr.sh/">tldr.sh</a>: “The TLDR pages are a community effort to simplify the beloved man pages with practical examples.”</li>
    </ul>
  </li>
  <li><a href="https://stackoverflow.com/questions/22697049/what-is-the-difference-between-google-app-engine-and-google-compute-engine">SO 22697049: difference between Google App Engine and Google Compute Engine</a></li>
  <li>A good OS (operating system) is invisible like a good design.
    <ul>
      <li>The user can’t tell whether an OS is good.
  If the OS is good, everything runs smoothly.</li>
      <li>But the user can tell whether an OS is bad.
  Crashes due to non-hardware problems.
  Things that don’t just work.</li>
    </ul>
  </li>
  <li>https://felipec.wordpress.com/2011/06/16/after-two-weeks-of-using-gnome-3-i-officially-hate-it/
    <ul>
      <li>Why does the author disapprove of GNOME 3?</li>
    </ul>
  </li>
  <li>https://libcloud.apache.org/
    <ul>
      <li>“One Interface To Rule Them All: Python library for interacting with many of the popular cloud service providers using a unified API.”</li>
    </ul>
  </li>
  <li>Systems should be secure by default.
    <ul>
      <li>UNIX/Linux woes
        <ul>
          <li>Why is SSH fail2ban not installed by default?</li>
          <li>Why does an application run as the user?
            <ul>
              <li>I think this is a design flaw.
  It’s a big gaping security hole.
  It allows an application to access all your files.
  But how do we fix this without sacrificing convenience?</li>
              <li>Why is sandboxing not the default?</li>
            </ul>
          </li>
          <li>How do we understand SELinux?
            <ul>
              <li><a href="https://www.computernetworkingnotes.com/rhce-study-guide/selinux-explained-with-examples-in-easy-language.html">SELinux Explained with Examples in Easy Language</a></li>
              <li>NSA made SELinux. How trustworthy is it? Does it have NSA backdoors?
                <ul>
                  <li><a href="https://security.stackexchange.com/questions/42383/how-trustworthy-is-selinux">linux - How trustworthy is SELinux? - Information Security Stack Exchange</a></li>
                  <li>2017, <a href="https://www.reddit.com/r/linux/comments/54in5s/the_nsa_has_tried_to_backdoor_linux_three_times/">The NSA has tried to backdoor linux three times : linux</a></li>
                </ul>
              </li>
            </ul>
          </li>
          <li>What is the relationship/difference between MAC (mandatory access control) and DAC (discretionary access control)?
  Are they antonyms? Complements?
            <ul>
              <li><a href="https://security.stackexchange.com/questions/63518/mac-vs-dac-vs-rbac">access control - MAC vs DAC vs RBAC - Information Security Stack Exchange</a></li>
            </ul>
          </li>
        </ul>
      </li>
      <li>The only real secure way to run an untrusted application is on a different machine with no network connection.</li>
    </ul>
  </li>
  <li><a href="https://linux.die.net/man/1/pv">pv(1): monitor progress of data through pipe - Linux man page</a></li>
  <li><a href="https://stedolan.github.io/jq/">jq</a>, <a href="https://en.wikipedia.org/wiki/Jq_(programming_language)">WP:jq (programming language)</a></li>
</ul>

<h2 id="sudo-security-hole-mitigation-dont-reuse-the-terminal-you-use-for-sudo">sudo security hole mitigation: Don’t reuse the terminal you use for sudo.</h2>

<p>The problem:
If you run sudo in a terminal,
then every program you run in the same terminal shortly after can become root without asking for your password,
(You may not have this problem if your system disables credential caching.)</p>

<p>To see how, save this into <code class="highlighter-rouge">evil.sh</code>, and then <code class="highlighter-rouge">chmod 755 evil.sh</code>, and then <code class="highlighter-rouge">sudo echo login</code>, and then <code class="highlighter-rouge">./evil.sh</code>.</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c">#!/bin/bash</span>
<span class="c"># If you run this script not long after sudoing in the same terminal,</span>
<span class="c"># then this script can become root without prompting for your password.</span>
<span class="nb">sudo echo </span>PWNED <span class="c"># could be a malicious program</span>
</code></pre></div></div>

<p>The security hole is by design for convenience because people don’t like typing their passwords.
This hole is not fatal; the user can control this.
It seems that this hole won’t be closed;
there doesn’t seem to be any way of closing this hole without annoying the user.</p>

<p>The mitigation is simple disciplined behavior:</p>

<ul>
  <li>Do as few things as necessary in an elevated terminal.</li>
  <li>Run only trusted programs and scripts.</li>
  <li>Close the terminal as soon as possible.
Alternatively, you can also run <code class="highlighter-rouge">sudo -K</code> to remove the cache.</li>
</ul>

<h2 id="probably-relevant-twitters">Probably relevant Twitters</h2>

<ul>
  <li><a href="https://twitter.com/nixcraft">nixcraft</a>: some humor, some important</li>
</ul>

  </div>

</article>

      </div>
    </main>

    
    
<div id="disqus_thread"></div>
<script>

/**
*  RECOMMENDED CONFIGURATION VARIABLES: EDIT AND UNCOMMENT THE SECTION BELOW TO INSERT DYNAMIC VALUES FROM YOUR PLATFORM OR CMS.
*  LEARN WHY DEFINING THESE VARIABLES IS IMPORTANT: https://disqus.com/admin/universalcode/#configuration-variables*/
var disqus_config = function () {
    this.page.url = "https://edom.github.io/sysadm.html";  // Replace PAGE_URL with your page's canonical URL variable
    this.page.identifier = "https://edom.github.io/sysadm.html"; // Replace PAGE_IDENTIFIER with your page's unique identifier variable
};
(function() { // DON'T EDIT BELOW THIS LINE
var d = document, s = d.createElement('script');
s.src = 'https://edom-github-io.disqus.com/embed.js';
s.setAttribute('data-timestamp', +new Date());
(d.head || d.body).appendChild(s);
})();
</script>
<noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
    

    <footer class="site-footer h-card">
    <data class="u-url" href="/"></data>

    <div class="wrapper">
        <p>This page was created on 2018-08-10 03:49 +0700.</p>
        <p class="rss-subscribe">There is an <a href="/feed.xml">RSS feed</a>,
        but it's unused because this site is a wiki, not a blog.</p>
        <p>Stop writing books, papers, and blogs! Write a personal wiki instead! Or, even better, contribute to a community wiki.</p>
    </div>

</footer>


  </body>

</html>
