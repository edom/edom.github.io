<!DOCTYPE html>
<html lang="en">

  <head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <title>Using Emacs</title>
  <meta name="description" content="Personal website">

  <link href="https://fonts.googleapis.com/css?family=Libre+Baskerville:400,400i,700&amp;subset=latin-ext" rel="stylesheet">
  <link rel="stylesheet" href="/assets/main.css">
  <link rel="canonical" href="https://edom.github.io/emacs.html">
  <link rel="alternate" type="application/rss+xml" title="Erik Dominikus&#39;s wiki" href="/feed.xml">

  

  
  <script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-12628443-6', 'auto');
  ga('send', 'pageview');

</script>
  

  

  
</head>


  <body>

    <header class="site-header" role="banner">
  <div class="wrapper">
    <a class="site-title" rel="author" href="/">Erik Dominikus&#39;s wiki</a>
  </div>
</header>


    

    <main class="page-content" aria-label="Content">
      <div class="wrapper">
        <article class="post">

  <header class="post-header">
    <h1 class="post-title">Using Emacs</h1>
  </header>

  <div class="post-content">
    <ul id="markdown-toc">
  <li><a href="#some-convincement-and-indoctrination" id="markdown-toc-some-convincement-and-indoctrination">Some convincement and indoctrination</a></li>
  <li><a href="#note-about-key-notation" id="markdown-toc-note-about-key-notation">Note about key notation</a></li>
  <li><a href="#installing-emacs" id="markdown-toc-installing-emacs">Installing Emacs</a></li>
  <li><a href="#launching-emacs" id="markdown-toc-launching-emacs">Launching Emacs</a></li>
  <li><a href="#configuring-emacs" id="markdown-toc-configuring-emacs">Configuring Emacs</a></li>
  <li><a href="#basics" id="markdown-toc-basics">Basics</a>    <ul>
      <li><a href="#common-keys" id="markdown-toc-common-keys">Common keys</a></li>
      <li><a href="#using-buffers-and-windows" id="markdown-toc-using-buffers-and-windows">Using buffers and windows</a></li>
      <li><a href="#getting-help" id="markdown-toc-getting-help">Getting help</a></li>
      <li><a href="#autocompleting" id="markdown-toc-autocompleting">Autocompleting</a></li>
      <li><a href="#searching" id="markdown-toc-searching">Searching</a></li>
      <li><a href="#marking-jumping-copying-cutting-and-pasting" id="markdown-toc-marking-jumping-copying-cutting-and-pasting">Marking, jumping, copying, cutting, and pasting</a></li>
    </ul>
  </li>
  <li><a href="#basic-motions" id="markdown-toc-basic-motions">Basic motions</a>    <ul>
      <li><a href="#moving-by-a-character-or-a-line" id="markdown-toc-moving-by-a-character-or-a-line">Moving by a character or a line</a></li>
      <li><a href="#moving-by-a-screen" id="markdown-toc-moving-by-a-screen">Moving by a screen</a></li>
    </ul>
  </li>
  <li><a href="#navigating-the-file-system-using-dired" id="markdown-toc-navigating-the-file-system-using-dired">Navigating the file system using dired</a></li>
  <li><a href="#programming-in-emacs-lisp" id="markdown-toc-programming-in-emacs-lisp">Programming in Emacs Lisp</a>    <ul>
      <li><a href="#suggested-workflow" id="markdown-toc-suggested-workflow">Suggested workflow</a></li>
    </ul>
  </li>
  <li><a href="#going-deeper" id="markdown-toc-going-deeper">Going deeper</a></li>
</ul>

<h2 id="some-convincement-and-indoctrination">Some convincement and indoctrination</h2>

<ul>
  <li><a href="https://www.gnu.org/software/emacs/tour/">Emacs guided tour</a> is a showcase.
Perhaps there you will find a motivation to use emacs.</li>
</ul>

<h2 id="note-about-key-notation">Note about key notation</h2>

<p><code class="highlighter-rouge">C-a</code> means hold Ctrl and press the A key.</p>

<p><code class="highlighter-rouge">M-a</code> means hold Meta (Alt) and press the A key.</p>

<p><code class="highlighter-rouge">S-a</code> means hold Shift and press the A key.</p>

<p><code class="highlighter-rouge">RET</code> means press the Return/Enter key.</p>

<p><code class="highlighter-rouge">LEFT</code> means press the Left Arrow key.</p>

<p><code class="highlighter-rouge">BKSP</code> means the Backspace key.
Emacs calls this key <code class="highlighter-rouge">DEL</code>.</p>

<p><code class="highlighter-rouge">SPC</code> means the Space key.</p>

<p><code class="highlighter-rouge">C-a C-b</code> means <code class="highlighter-rouge">C-a</code> and then <code class="highlighter-rouge">C-b</code>.</p>

<p><code class="highlighter-rouge">M-x help</code> means press <code class="highlighter-rouge">M-x</code> and then type <code class="highlighter-rouge">help</code> (and press Enter if necessary).</p>

<h2 id="installing-emacs">Installing Emacs</h2>

<p>On 2018-09-07, the command
<code class="highlighter-rouge">sudo apt-get install emacs magit org-mode org-mode-doc</code>
on Ubuntu 14.04 will install:</p>

<ul>
  <li>emacs 24.3.1</li>
  <li>magit 1.2.0</li>
  <li>org-mode 8.2.4</li>
</ul>

<p>Org Mode is the gateway drug to Emacs.</p>

<p>If you want Emacs 26 on Ubuntu 14.04, try <a href="http://ergoemacs.org/emacs/building_emacs_on_linux.html">How to Build Emacs on Linux</a>.</p>

<h2 id="launching-emacs">Launching Emacs</h2>

<p>Launch emacs from your terminal in your working directory.
Use <code class="highlighter-rouge">emacs -fs</code> to start emacs fullscreen.
Use <code class="highlighter-rouge">emacs -mm</code> to start emacs maximized.</p>

<h2 id="configuring-emacs">Configuring Emacs</h2>

<p>Save a desktop/session so that emacs continues where you left off:
<code class="highlighter-rouge">M-x desktop-save</code>.
See also “Saving Emacs Sessions” in the Emacs manual.
Unfortunately Emacs 24.3 doesn’t save the frames and windows.</p>

<p>Set up your emacs initialization file <code class="highlighter-rouge">~/.emacs.d/init.el</code>.
Make sure that the file <code class="highlighter-rouge">~/.emacs</code> does not exist;
otherwise Emacs won’t read <code class="highlighter-rouge">~/.emacs.d/init.el</code>.
Copy others’ emacs init file, or use pre-configured Emacs derivatives such as Spacemacs.
You may want to commit your modifications to your personal Git repository,
and make <code class="highlighter-rouge">~/.emacs.d</code> a symbolic link.
Make sure that it doesn’t contain sensitive data (such as IRC passwords).</p>

<p>If Emacs is misbehaving (and you have no idea why), try nuking the file <code class="highlighter-rouge">~/.emacs</code> and the directory <code class="highlighter-rouge">~/.emacs.d</code>.
But you will lose all your customizations.</p>

<h2 id="basics">Basics</h2>

<h3 id="common-keys">Common keys</h3>

<p>To exit Emacs, <code class="highlighter-rouge">C-x C-c</code>.</p>

<p>To cancel a long-running action, or exit a prompt, press <code class="highlighter-rouge">C-g</code>.</p>

<p>To find/start/open/visit a file, <code class="highlighter-rouge">C-x C-f</code>.
The file doesn’t have to exist.</p>

<p>To open a file in the other window, <code class="highlighter-rouge">C-x 4 C-f</code>.</p>

<p>To autocomplete (where a file name or command name is expected), press <code class="highlighter-rouge">TAB</code>.</p>

<p>To start a shell, <code class="highlighter-rouge">M-x shell</code>.</p>

<h3 id="using-buffers-and-windows">Using buffers and windows</h3>

<ul>
  <li>buffers
    <ul>
      <li><code class="highlighter-rouge">C-x C-f</code> opens a file or directory into a buffer</li>
      <li><code class="highlighter-rouge">C-x C-b</code> lists buffers in the other window</li>
      <li><code class="highlighter-rouge">C-x C-LEFT</code> goes to previous buffer</li>
      <li><code class="highlighter-rouge">C-x C-RIGHT</code> goes to next buffer</li>
      <li><code class="highlighter-rouge">C-x k</code> kills a buffer</li>
      <li><code class="highlighter-rouge">C-x s</code> saves some buffers</li>
      <li><code class="highlighter-rouge">C-x b</code> switches to another buffer, or opens a new buffer
        <ul>
          <li><code class="highlighter-rouge">C-x 4 b</code> the same, but in the other window</li>
        </ul>
      </li>
    </ul>
  </li>
  <li>windows
    <ul>
      <li><code class="highlighter-rouge">C-x 1</code> delete other windows (all windows except the focused one)
  ` <code class="highlighter-rouge">C-x o</code> switches to another window / the other window</li>
      <li><code class="highlighter-rouge">C-x 2</code> split window below</li>
      <li><code class="highlighter-rouge">C-x 3</code> split window right</li>
    </ul>
  </li>
  <li><code class="highlighter-rouge">C-x 4 0</code> kill-buffer-and-window</li>
</ul>

<h3 id="getting-help">Getting help</h3>

<ul>
  <li><code class="highlighter-rouge">C-h ?</code> help for help</li>
  <li><code class="highlighter-rouge">C-h k</code> describe key sequence</li>
  <li><code class="highlighter-rouge">C-h a</code> apropos (find command matching a given pattern)</li>
  <li><code class="highlighter-rouge">C-h i</code> info document reader; usually documents some emacs packages/plugins</li>
  <li><code class="highlighter-rouge">C-h t</code> tutorial for Emacs</li>
  <li><code class="highlighter-rouge">C-h r</code> read Emacs manual</li>
</ul>

<h3 id="autocompleting">Autocompleting</h3>

<ul>
  <li><code class="highlighter-rouge">C-M-i</code> autocomplete symbol (mainly for Emacs Lisp)</li>
</ul>

<h3 id="searching">Searching</h3>

<ul>
  <li>entering incremental search
    <ul>
      <li><code class="highlighter-rouge">C-s</code> forward incremental search</li>
      <li><code class="highlighter-rouge">C-r</code> reverse incremental search</li>
      <li><code class="highlighter-rouge">C-M-s</code> forward incremental search regex
        <ul>
          <li>The regex syntax is somewhere in <a href="https://www.gnu.org/software/emacs/tour/">A guided tour of Emacs</a></li>
        </ul>
      </li>
    </ul>
  </li>
  <li>While in incremental search prompt:
    <ul>
      <li><code class="highlighter-rouge">C-s</code> go to next occurrence</li>
      <li><code class="highlighter-rouge">C-r</code> go to previous occurrence</li>
      <li><code class="highlighter-rouge">M-p</code> previous item in search history</li>
      <li><code class="highlighter-rouge">M-n</code> next item in search history</li>
    </ul>
  </li>
  <li><code class="highlighter-rouge">C-h k C-s</code> describe your options while in incremental search prompt</li>
  <li><code class="highlighter-rouge">M-%</code> query replace</li>
</ul>

<h3 id="marking-jumping-copying-cutting-and-pasting">Marking, jumping, copying, cutting, and pasting</h3>

<ul>
  <li>rapidly moving between two locations
    <ul>
      <li><code class="highlighter-rouge">C-SPC</code> set mark to current point</li>
      <li><code class="highlighter-rouge">C-x C-x</code> swap mark and current point</li>
    </ul>
  </li>
  <li>while marking
    <ul>
      <li>cutting
        <ul>
          <li><code class="highlighter-rouge">C-w</code> kill region (cut it into clipboard)</li>
          <li><code class="highlighter-rouge">M-w</code> copy region into clipboard</li>
        </ul>
      </li>
    </ul>
  </li>
  <li><code class="highlighter-rouge">C-k</code> kill the rest of current line</li>
  <li><code class="highlighter-rouge">C-y</code> paste from clipboard</li>
  <li><code class="highlighter-rouge">C-S-BKSP</code> kill entire line</li>
</ul>

<p>Some commands set the mark.</p>

<h2 id="basic-motions">Basic motions</h2>

<h3 id="moving-by-a-character-or-a-line">Moving by a character or a line</h3>

<ul>
  <li>horizontally/characterwise
    <ul>
      <li><code class="highlighter-rouge">C-b</code> moves the cursor back to the previous character</li>
      <li><code class="highlighter-rouge">C-f</code> moves the cursor forward to the next character</li>
      <li><code class="highlighter-rouge">C-a</code> moves the cursor to the beginning of line</li>
      <li><code class="highlighter-rouge">C-e</code> moves the cursor to the ending of line</li>
    </ul>
  </li>
  <li>vertically/linewise
    <ul>
      <li><code class="highlighter-rouge">C-n</code> moves the cursor down to the next line</li>
      <li><code class="highlighter-rouge">C-p</code> moves the cursor up to the previous line</li>
    </ul>
  </li>
</ul>

<h3 id="moving-by-a-screen">Moving by a screen</h3>

<ul>
  <li><code class="highlighter-rouge">M-v</code> goes up a screen</li>
  <li><code class="highlighter-rouge">C-v</code> goes down a screen</li>
  <li><code class="highlighter-rouge">C-M-v</code> goes down a screen in the other window</li>
  <li><code class="highlighter-rouge">C-M-S-v</code> goes up a screen in the other window</li>
</ul>

<p>(Emacs call scroll-<em>up</em>-command for what I think as going <em>down</em> a screen.
Emacs thinks about moving the text.
I think about moving the viewport.)</p>

<h2 id="navigating-the-file-system-using-dired">Navigating the file system using dired</h2>

<p>Input <code class="highlighter-rouge">C-x C-f</code>, input a directory path, and press Enter.
Emacs opens Dired (directory edit) mode.</p>

<ul>
  <li>Navigating:
    <ul>
      <li><code class="highlighter-rouge">BKSP</code> moves the cursor up one item.</li>
      <li><code class="highlighter-rouge">SPC</code> moves the cursor down one item.</li>
      <li><code class="highlighter-rouge">l</code> (small L) refreshes the display.</li>
    </ul>
  </li>
  <li>Opening:
    <ul>
      <li><code class="highlighter-rouge">RET</code> opens the item in the current window.
  If it’s a directory, emacs opens another dired.
  If it’s a file, emacs opens the editor.</li>
      <li><code class="highlighter-rouge">o</code> (small O) opens the item in the other window.</li>
    </ul>
  </li>
</ul>

<p>Read the dired info documentation.</p>

<p>Use <code class="highlighter-rouge">C-h m</code> or <code class="highlighter-rouge">M-x describe-mode</code> to get some help.</p>

<ul>
  <li>Unanswered question:
    <ul>
      <li>What is the Emacs equivalent of VSCode Ctrl+P (open file fuzzy search / approximate string matching / subsequence matching)?
        <ul>
          <li>Completion styles.
            <ul>
              <li><a href="https://www.gnu.org/software/emacs/manual/html_node/emacs/Completion-Styles.html">Completion Styles - GNU Emacs Manual</a></li>
            </ul>
          </li>
          <li>arcane stuffs
            <ul>
              <li><a href="https://emacs.stackexchange.com/questions/13500/fuzzy-completion-style">minibuffer - fuzzy completion-style - Emacs Stack Exchange</a></li>
            </ul>
          </li>
        </ul>
      </li>
    </ul>
  </li>
</ul>

<h2 id="programming-in-emacs-lisp">Programming in Emacs Lisp</h2>

<ul>
  <li><code class="highlighter-rouge">M-\</code> delete all spaces and tabs around point</li>
  <li><code class="highlighter-rouge">C-M-k</code> kill s-expression</li>
  <li><code class="highlighter-rouge">C-x C-e</code> eval last s-expression before point</li>
  <li>indenting/formatting
    <ul>
      <li><code class="highlighter-rouge">C-M-\</code> indent region</li>
      <li><code class="highlighter-rouge">M-x indent-sexp</code></li>
    </ul>
  </li>
  <li>partial reloading
    <ul>
      <li><code class="highlighter-rouge">C-M-x</code> or <code class="highlighter-rouge">M-x eval-defun</code></li>
      <li><code class="highlighter-rouge">M-x eval-region</code></li>
    </ul>
  </li>
  <li>setq</li>
  <li>add-to-list</li>
  <li>load</li>
  <li>load-path</li>
  <li>funcall</li>
</ul>

<p>For someone used to Scheme, Emacs Lisp is unpleasant.</p>

<ul>
  <li>How do I define a local function?
    <ul>
      <li>You define it with let and lambda, as in Scheme.
  But you call it by prepending funcall.
  If in Scheme you write <code class="highlighter-rouge">(f a b)</code>,
  then in Emacs Lisp you write <code class="highlighter-rouge">(funcall f a b)</code>.
        <ul>
          <li>Why do I need this funcall noise?
  Because it’s Lisp-2.
  If you don’t like that, and you don’t mind depending on the <code class="highlighter-rouge">cl</code> package,
  then you can use <code class="highlighter-rouge">flet</code> as described in <a href="https://www.emacswiki.org/emacs/LocalFunctions">EmacsWiki: Local Functions</a>.
  However, <code class="highlighter-rouge">cl</code> is a big package; it’s a waste of dependencies if you only use <code class="highlighter-rouge">flet</code>.</li>
        </ul>
      </li>
    </ul>
  </li>
  <li>Warts for historical reasons
    <ul>
      <li>Lexical scoping is not the default.</li>
      <li>Emacs Lisp doesn’t have proper tail calls.</li>
    </ul>
  </li>
  <li>Contentious
    <ul>
      <li>Lisp macro is simpler than Scheme macro, but Lisp macro is unhygienic.</li>
    </ul>
  </li>
</ul>

<h3 id="suggested-workflow">Suggested workflow</h3>

<p>This example is for developing org mode:</p>

<p>Run several emacs processes:</p>

<ul>
  <li>In workspace 1, run <code class="highlighter-rouge">emacs -mm</code> for writing Emacs Lisp code.</li>
  <li>In workspace 2, run <code class="highlighter-rouge">emacs -fh --no-desktop --visit ORGFILE</code> for testing. We’ll often restart this instance.</li>
  <li>In workspace 2, run <code class="highlighter-rouge">emacs -Q -fh --eval '(info "/usr/share/info/org.gz")'</code> for reading the org mode manual.</li>
</ul>

<h2 id="going-deeper">Going deeper</h2>

<ul>
  <li>Read the emacs manual in emacs.</li>
  <li>magit: <a href="https://magit.vc/">It’s Magit! A Git Porcelain inside Emacs</a>
    <ul>
      <li>vs git-el?</li>
    </ul>
  </li>
  <li>erc: IRC with emacs</li>
  <li>opening PDF with emacs</li>
  <li>browsing the Internet with emacs</li>
  <li>icicles: “emacs library that enhances minibuffer/input completion”</li>
  <li>programming: paredit, haskell-mode, golang-mode, etc.</li>
  <li>Going even deeper
    <ul>
      <li>Write an Emacs Lisp program</li>
      <li>Compare Emacs Lisp and Vim Script</li>
    </ul>
  </li>
  <li>what
    <ul>
      <li>remembrance-agent: Emacs mode to help find relevant texts</li>
      <li>twittering-mode: Twitter client for Emacs</li>
      <li><a href="http://ergoemacs.org/emacs/emacs_hand_pain_celebrity.html">Famous Programers with Repetitive Strain Injury</a></li>
    </ul>
  </li>
  <li><a href="http://blog.vivekhaldar.com/post/3996068979/the-levels-of-emacs-proficiency">Vivek Haldar — The levels of Emacs proficiency</a></li>
  <li><a href="https://orgmode.org/">Org mode for Emacs – Your Life in Plain Text</a></li>
  <li><a href="http://ergoemacs.org/emacs/emacs.html">Xah Lee’s Emacs tutorial</a></li>
  <li>Learning emacs from others
    <ul>
      <li><a href="https://www.reddit.com/r/emacs/comments/3hevcv/how_does_your_emacs_setup_look_like/">How does your Emacs setup look like? : emacs</a></li>
      <li><a href="https://www.quora.com/What-does-your-Emacs-setup-look-like">What does your Emacs setup look like? - Quora</a></li>
      <li><a href="https://github.com/emacs-tw/awesome-emacs">emacs-tw/awesome-emacs: A community driven list of useful Emacs packages, libraries and others.</a></li>
    </ul>
  </li>
  <li>Other editors I haven’t tried
    <ul>
      <li><a href="http://diakonos.pist0s.ca/">Diakonos - a linux editor for the masses</a></li>
      <li>Spacemacs</li>
      <li>non-free
        <ul>
          <li><a href="https://www.sublimetext.com/">Sublime Text - A sophisticated text editor for code, markup and prose</a></li>
        </ul>
      </li>
      <li>TeX/LaTeX
        <ul>
          <li>GNU TeXmacs</li>
          <li>WhizzyTeX</li>
        </ul>
      </li>
      <li>XEmacs? emacs-lucid?
        <ul>
          <li><a href="https://en.wikipedia.org/wiki/XEmacs#History">WP:XEmacs history</a></li>
          <li><a href="http://ergoemacs.org/emacs/emacs_vs_xemacs.html">Xah Lee: My Experience of Emacs vs XEmacs</a>
            <ul>
              <li><a href="http://ergoemacs.org/emacs/gnu_emacs_xemacs_schism_Ben_Wing.html">Ben Wing: GNU Emacs and XEmacs Schism</a></li>
            </ul>
          </li>
        </ul>
      </li>
    </ul>
  </li>
</ul>

  </div>

</article>

      </div>
    </main>

    
    
<div id="disqus_thread"></div>
<script>

/**
*  RECOMMENDED CONFIGURATION VARIABLES: EDIT AND UNCOMMENT THE SECTION BELOW TO INSERT DYNAMIC VALUES FROM YOUR PLATFORM OR CMS.
*  LEARN WHY DEFINING THESE VARIABLES IS IMPORTANT: https://disqus.com/admin/universalcode/#configuration-variables*/
var disqus_config = function () {
    this.page.url = "https://edom.github.io/emacs.html";  // Replace PAGE_URL with your page's canonical URL variable
    this.page.identifier = "https://edom.github.io/emacs.html"; // Replace PAGE_IDENTIFIER with your page's unique identifier variable
};
(function() { // DON'T EDIT BELOW THIS LINE
var d = document, s = d.createElement('script');
s.src = 'https://edom-github-io.disqus.com/embed.js';
s.setAttribute('data-timestamp', +new Date());
(d.head || d.body).appendChild(s);
})();
</script>
<noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
    

    <footer class="site-footer h-card">
    <data class="u-url" href="/"></data>

    <div class="wrapper">
        <p>This page was created on 2018-09-07 16:11 +0700.</p>
        <p class="rss-subscribe">There is an <a href="/feed.xml">RSS feed</a>,
        but it's unused because this site is a wiki, not a blog.</p>
        <p>Stop writing books, papers, and blogs! Write a personal wiki instead! Or, even better, contribute to a community wiki.</p>
    </div>

</footer>


  </body>

</html>
