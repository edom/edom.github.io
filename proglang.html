<!DOCTYPE html>
<html lang="">
    <head>
        <meta charset="UTF-8"/>
        <title>Designing programming languages</title>
        <link rel="stylesheet" href="/assets/main.css"/>
        <script>
// Help the reader estimate how much time the reading is going to take.
// Show word count and reading time estimation in TOC entry.
//
// TOC = table of contents
//
// Known issue: This janks: this DOM manipulation is done after the page is rendered.
// If we don't want jank, we have to manipulate the HTML source before it reaches the browser.
// We assume that the user doesn't refresh the page while reading.
// The benefit of fixing that jank is not enough for me to justify trying to fix it.
document.addEventListener("DOMContentLoaded", function () {
    function count_word (string) {
        return string.trim().split(/\s+/).length;
    }
    function show_quantity (count, singular) {
        let plural = singular + "s"; // For this script only.
        return count + " " + ((count == 1) ? singular : plural);
    }
    function create_length_indicator (word, minute) {
        let e = document.createElement("span");
        e.className = "toc_entry__length_indicator";
        e.textContent = " (" + show_quantity(word, "word") + " ~ " + show_quantity(minute, "minute") + ")";
        return e;
    }
    // We assume that readers read this many words per minute with 100% comprehension.
    // This assumption may not hold for dense texts such as philosophy and mathematics.
    const wpm_assumption = 200;
    // We assume a certain Jekyll template.
    let page = document.querySelector("main.page-content");
    if (page === null) {
        console.log("toc_generate_estimate: Impossible: CSS selector \"main.page-content\" does not match anything");
        return;
    }
    let page_title = document.querySelector("header.post-header h1.post-title");
    if (page_title === null) {
        console.log("toc_generate_estimate: Impossible: CSS selector \"header.post-header h1.post-title\" does not match anything");
        return;
    }
    let page_word = count_word(page.textContent);
    let page_minute = Math.ceil(page_word / wpm_assumption);
    page_title.insertAdjacentElement("afterend", create_length_indicator(page_word, page_minute));
    // We violate the HTML specification.
    // The page may have several elements with the same ID.
    // We assume that Org HTML Export generates a DIV element with ID "table-of-contents".
    // We assume that Jekyll Markdown-to-HTML generates a UL element with ID "markdown-toc".
    // This only works for Org HTML Export's TOC.
    let toc_entries = document.querySelectorAll("#table-of-contents a, #text-table-of-contents a");
    toc_entries.forEach((toc_entry_a) => {
        let href = toc_entry_a.getAttribute("href"); // We assume that this is a string like "#org0123456".
        if (href.charAt(0) !== '#') {
            console.log("toc_generate_estimate: Impossible: " + href + " does not begin with hash sign");
            return;
        }
        // We can't just document.querySelector(href) because target_id may contain invalid ID characters such as periods.
        let target_id = href.substring(1);
        let id_escaped = target_id.replace("\"", "\\\"");
        let h_elem = document.querySelector("[id=\"" + id_escaped + "\"]"); // We assume that this is the h1/h2/h3 element referred by the TOC entry.
        if (h_elem === null) { // We assume that this is impossible.
            console.log("toc_generate_estimate: Impossible: " + href + " does not refer to anything");
            return;
        }
        let section = h_elem.parentNode;
        let section_word = count_word(section.textContent);
        let section_minute = Math.ceil(section_word / wpm_assumption);
        toc_entry_a.insertAdjacentElement("afterend", create_length_indicator(section_word, section_minute));
    });
});
        </script>

        <script async src="https://www.googletagmanager.com/gtag/js?id=UA-12628443-6"></script>
<script>
  window['ga-disable-UA-12628443-6'] = window.doNotTrack === "1" || navigator.doNotTrack === "1" || navigator.doNotTrack === "yes" || navigator.msDoNotTrack === "1";
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());
  gtag('config', 'UA-12628443-6');
</script>
        
        <script type="text/x-mathjax-config">
        MathJax.Hub.Config({
            jax: ["input/TeX","input/MathML","input/AsciiMath",
            "output/CommonHTML"
            ],
            extensions: ["tex2jax.js","mml2jax.js","asciimath2jax.js","MathMenu.js","MathZoom.js","AssistiveMML.js", "a11y/accessibility-menu.js"],
            TeX: {
                extensions: ["AMSmath.js","AMSsymbols.js","noErrors.js","noUndefined.js"]
                , equationNumbers: {
                    autoNumber: "AMS"
                }
            },
            "CommonHTML": {
                scale: 100
            },
            "fast-preview": {
                disabled: true,
            }
        });
        </script>
        <style>
            /*
            PreviewHTML produces small Times New Roman text.
            PreviewHTML scale doesn't work.
            */
            .MathJax_PHTML { font-size: 110%; }
        </style>
        <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js" async defer></script>
    </head>
    <body>
        <header class="site-header" role="banner">
            <div class="wrapper">
                <a class="site-title" rel="author" href="/">Erik Dominikus's home page</a>
            </div>
        </header>
    <div style="display:none;">\(
    \renewcommand\emptyset{\varnothing}
    \newcommand\abs[1]{\left|#1\right|}
    \newcommand\dom{\textrm{dom}}
    \newcommand\cod{\textrm{cod}}
    \newcommand\Bernoulli{\textrm{Bernoulli}}
    \newcommand\Binomial{\textrm{Binomial}}
    \newcommand\Expect[1]{\mathbb{E}[#1]}
    \newcommand\Nat{\mathbb{N}}
    \newcommand\Integers{\mathbb{Z}}
    \newcommand\Real{\mathbb{R}}
    \newcommand\Rational{\mathbb{Q}}
    \newcommand\Complex{\mathbb{C}}
    \newcommand\Pr{\mathrm{P}}
    \newcommand\Time{\text{Time}}
    \newcommand\DTime{\text{DTime}}
    \newcommand\NTime{\text{NTime}}
    \newcommand\TimeP{\text{P}}
    \newcommand\TimeNP{\text{NP}}
    \newcommand\TimeExp{\text{ExpTime}}
    \newcommand\norm[1]{\left\lVert#1\right\rVert}
    \newcommand\bbA{\mathbb{A}}
    \newcommand\bbC{\mathbb{C}}
    \newcommand\bbD{\mathbb{D}}
    \newcommand\bbE{\mathbb{E}}
    \newcommand\bbN{\mathbb{N}}
    \newcommand\frakI{\mathfrak{I}}
    % deprecated; use TimeExp
    \newcommand\ExpTime{\text{ExpTime}}
    \newcommand\Compute{\text{Compute}}
    \newcommand\Search{\text{Search}}
    % model theory structure
    \newcommand\struc[1]{\mathcal{#1}}
    \)</div>
        <main class="page-content" aria-label="Content">
            <div class="wrapper">
                <article class="post">
                    <header class="post-header">
                        <h1 class="post-title">Designing programming languages</h1>
                    </header>
                </article>
                <div class="post-content">
<p>Disclaimer:</p>
<ul>
<li>This will change without notice.</li>
<li>This may contain mistakes.</li>
<li>Opinions may change.</li>
</ul>
<div class="local_table_of_contents">
<ul>
<li><span class="section_number">1</span><span class="section_title"><a href="#executive-summary">Executive summary</a></span><span class="word_count">(136w~1m)</span></li>
<li><span class="section_number">2</span><span class="section_title"><a href="#planned-structure-of-this-article">(planned) Structure of this article</a></span><span class="word_count">(24w~1m)</span></li>
<li><span class="section_number">3</span><span class="section_title"><a href="#total-separation-between-names-and-referents">Total separation between names and referents</a></span><span class="word_count">(483w~3m)</span></li>
<li><span class="section_number">4</span><span class="section_title"><a href="#summary-of-what-i-think-the-best-programming-language-would-is-like-as-of-2018-12-30">Summary of what I think the best programming language would is like, as of &lt;2018-12-30&gt;</a></span><span class="word_count">(83w~1m)</span></li>
<li><span class="section_number">5</span><span class="section_title"><a href="#introduction">Introduction</a></span><span class="word_count">(66w~1m)</span></li>
<li><span class="section_number">6</span><span class="section_title"><a href="#effects-side-effects-and-errors">Effects, side-effects, and errors</a></span><span class="word_count">(565w~3m)</span></li>
<li><span class="section_number">7</span><span class="section_title"><a href="#modules">Modules</a></span><span class="word_count">(186w~1m)</span></li>
<li><span class="section_number">8</span><span class="section_title"><a href="#proving-and-testing">Proving and testing</a></span><span class="word_count">(62w~1m)</span></li>
<li><span class="section_number">9</span><span class="section_title"><a href="#module-systems">Module systems</a></span><span class="word_count">(1178w~6m)</span></li>
<li><span class="section_number">10</span><span class="section_title"><a href="#strings-especially-of-characters">Strings, especially of characters</a></span><span class="word_count">(135w~1m)</span></li>
<li><span class="section_number">11</span><span class="section_title"><a href="#dictionary-map-associative-array-record-finite-function-hash-table">Dictionary, map, associative array, record, finite function, hash table</a></span><span class="word_count">(49w~1m)</span></li>
<li><span class="section_number">12</span><span class="section_title"><a href="#the-human-aspect">The human aspect</a></span><span class="word_count">(202w~2m)</span></li>
<li><span class="section_number">13</span><span class="section_title"><a href="#designing-the-programming-language">Designing the programming language</a></span><span class="word_count">(7429w~38m)</span></li>
<li><span class="section_number">14</span><span class="section_title"><a href="#programming-language-design-mistakes">Programming language design mistakes</a></span><span class="word_count">(895w~5m)</span></li>
<li><span class="section_number">15</span><span class="section_title"><a href="#total-mess">Total mess</a></span><span class="word_count">(3901w~20m)</span></li>
<li><span class="section_number">16</span><span class="section_title"><a href="#implementing-programming-languages">Implementing programming languages</a></span><span class="word_count">(122w~1m)</span></li>
<li><span class="section_number">17</span><span class="section_title"><a href="#meta-programming">Meta-programming?</a></span><span class="word_count">(99w~1m)</span></li>
<li><span class="section_number">18</span><span class="section_title"><a href="#enterprise-applications-model-extrinsic-properties">Enterprise applications model extrinsic properties</a></span><span class="word_count">(40w~1m)</span></li>
<li><span class="section_number">19</span><span class="section_title"><a href="#growing-a-programming-language">Growing a programming language?</a></span><span class="word_count">(24w~1m)</span></li>
<li><span class="section_number">20</span><span class="section_title"><a href="#functions-as-semantics-of-lambda-calculus">Functions as semantics of lambda calculus?</a></span><span class="word_count">(111w~1m)</span></li>
<li><span class="section_number">21</span><span class="section_title"><a href="#object-lambda-record-mutation">object = lambda + record + mutation?</a></span><span class="word_count">(7w~1m)</span></li>
<li><span class="section_number">22</span><span class="section_title"><a href="#unifying-functional-and-logic-programming-as-a-rewriting-system">Unifying functional and logic programming as a rewriting system</a></span><span class="word_count">(353w~2m)</span></li>
<li><span class="section_number">23</span><span class="section_title"><a href="#logic-programming-with-explicit-side-effects-with-force-predicate">Logic programming with explicit side-effects with force-predicate</a></span><span class="word_count">(42w~1m)</span></li>
<li><span class="section_number">24</span><span class="section_title"><a href="#prolog-as-a-term-rewriting-meta-interpreter">Prolog as a term-rewriting meta-interpreter</a></span><span class="word_count">(38w~1m)</span></li>
<li><span class="section_number">25</span><span class="section_title"><a href="#write-abstract-interpreters-not-compilers">Write abstract interpreters, not compilers?</a></span><span class="word_count">(67w~1m)</span></li>
<li><span class="section_number">26</span><span class="section_title"><a href="#bibliography">Bibliography</a></span><span class="word_count">(112w~1m)</span></li>
</ul>
</div>
<h2 id="executive-summary"><span class="section_number">1</span><span class="section_title">Executive summary</span></h2>
<p>The target audience is programming language designers and implementors.</p>
<p>I suggest that programming language implementors follow these principles:</p>
<ul>
<li>Maximum composability and name-clash-freedom
<ul>
<li>The language must clearly separate names and referents. Name must not be a property of anything. Every language element must be able to exist anonymously. Every language element must be able to be referred to by a name. Example: JavaScript function vs C function.</li>
<li>The module systems must be a combination of JavaScript module system and Ocaml module system. Module must be first-class and anonymous.</li>
</ul></li>
<li>Metaprogrammability
<ul>
<li>The language must be homoiconic. The language must comfortably model its own syntax.</li>
<li>The language must use Curry-style type system (extrinsic typing), not Church-style type system (intrinsic typing).</li>
</ul></li>
<li>Usability
<ul>
<li>Overloading (giving same name several different meanings at the same time)?</li>
<li>The language must be lexically scoped.</li>
</ul></li>
</ul>
<p>We have two choices: Fix existing languages, or create a new language.</p>
<h2 id="planned-structure-of-this-article"><span class="section_number">2</span><span class="section_title">(planned) Structure of this article</span></h2>
<ul>
<li>philosophical principles and meta-thoughts</li>
<li>essence of computation</li>
<li>essence of programming</li>
<li>philosophical principles of language design</li>
<li>criteria for a module system free of name clashes</li>
</ul>
<h2 id="total-separation-between-names-and-referents"><span class="section_number">3</span><span class="section_title">Total separation between names and referents</span></h2>
<div class="local_table_of_contents">
<ul>
<li><span class="section_number">3.1</span><span class="section_title"><a href="#example-with-functions">Example with functions</a></span><span class="word_count">(165w~1m)</span></li>
<li><span class="section_number">3.2</span><span class="section_title"><a href="#example-with-modules">Example with modules</a></span><span class="word_count">(233w~2m)</span></li>
<li><span class="section_number">3.3</span><span class="section_title"><a href="#philosophical-investigation">Philosophical investigation</a></span><span class="word_count">(82w~1m)</span></li>
</ul>
</div>
<h3 id="example-with-functions"><span class="section_number">3.1</span><span class="section_title">Example with functions</span></h3>
<p>Consider this example:</p>
<pre class="example"><code>// C
double add1 (double x) { return x + 1; }

// JavaScript
var add1 = function (x) { return x + 1; };
</code></pre>
<p>In C, the name &quot;add1&quot; is a property of the function. In JavaScript, &quot;add1&quot; is not a property of the function, but &quot;add1&quot; is a name that we use to refer to the function.</p>
<p>An analogous example: &quot;Erik&quot; is not a property of me. &quot;Erik&quot; is the name that people use to refer to me in a local scope (inside a room where I am the only person with that name). My existence does not depend on the name people use to refer to me. This is contrary to C that requires every function to decide its own name.</p>
<p>This separation between names and referents enhances composability. In programming parlance, when we say &quot;everything should be first-class&quot;, we mean this total separation between names and referents.</p>
<p>A function must not decide its own name. The caller of that function picks a name that it uses to refer to that function. The same goes for modules and every other language element that can be named.</p>
<h3 id="example-with-modules"><span class="section_number">3.2</span><span class="section_title">Example with modules</span></h3>
<p>The key message:</p>
<ul>
<li>A thing (function, module, etc.) should not decide its own name.</li>
<li>The implementation must be able to load a file into an anonymous module.</li>
<li>The implementation must load the same file at most once.</li>
</ul>
<p>If you satisfy those constraints, it will be simple to resolve name clashes in your language.</p>
<p>To avoid name clash, your module system must satisfy these:</p>
<ul>
<li>The user of a module, not the module itself, decides what to call that module. A module must not name itself. A module does not have a name. A name is not a property of a module. A name is something that the user of that module uses to refer to that module.</li>
<li>A module can contain other modules.</li>
</ul>
<p>As far as I know, the only languages with satisfactory module systems are JavaScript and TypeScript. Ocaml's anonymous modules and local imports are more satisfactory than JavaScript modules, but Ocaml as a whole is unsatisfactory because Ocaml infers module names from file names.</p>
<p>Most programming languages are unsatisfactory. A thing should not decide its own name.</p>
<pre class="example"><code>// Java
package foo;      // Unsatisfactory: package foo decides its own name
class Cls {
}

-- Haskell
module Foo where  -- Unsatisfactory: module Foo decides its own name
data Bar = Baz

## Ruby
module Foo        ## Unsatisfactory: module Foo decides its own name
  class Bar
  end
end

// C++
namespace foo {   // Unsatisfactory: namespace foo decides its own name
}
</code></pre>
<p>The implementation must be able to <em>load a file into an anonymous module</em>:</p>
<div class="sourceCode" id="cb3"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb3-1" title="1"><span class="co">// JavaScript module system is satisfactory:</span></a>
<a class="sourceLine" id="cb3-2" title="2"><span class="co">// foo.js contains a module, but it does not decide its own name;</span></a>
<a class="sourceLine" id="cb3-3" title="3"><span class="co">// the user of foo.js decides that</span></a>
<a class="sourceLine" id="cb3-4" title="4"><span class="co">// my_module is the local name it uses to refer to the module.</span></a>
<a class="sourceLine" id="cb3-5" title="5"><span class="kw">var</span> my_module <span class="op">=</span> <span class="at">require</span>(<span class="st">&quot;foo.js&quot;</span>)<span class="op">;</span></a></code></pre></div>
<p>The implementation must <em>load the same file at most once</em>. (Two files are the same iff their paths resolve to the same canonical path.) In this example, the contents of &quot;foo.js&quot; should be parsed exactly once.</p>
<div class="sourceCode" id="cb4"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb4-1" title="1"><span class="co">// JavaScript</span></a>
<a class="sourceLine" id="cb4-2" title="2"><span class="kw">var</span> foo1 <span class="op">=</span> <span class="at">require</span>(<span class="st">&quot;foo.js&quot;</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb4-3" title="3"><span class="kw">var</span> foo2 <span class="op">=</span> <span class="at">require</span>(<span class="st">&quot;foo.js&quot;</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb4-4" title="4"><span class="co">// foo2 should refer to the same thing that foo1 refers to</span></a></code></pre></div>
<p>A language used by millions of programmers must separate names and referents to avoid naming conflicts.</p>
<h3 id="philosophical-investigation"><span class="section_number">3.3</span><span class="section_title">Philosophical investigation</span></h3>
<p>Designing anything good: Name is not a property of anything. Name is a linguistic artifact that we use to refer to something. A function does not have a name. A predicate does not have a name.</p>
<p>A language must clearly separate names and referents (the things that the names refer to).</p>
<p>If Prolog is to have anonymous predicates, then it works with second-order logic, no longer with first-order logic.</p>
<p>The job of a module is to disambiguate names. Example: which &quot;member/2&quot; do we mean?</p>
<h2 id="summary-of-what-i-think-the-best-programming-language-would-is-like-as-of-2018-12-30"><span class="section_number">4</span><span class="section_title">Summary of what I think the best programming language would is like, as of &lt;2018-12-30&gt;</span></h2>
<p>general feel: Prolog + Haskell</p>
<p>Katahdin - runtime syntax manipulation</p>
<p>supercompilation + partial evaluation + compilation by abstract interpretation</p>
<p>user-extensible unification?</p>
<p>Type system: Curry-style, not Church-style. More like Erlang Dialyzer or TypeScript than Haskell. Users should be able to write their own program checkers and program transformations.</p>
<p>Module and import system: ld linker script, JavaScript, Nix import by lambda parameter name, Dhall, OCaml local import.</p>
<p>Syntax: Landin offside rule?</p>
<p>Pure + nondeterminism + JavaScript module system</p>
<h2 id="introduction"><span class="section_number">5</span><span class="section_title">Introduction</span></h2>
<p>There are two camps in programming language design: bottom-up and top-down.</p>
<p>Bottom-up language design:</p>
<ul>
<li>Begin with physics.</li>
<li>Claude Shannon abstracted the underlying physics into bits and boolean algebra.</li>
<li>Machine code.</li>
<li>Two's-complement signed integers.</li>
<li>Variables abstract away finite registers.</li>
<li>Garbage collection abstracts away finite memory.</li>
<li>Go up until the language is convenient enough to use.</li>
</ul>
<p>Top-down language design:</p>
<ul>
<li>Begin from logic and mathematics, the internal language of thought.</li>
<li>Go down until the language is convenient enough to realize.</li>
</ul>
<h2 id="effects-side-effects-and-errors"><span class="section_number">6</span><span class="section_title">Effects, side-effects, and errors</span></h2>
<div class="local_table_of_contents">
<ul>
<li><span class="section_number">6.1</span><span class="section_title"><a href="#an-effect-is-what">An effect is what?</a></span><span class="word_count">(335w~2m)</span></li>
<li><span class="section_number">6.2</span><span class="section_title"><a href="#an-error-is-an-unintended-behavior-unexpected-outcome">An error is an unintended behavior, unexpected outcome?</a></span><span class="word_count">(228w~2m)</span></li>
</ul>
</div>
<h3 id="an-effect-is-what"><span class="section_number">6.1</span><span class="section_title">An effect is what?</span></h3>
<p>What is an &quot;effect&quot;?</p>
<p>What is a &quot;side-effect&quot;?</p>
<p>Does &quot;side-&quot; imply undesirability?</p>
<p>Isn't memory allocation an effect?</p>
<p>What is a &quot;side-effect&quot;? Wikipedia<a href="#fn1" class="footnote-ref" id="fnref1"><sup>1</sup></a><a href="#fn2" class="footnote-ref" id="fnref2"><sup>2</sup></a> is inconclusive.</p>
<p>The &quot;side&quot; in &quot;side-effect&quot; implies that there are <em>effects</em> and <em>main-effects</em>, and that side-effects are unintended, unrelated, or unwanted. The <em>effect</em> of running a program is the change of the state of the universe that results from executing that program. In medicine, a side effect is an <em>unintended</em> effect, not necessarily bad<a href="#fn3" class="footnote-ref" id="fnref3"><sup>3</sup></a>. Thus, there is a parallel between chemists-and-drugs and programmers-and-programs: the designer of a drug (the programmer of a program) <em>intends</em> that taking the drug (running the program) accomplishes the <em>main-effect</em>, but reality is a bitch.</p>
<p>What is our intention when we write a program such as a Haskell program <code>inc x = (x :: Integer) + 1</code>? Our intention is that it increments an integer, for <em>every</em> integer, which is mathematically trivial but physically impossible. The side-effects are: heating up the CPU, taking up some memory, taking up some time. We certainly did not intend to heat up the CPU; therefore such heating is a side-effect. Thus the main-effect is the <em>denotation</em> (the mathematical meaning) of the program, and every implementation detail is a side-effect.</p>
<p>Thus &quot;side-effect&quot; means an effect that we failed to foresee, because the complexity was too much for us.</p>
<p>Side-effects may be fatal.</p>
<p>Spectre/Meltdown are side-effects in that sense. The chip designers sacrificed understandability for speed.</p>
<p>There is also the phrase &quot;algebraic effect&quot;.</p>
<p>We have to distinguish between a <em>program</em> and a <em>machine</em> running the program. A program does not run by itself. A <em>machine</em> runs a program. A program <em>describes</em> a computation. The machine <em>performs</em> the computation. A program is passive. A machine is active. A program exists in idea-world. A machine exists in material-world. A machine affects reality according to the program that the machine is running. The question: which is the <em>cause</em> of the change in reality: the machine or the program?</p>
<p>If we assume free will, then our thought causes our behavior, and our behavior causes something in the material-world.</p>
<h3 id="an-error-is-an-unintended-behavior-unexpected-outcome"><span class="section_number">6.2</span><span class="section_title">An error is an unintended behavior, unexpected outcome?</span></h3>
<p>Unintended behavior? How do we measure intention?</p>
<p>Error is like weed. They are subjective concepts. An error is an undesirable condition. Why are errors undesirable? Because they complicate programs.</p>
<p>Since 1726, an error is a &quot;difference between observed value and true value&quot;.<a href="#fn4" class="footnote-ref" id="fnref4"><sup>4</sup></a></p>
<p>An error is a difference between what is and what should be.</p>
<p>Midori programming language<a href="#fn5" class="footnote-ref" id="fnref5"><sup>5</sup></a><a href="#fn6" class="footnote-ref" id="fnref6"><sup>6</sup></a>.</p>
<p>Is an error a side-effect? Both errors and side-effects are unintended.</p>
<p>Let <span class="math inline">\(f&#39;\)</span> be what we think a system does. Let <span class="math inline">\(f\)</span> be what the system actually does. Then our error is <span class="math inline">\(f&#39; - f\)</span> which has to be equal to <span class="math inline">\(- (f - f&#39;)\)</span>. If each of <span class="math inline">\(f\)</span> and <span class="math inline">\(f&#39;\)</span> is a logic formula in a structure with domain <span class="math inline">\(D\)</span> and interpretation <span class="math inline">\(I\)</span>, then <span class="math inline">\(-\)</span> is symmetric difference, and negation is made with respect to <span class="math inline">\(D\)</span>.</p>
<p>For example, we think the system implements <span class="math inline">\( a \)</span>. It turns out that the system implements <span class="math inline">\( b \)</span>. Then the error is <span class="math inline">\((a \wedge \neg b) \vee (b \wedge \neg a)\)</span>. Let each of <span class="math inline">\(a\)</span> and <span class="math inline">\(b\)</span> be a formula. Define their symmetric difference <span class="math inline">\(a - b\)</span> as <span class="math inline">\((a \wedge \neg b) \vee (b \wedge \neg a)\)</span>, similar to set-theoretic symmetric difference<a href="#fn7" class="footnote-ref" id="fnref7"><sup>7</sup></a>.</p>
<p>For example, we think the system implements <span class="math inline">\( x \mapsto x + 3 \)</span>. It turns out that the system implements <span class="math inline">\( x \mapsto x + 2 \)</span>. Then the error is <span class="math inline">\(x \mapsto 1\)</span>.</p>
<h2 id="modules"><span class="section_number">7</span><span class="section_title">Modules</span></h2>
<div class="local_table_of_contents">
<ul>
<li><span class="section_number">7.1</span><span class="section_title"><a href="#what-are-the-differences-between-a-module-and-a-dictionary-a-table-a-map-a-finite-function">What are the differences between a module and a dictionary (a table, a map, a finite function)?</a></span><span class="word_count">(17w~1m)</span></li>
<li><span class="section_number">7.2</span><span class="section_title"><a href="#what-is-a-module">What is a module?</a></span><span class="word_count">(170w~1m)</span></li>
</ul>
</div>
<h3 id="what-are-the-differences-between-a-module-and-a-dictionary-a-table-a-map-a-finite-function"><span class="section_number">7.1</span><span class="section_title">What are the differences between a module and a dictionary (a table, a map, a finite function)?</span></h3>
<h3 id="what-is-a-module"><span class="section_number">7.2</span><span class="section_title">What is a module?</span></h3>
<p>What can we do with zero module? We can create the empty module. What can we do with a module? What can we do with many modules?</p>
<p>Equality vs identity: Must a programming language separate equality and identity? Should two strings be equal, if they have different memory addresses but the same content?</p>
<p>Let <span class="math inline">\( D \)</span> be the programming language's domain of discourse.</p>
<p>Let <span class="math inline">\( F(D) = D \to D \)</span> be the set of every endofunction whose domain is <span class="math inline">\( D \)</span>. Let <span class="math inline">\( D \)</span> be the smallest set such that <span class="math inline">\( F(D) \subset D \)</span>. Thus <span class="math inline">\( D \)</span> is the least fixed point of <span class="math inline">\( F \)</span>.</p>
<p>A dictionary can be a finite function whose domain is a finite subset of <span class="math inline">\( D \)</span>.</p>
<p>A module can be modeled as a dictionary. A module can be modeled as a finite function <span class="math inline">\( N \to D \)</span> where <span class="math inline">\( N \)</span> is the set of names for which the module has an entry. A module can be modeled as an infinite function <span class="math inline">\( N \to D \)</span> where <span class="math inline">\( N \)</span> is the set of all possible names.</p>
<h2 id="proving-and-testing"><span class="section_number">8</span><span class="section_title">Proving and testing</span></h2>
<p><em>Testing approximates proving.</em> We actually want to prove a logical formula phi about a piece of code, we want to prove that the code fragment is a model of the formula phi, but proving is too expensive. Therefore, we test phi instead.</p>
<p>In back-end testing, the formula is often obvious. What is the formula in front-end testing? DOM element existence testing?</p>
<h2 id="module-systems"><span class="section_number">9</span><span class="section_title">Module systems</span></h2>
<div class="local_table_of_contents">
<ul>
<li><span class="section_number">9.1</span><span class="section_title"><a href="#what">What</a></span><span class="word_count">(61w~1m)</span></li>
<li><span class="section_number">9.2</span><span class="section_title"><a href="#from-module.md-designing-module-systems">from module.md (Designing module systems)</a></span><span class="word_count">(1117w~6m)</span></li>
</ul>
</div>
<h3 id="what"><span class="section_number">9.1</span><span class="section_title">What</span></h3>
<p>REBOL module system?</p>
<p>Bad example: java:</p>
<ul>
<li>name is a property of a method.</li>
<li>a method cannot be referred to by a name.</li>
</ul>
<p>If you use reflection, you are referring to a representation of that method, not the method itself.</p>
<p>Bad example: scheme: map, vector-map, tree-map, etc.</p>
<p>Racket vs prolog Racket has racklog and miniKanren</p>
<p>(infix x = 1 : y = x + x : )</p>
<p>Racket DCG, packrat</p>
<h3 id="from-module.md-designing-module-systems"><span class="section_number">9.2</span><span class="section_title">from module.md (Designing module systems)</span></h3>
<p>What is a module? Or, should we be asking these questions instead?</p>
<ul>
<li>How do we decompose a program? (I think David Parnas has answered this.)</li>
<li>Why do we need modules?</li>
<li>How do we organize programs?</li>
</ul>
<p>Modules reduce complexity by partitioning and independence. See <a href="http://www.computing.dcu.ie/~renaat/ca2/ca214/ca214vii.html">Three Universal methods of reducing complexity</a> from the course <a href="http://www.computing.dcu.ie/~renaat/ca2/ca214over.html">CA214 Systems Analysis and Design Page</a>.</p>
<p>What do others say?</p>
<ul>
<li><a href="https://en.wikipedia.org/wiki/Module">Wikipedia</a></li>
<li><p>According to <a href="https://en.wiktionary.org/wiki/module">Wiktionary</a>:</p>
<ul>
<li>The word &quot;module&quot; is from Latin &quot;modulus&quot; that means &quot;a small measure&quot;.</li>
<li>A module is &quot;a self-contained component of a system, often interchangeable, which has a well-defined interface to the other components&quot;.</li>
</ul></li>
<li><p><a href="https://www.dictionary.com/browse/module">dictionary.com</a></p></li>
</ul>
<p>What do we infer?</p>
<ul>
<li>We can develop different modules at the same time.</li>
</ul>
<div class="local_table_of_contents">
<ul>
<li><span class="section_number">9.2.1</span><span class="section_title"><a href="#philosophical-investigation">Philosophical investigation</a></span><span class="word_count">(128w~1m)</span></li>
<li><span class="section_number">9.2.2</span><span class="section_title"><a href="#modules-are-for-humans">Modules are for humans</a></span><span class="word_count">(193w~1m)</span></li>
<li><span class="section_number">9.2.3</span><span class="section_title"><a href="#comparing-existing-module-systems">Comparing existing module systems</a></span><span class="word_count">(97w~1m)</span></li>
<li><span class="section_number">9.2.4</span><span class="section_title"><a href="#key-idea-module-dictionary---dictionary">Key idea: Module = Dictionary -&gt; Dictionary</a></span><span class="word_count">(162w~1m)</span></li>
<li><span class="section_number">9.2.5</span><span class="section_title"><a href="#what">what</a></span><span class="word_count">(438w~3m)</span></li>
</ul>
</div>
<h4 id="philosophical-investigation"><span class="section_number">9.2.1</span><span class="section_title">Philosophical investigation</span></h4>
<ul>
<li>What are the properties of a module?</li>
<li><p>What are its relationships with other things?</p>
<ul>
<li>interchangeability</li>
</ul></li>
<li><p>A module groups things.</p>
<ul>
<li>Is this essential or accidental? Is it made for grouping? Is grouping only a side-effect?</li>
</ul></li>
<li><p>What can we do with modules?</p>
<ul>
<li>We can combine modules.</li>
<li>We can shadow modules.</li>
<li>We can link modules.</li>
<li>We can embed/inline modules.</li>
</ul></li>
<li><p>A module is an incomplete/dependent piece of functionality/code.</p>
<ul>
<li>A module may have unresolved symbols?</li>
</ul></li>
<li>A module is a decomposition of a program?</li>
<li>Module is about reusability?</li>
<li>A program is a module and a starting point.</li>
<li>A module specifies a contract. A module can be swapped with another module that satisfies the same contract without changing the correctness of the program.</li>
<li>A module is a bunch of imports and exports?</li>
<li>A module is smallest unit of reuse? Isn't that function?</li>
<li><p>A module is smallest unit of compilation? Isn't that function?</p></li>
</ul>
<h4 id="modules-are-for-humans"><span class="section_number">9.2.2</span><span class="section_title">Modules are for humans</span></h4>
<p>Computers don't need modules. All it needs is a sequence of machine codes.</p>
<p>A program is a lambda expression. A big program is a big lambda expression. Given enough memory, a computer can handle arbitrarily big lambda expressions.</p>
<p>Human uses modules for organizing things. Human uses modules to make machines separate compilation, speed up recompilation, and recompile a part of the program.</p>
<ul>
<li>Does a module have to coincide with a compilation unit?</li>
<li><p>Basic module functions?</p>
<ul>
<li>How does a code describe its dependencies?</li>
<li>How does the machine disambiguate names?</li>
<li>Functions should be versioned. Not module. Not package. Version describes semantics.</li>
</ul></li>
</ul>
<p>Module is second-order logic programming? Note below, that the same <code>Plus</code> is used as both a variable and a predicate.</p>
<pre class="example"><code>export(module_name, type, name, value).

export(prelude, int, plus, Plus) |- export(my_module, int, three, Plus(1, 2)).
</code></pre>
<ul>
<li>The smallest unit for this discussion is a machine instruction.</li>
<li>A subroutine is a collection of instructions.</li>
<li>A library is a collection of subroutines.</li>
<li>A program is a collection of libraries and an entry point.</li>
<li><p>History</p>
<ul>
<li><p>The initial motivation was to reuse.</p>
<ul>
<li><p>Reduce development cost.</p>
<ul>
<li>Humans have always been looking for easier ways to live. This &quot;laziness&quot; (the ability to get bored repeating something) is the source of all human technology.</li>
</ul></li>
</ul></li>
<li><p>The next motivation was to reduce disk and memory usage.</p></li>
</ul></li>
<li><p>The essence of programming-in-the-large is Don't Repeat Yourself?</p></li>
</ul>
<h4 id="comparing-existing-module-systems"><span class="section_number">9.2.3</span><span class="section_title">Comparing existing module systems</span></h4>
<p>How do programming languages deal with modules?</p>
<ul>
<li><a href="https://github.com/dhall-lang/dhall-lang/issues/182">dhall modules · Issue #182 · dhall-lang/dhall-lang</a></li>
<li><a href="https://futhark-lang.org/blog/2017-01-25-futhark-module-system.html">Futhark</a></li>
<li><p><a href="https://elixir-lang.org/getting-started/modules-and-functions.html">Elixir</a></p>
<ul>
<li><a href="https://hexdocs.pm/elixir/Module.html">Module – Elixir v1.7.2</a></li>
</ul></li>
<li><p>Racket</p>
<ul>
<li>2011, article, &quot;Languages as Libraries&quot;, <a href="http://www.cs.utah.edu/plt/publications/pldi11-tscff.pdf">pdf</a></li>
</ul></li>
<li>Scheme R7RS, Common Lisp, Clojure</li>
<li><p>Java, Scala, Kotlin, Go, C, C++</p>
<ul>
<li><p>C ABI</p>
<ul>
<li>A module is an ELF shared object file (SO file).</li>
</ul></li>
</ul></li>
<li>Pascal, Ada, Oberon, Algol, Fortran</li>
<li>JavaScript, TypeScript, ECMAScript</li>
<li><p>Standard ML, Caml, OCaml, MLTON, SML/NJ, F#</p>
<ul>
<li><p>2000, &quot;A modular module system&quot;, <a href="https://hal.inria.fr/hal-01499946/document">pdf</a></p>
<ul>
<li>&quot;Harper-Lillibridge-Leroy module system&quot;</li>
<li>&quot;applicability of that module system to a wide range of programming languages&quot;</li>
</ul></li>
</ul></li>
<li>Haskell has underpowered module system.</li>
<li><p>book, &quot;Advanced topics in types and programming languages&quot;, part IV, programming in the large, <a href="http://camlunity.ru/swap/Functional%20Programming/Type%20Systems/Pierce/Advanced%20Topics%20in%20Types%20and%20Programming%20Languages.pdf">pdf</a></p>
<ul>
<li>book, &quot;Types and programming languages&quot;, <a href="https://www.asc.ohio-state.edu/pollard.4/type/books/pierce-tpl.pdf">pdf</a></li>
</ul></li>
<li><p><a href="https://en.wikipedia.org/wiki/Modular_programming">WP:Modular programming</a></p></li>
</ul>
<h4 id="key-idea-module-dictionary---dictionary"><span class="section_number">9.2.4</span><span class="section_title">Key idea: Module = Dictionary -&gt; Dictionary</span></h4>
<p>Assume a dependently-typed language.</p>
<p>Recall some terminologies:</p>
<ul>
<li>A record is a tuple whose components are named.</li>
<li>A dictionary is also known as key-value map or look-up table.</li>
</ul>
<p>Then a module is a lambda abstraction that takes a record and gives a record.</p>
<p>A module is a lambda abstraction.</p>
<p>This idea is similar to Nix and JavaScript modules.</p>
<p><code>type Module = Map Name Decl -&gt; Map Name Decl</code></p>
<p>A module translates into a lambda-calculus expression. An import translates to an entry in the input dictionary. An export translates to an entry in the output dictionary. Example:</p>
<pre class="example"><code>module {
    import add mul Int32;
    export f g T;
    f = add;
    g = mul;
    T = Int32;
};

-- The expression above translates to:

\ {add; mul; Int32; ...} -&gt; {
    f = add;
    g = mul;
    T = Int32;
};
</code></pre>
<ul>
<li><p>Key ideas of that example:</p>
<ul>
<li>Dictionary pattern matching simulates row polymorphism.</li>
<li><code>{a;b;c;}</code> is shorthand for <code>{a:a; b:b; c:c;}</code>.</li>
<li><a href="https://blog.robphoenix.com/elixir/notes-on-elixir-pattern-matching-maps/">Notes on Elixir: Pattern-Matching Maps · Rob Phoenix</a></li>
</ul></li>
</ul>
<p>What we are doing here is also known as &quot;blurring the phase distinction&quot;. See <a href="https://futhark-lang.org/blog/2017-01-25-futhark-module-system.html#modules-versus-higher-order-functions">&quot;Modules versus Higher-Order Functions&quot; in Futhark blog post</a>: &quot;A module can be viewed as nothing but a record containing types and values.&quot;</p>
<p>A problem: compilation may fail to terminate. No big deal. Set a time-out.</p>
<h4 id="what"><span class="section_number">9.2.5</span><span class="section_title">what</span></h4>
<ul>
<li>Hypothesis: Lazy evaluation solves the partial query problem elegantly.</li>
<li><p>What are some cool ideas?</p>
<ul>
<li><p>Dhall can import from IPFS.</p>
<ul>
<li><a href="http://www.haskellforall.com/2016/12/dhall-non-turing-complete-configuration.html">http://www.haskellforall.com/2016/12/dhall-non-turing-complete-configuration.html</a></li>
</ul></li>
<li><p>Elixir can pattern-match maps (dictionaries).</p></li>
</ul></li>
<li>What is a module in an untyped functional programming language such as Tulip?</li>
<li><p>Finding a programming language for programming in the large</p>
<ul>
<li>Ecosystem, libraries, tools, and communities.</li>
<li><p>The most important thing in programming in the large is name management. Namespaces.</p>
<ul>
<li>C has two namespaces: type namespace and value namespace.</li>
<li>Haskell has two namespaces: type namespace and value namespace.</li>
<li>Java has better namespacing than C.</li>
<li><p>Enable the same name to be used in different context, so that you can write <code>get_name employee</code> and <code>get_name company</code> instead of <code>employee_get_name employee</code> or <code>company_get_name company</code>.</p>
<ul>
<li>Ad-hoc polymorphism.</li>
</ul></li>
</ul></li>
<li>Which one has the biggest community?</li>
<li>Which one has a decent IDE?</li>
<li>Which community puts their money on where their mouth is?</li>
<li><p>Comparing type systems</p>
<ul>
<li><a href="https://docs.racket-lang.org/ts-guide/">The Typed Racket Guide</a></li>
<li>F#</li>
<li>SML</li>
<li>Caml</li>
<li>OCaml</li>
<li>Idris, Agda</li>
<li>Coq, Lean</li>
<li>Haskell</li>
<li><p>2004, chapter, &quot;Type systems&quot;, Luca Cardelli, <a href="http://lucacardelli.name/Papers/TypeSystems.pdf">pdf</a></p>
<ul>
<li>from <a href="https://www.artima.com/forums/flat.jsp?forum=106&amp;thread=185420">https://www.artima.com/forums/flat.jsp?forum=106&amp;thread=185420</a></li>
<li><p>2005, book, &quot;Advanced topics in types and programming languages&quot;, Benjamin C. Pierce (editor)</p>
<ul>
<li>Part IV, &quot;Types for Programming in the Large&quot;</li>
</ul></li>
<li><p>2002, book, &quot;Types and programming languages&quot;, Benjamin C. Pierce</p></li>
</ul></li>
<li>Java, Kotlin, Scala</li>
<li><p>Things that annoy me</p>
<ul>
<li><p>ML, SML, Caml, OCaml: <code>'a tf</code> is somewhat annoying. It should have been <code>tf a</code>.</p>
<ul>
<li>F# uses <code>tf&lt;'a&gt;</code>.</li>
<li>Haskell uses <code>Tf a</code>.</li>
</ul></li>
<li>Would you rather type <code>'a list</code> (F#) or deal with an inadequate record/module system (Haskell)?</li>
<li><p>Haskell doesn't have <code>instance Read (-&gt;)</code> and <code>instance Show (-&gt;)</code>.</p>
<ul>
<li><p>Haskell expressions are not first-class citizen in the language.</p>
<ul>
<li>Unlike Lisp/Scheme.</li>
</ul></li>
<li><p>Encumbers metaprogramming.</p></li>
</ul></li>
</ul></li>
<li><p>OCaml labels and polymorphic variants?</p>
<ul>
<li><a href="http://caml.inria.fr/pub/docs/manual-ocaml-400/manual006.html">http://caml.inria.fr/pub/docs/manual-ocaml-400/manual006.html</a></li>
<li>OCaml labels are somewhat similar to Scheme keyword arguments.</li>
</ul></li>
<li>F# quotations is important for metaprogramming.</li>
<li><p>F# doesn't do ad-hoc polymorphism well?</p>
<ul>
<li><a href="https://withouttheloop.com/articles/2014-10-21-fsharp-adhoc-polymorphism/">Ad-hoc Polymorphism in F# (how to survive without Type Classes) - Without the loop</a></li>
<li><a href="https://sidburn.github.io/blog/2016/03/24/higher-kinded-polymorphism">Higher-kinded Polymorphism: What is it, why you want it · David Raab</a></li>
</ul></li>
<li><a href="https://cstheory.stackexchange.com/questions/40705/why-did-caml-become-ocaml-or-why-use-objects-in-f">https://cstheory.stackexchange.com/questions/40705/why-did-caml-become-ocaml-or-why-use-objects-in-f</a></li>
<li>ML begat Caml. Caml begat Caml Light? Caml Light begat OCaml?</li>
<li><p><a href="https://www.quora.com/How-does-F-compare-to-OCaml-in-regard-to-major-syntactic-differences-paradigm-shifts-and-interoperability-with-Windows-What-about-its-numeric-capabilities">How does F# compare to OCaml, in regard to major syntactic differences, paradigm shifts, and interoperability with Windows? What about its numeric capabilities? - Quora</a></p>
<ul>
<li><p>Jon Harrop claims. More sources needed. Take it with a grain of salt.</p>
<ul>
<li><p>&quot;OCaml has an integrated full-blown macro system in the form of Camlp4 whereas F# does not have macros and, in fact, has been deliberately closed off in order to discourage people from creating products that compete with Visual Studio.&quot;</p>
<ul>
<li>&quot;deliberately closed off […]&quot; is a bold claim.</li>
</ul></li>
</ul></li>
</ul></li>
</ul></li>
<li><p><a href="https://softwareengineering.stackexchange.com/questions/155239/are-all-languages-basically-the-same/155243">Are all languages basically the same? - Software Engineering Stack Exchange</a></p></li>
</ul></li>
<li><p>package/dependency management tools</p>
<ul>
<li>Java: Maven, Gradle</li>
<li>OCaml: OPAM</li>
<li>Haskell: Cabal, Stack</li>
<li>F#: Paket? NuGet?</li>
<li>C/C++: conan? chocolate? vcpkg?</li>
</ul></li>
<li><p>Formally adding modules to lambda calculus</p>
<ul>
<li><p>What is module calculus?</p>
<ul>
<li>2017 article &quot;Modules, Abstraction, and Parametric Polymorphism&quot; <a href="https://www.cs.cmu.edu/~crary/papers/2017/mapp.pdf">pdf</a></li>
<li>2003 article &quot;A Type System for Higher-Order Modules&quot; <a href="http://www.cs.cmu.edu/~rwh/papers/thoms/tr2.pdf">pdf</a></li>
<li>2001 article &quot;A Calculus of Module Systems&quot; <a href="http://citeseerx.ist.psu.edu/viewdoc/summary?doi=10.1.1.22.5407">pdf available</a></li>
<li>2012 course notes &quot;Types for Module Systems&quot; <a href="http://www.ccs.neu.edu/home/amal/course/7480-s12/modules-notes.pdf">pdf</a> from <a href="http://www.ccs.neu.edu/home/amal/course/7480-s12/">CS7480 Type Systems (Spring 2012)</a></li>
</ul></li>
</ul></li>
<li><p>Ignored undocumented code sketches</p>
<ul>
<li><a href="https://github.com/jordanlewis/simple-module-system">jordanlewis/simple-module-system: Adding modules to a polymorphic lambda calculus</a>, code in SML/NJ.</li>
</ul></li>
</ul>
<h2 id="strings-especially-of-characters"><span class="section_number">10</span><span class="section_title">Strings, especially of characters</span></h2>
<p>Why do we have strings?</p>
<p>Computer keyboards evolved from typewriters.</p>
<p>Computerization of human writing?</p>
<p>First came Gutenberg's printing press. Each letter is imprinted by a type.</p>
<p>The problem is to encode human text in bits. We solved the problem of encoding numbers with two's-complement signed integers. English text is simple: ASCII.</p>
<p>An accented letter is a letter and an accent.</p>
<p>A <em>string</em> is a homogenous sequence.</p>
<p>A string has a beginning, and may have an ending. A string may be finite.</p>
<p>A <em>byte string</em> is a sequence of bytes.</p>
<p>An <em>ASCII string</em> is a byte string.</p>
<p>A <em>character string</em> is a sequence of characters.</p>
<p>Unqualified &quot;string&quot; usually means &quot;character string&quot;.</p>
<p>A <em>character string literal</em> is surrounded with quotes.</p>
<ul>
<li>inconclusive discussion <a href="https://www.reddit.com/r/ProgrammingLanguages/comments/9tj6ka/how_would_you_best_implement_first_class_strings/">https://www.reddit.com/r/ProgrammingLanguages/comments/9tj6ka/how_would_you_best_implement_first_class_strings/</a></li>
</ul>
<div class="local_table_of_contents">
<ul>
<li><span class="section_number">10.1</span><span class="section_title"><a href="#escape-sequences">Escape sequences</a></span><span class="word_count">(2w~1m)</span></li>
<li><span class="section_number">10.2</span><span class="section_title"><a href="#characters">Characters</a></span><span class="word_count">(24w~1m)</span></li>
</ul>
</div>
<h3 id="escape-sequences"><span class="section_number">10.1</span><span class="section_title">Escape sequences</span></h3>
<h3 id="characters"><span class="section_number">10.2</span><span class="section_title">Characters</span></h3>
<p>What is Unicode's definition of &quot;character&quot;? Is that definition sane?</p>
<p>Should Unicode normalization/canonicalization be built into the programming language?</p>
<p>Issues: ordering/collation, capitalization, combination, halfwidthization, ligature, etc.</p>
<ul>
<li><a href="https://en.wikipedia.org/wiki/String_(computer_science)">https://en.wikipedia.org/wiki/String_(computer_science)</a></li>
<li><a href="https://en.wikipedia.org/wiki/Character_(computing)">https://en.wikipedia.org/wiki/Character_(computing)</a></li>
</ul>
<h2 id="dictionary-map-associative-array-record-finite-function-hash-table"><span class="section_number">11</span><span class="section_title">Dictionary, map, associative array, record, finite function, hash table</span></h2>
<div class="local_table_of_contents">
<ul>
<li><span class="section_number">11.1</span><span class="section_title"><a href="#clojure-maps-are-applicable-like-functions.">Clojure maps are applicable like functions.</a></span><span class="word_count">(41w~1m)</span></li>
</ul>
</div>
<h3 id="clojure-maps-are-applicable-like-functions."><span class="section_number">11.1</span><span class="section_title">Clojure maps are applicable like functions.</span></h3>
<p>A very interesting fundamental idea.</p>
<div class="sourceCode" id="cb7" data-org-language="lisp"><pre class="sourceCode commonlisp"><code class="sourceCode commonlisp"><a class="sourceLine" id="cb7-1" title="1">({:a <span class="dv">1</span> :b <span class="dv">2</span> :c <span class="dv">3</span>} :a)</a>
<a class="sourceLine" id="cb7-2" title="2"><span class="op">=&gt;</span> <span class="dv">1</span></a>
<a class="sourceLine" id="cb7-3" title="3">({:a <span class="dv">1</span> :b <span class="dv">2</span> :c <span class="dv">3</span>} :b)</a>
<a class="sourceLine" id="cb7-4" title="4"><span class="op">=&gt;</span> <span class="dv">2</span></a></code></pre></div>
<p>Clojure has nice map syntax: <code>(m k)</code> for accessing k.</p>
<p>Maps are isomorphic to functions. We update a map. Updating a function is simple:</p>
<div class="sourceCode" id="cb8"><pre class="sourceCode haskell"><code class="sourceCode haskell"><a class="sourceLine" id="cb8-1" title="1">update nk nv f <span class="fu">=</span> \ k <span class="ot">-&gt;</span> <span class="kw">if</span> k <span class="fu">==</span> nk <span class="kw">then</span> nv <span class="kw">else</span> f k</a>
<a class="sourceLine" id="cb8-2" title="2"><span class="co">-- and then beta-normalize the lambda body</span></a></code></pre></div>
<p>A Prolog deterministic binary predicate is like a Clojure map.</p>
<h2 id="the-human-aspect"><span class="section_number">12</span><span class="section_title">The human aspect</span></h2>
<div class="local_table_of_contents">
<ul>
<li><span class="section_number">12.1</span><span class="section_title"><a href="#science-evolution-and-neuroscience-explains-why-people-stick-to-shitty-but-predictable-languages">Science (evolution and neuroscience) explains why people stick to shitty-but-predictable languages</a></span><span class="word_count">(200w~1m)</span></li>
</ul>
</div>
<h3 id="science-evolution-and-neuroscience-explains-why-people-stick-to-shitty-but-predictable-languages"><span class="section_number">12.1</span><span class="section_title">Science (evolution and neuroscience) explains why people stick to shitty-but-predictable languages</span></h3>
<p>The brain reward system rewards correct predictions. If person P finds language L predictable (according to P's background knowledge), then P will like L. Procedural languages are predictable. Thus people stick to them, no matter how shitty those languages are. People prefer predictable shitty things to unpredictable great things. People are risk-averse.</p>
<p>Curiosity of finding a better way to program is the exception; the norm is &quot;we have always done it this way&quot;.</p>
<p>We can dumb down the language, or we can smart up the people, but people are naturally lazy, because laziness promotes survival.</p>
<p>&quot;David Liddle's idea on application user interfaces give us a clue as to why lower-level languages draw more people in than higher-level ones (Liddle, 1989). He claims that the most important aspect of a good user interface is how well it leads the user to an accurate conceptual model of how the application works. If the user develops an accurate conceptual model, then the application works as expected. This leads the user to try more things, which also work as expected, leading to an even better understanding, thus drawing the user further and further into the tool.&quot; <a href="https://www.amzi.com/articles/prolog_under_the_hood.htm">https://www.amzi.com/articles/prolog_under_the_hood.htm</a></p>
<h2 id="designing-the-programming-language"><span class="section_number">13</span><span class="section_title">Designing the programming language</span></h2>
<div class="local_table_of_contents">
<ul>
<li><span class="section_number">13.1</span><span class="section_title"><a href="#prolog">Prolog</a></span><span class="word_count">(101w~1m)</span></li>
<li><span class="section_number">13.2</span><span class="section_title"><a href="#combining-lambda-calculus-and-first-order-logic-combining-beta-reduction-unification-and-backtracking">Combining lambda-calculus and first-order logic: combining beta-reduction, unification, and backtracking</a></span><span class="word_count">(118w~1m)</span></li>
<li><span class="section_number">13.3</span><span class="section_title"><a href="#three-semantics-of-horn-clauses">Three semantics of Horn clauses</a></span><span class="word_count">(62w~1m)</span></li>
<li><span class="section_number">13.4</span><span class="section_title"><a href="#prolog-predicate-naming">Prolog predicate naming</a></span><span class="word_count">(90w~1m)</span></li>
<li><span class="section_number">13.5</span><span class="section_title"><a href="#lambda-calculus">Lambda calculus</a></span><span class="word_count">(47w~1m)</span></li>
<li><span class="section_number">13.6</span><span class="section_title"><a href="#macro-reflection-reification-quoting">Macro, reflection, reification, quoting</a></span><span class="word_count">(22w~1m)</span></li>
<li><span class="section_number">13.7</span><span class="section_title"><a href="#what-program-execution-and-termination-mean-in-declarative-paradigms">What program, execution, and termination mean in declarative paradigms</a></span><span class="word_count">(78w~1m)</span></li>
<li><span class="section_number">13.8</span><span class="section_title"><a href="#records-also-for-namespaces-and-modules">Records, also for namespaces and modules</a></span><span class="word_count">(341w~2m)</span></li>
<li><span class="section_number">13.9</span><span class="section_title"><a href="#annotations-user-defined-metadata-attached-to-concrete-syntax-tree-nodes">Annotations: user-defined metadata attached to concrete syntax tree nodes</a></span><span class="word_count">(159w~1m)</span></li>
<li><span class="section_number">13.10</span><span class="section_title"><a href="#let-expressions">Let-expressions</a></span><span class="word_count">(50w~1m)</span></li>
<li><span class="section_number">13.11</span><span class="section_title"><a href="#sharing-laziness-full-laziness-complete-laziness-and-optimal-reduction">Sharing, laziness, full laziness, complete laziness, and optimal reduction</a></span><span class="word_count">(111w~1m)</span></li>
<li><span class="section_number">13.12</span><span class="section_title"><a href="#currying-is-not-compatible-with-vararg-and-named-parameters">Currying is not compatible with vararg and named parameters?</a></span><span class="word_count">(24w~1m)</span></li>
<li><span class="section_number">13.13</span><span class="section_title"><a href="#modeling-all-data">Modeling all data</a></span><span class="word_count">(304w~2m)</span></li>
<li><span class="section_number">13.14</span><span class="section_title"><a href="#representing-knowledge-logic-programming-symbolic-ai">Representing knowledge; logic programming; symbolic AI</a></span><span class="word_count">(16w~1m)</span></li>
<li><span class="section_number">13.15</span><span class="section_title"><a href="#dynamic-binding-contextual-holes">Dynamic binding, contextual holes</a></span><span class="word_count">(38w~1m)</span></li>
<li><span class="section_number">13.16</span><span class="section_title"><a href="#working-with-existing-systems">Working with existing systems</a></span><span class="word_count">(6w~1m)</span></li>
<li><span class="section_number">13.17</span><span class="section_title"><a href="#semantics-should-we-worry-about-this-earlier">Semantics (should we worry about this earlier?)</a></span><span class="word_count">(109w~1m)</span></li>
<li><span class="section_number">13.18</span><span class="section_title"><a href="#overloadable-function-application">Overloadable function application?</a></span><span class="word_count">(3w~1m)</span></li>
<li><span class="section_number">13.19</span><span class="section_title"><a href="#interpreters-giving-different-meanings-to-the-same-syntax">Interpreters: Giving different meanings to the same syntax</a></span><span class="word_count">(20w~1m)</span></li>
<li><span class="section_number">13.20</span><span class="section_title"><a href="#system-f-system-f-with-subtyping-system-f-omega">System F, System F with subtyping, System F-omega</a></span><span class="word_count">(31w~1m)</span></li>
<li><span class="section_number">13.21</span><span class="section_title"><a href="#imperative-subset">Imperative subset</a></span><span class="word_count">(16w~1m)</span></li>
<li><span class="section_number">13.22</span><span class="section_title"><a href="#introduction-1">Introduction?</a></span><span class="word_count">(43w~1m)</span></li>
<li><span class="section_number">13.23</span><span class="section_title"><a href="#extending-lambda-calculus-with-various-bells-and-whistles">Extending lambda-calculus with various bells and whistles</a></span><span class="word_count">(47w~1m)</span></li>
<li><span class="section_number">13.24</span><span class="section_title"><a href="#lambda-calculus-semantics">Lambda calculus semantics?</a></span><span class="word_count">(79w~1m)</span></li>
<li><span class="section_number">13.25</span><span class="section_title"><a href="#when-should-we-introduce-a-type-system">When should we introduce a type system?</a></span><span class="word_count">(13w~1m)</span></li>
<li><span class="section_number">13.26</span><span class="section_title"><a href="#optimizing-lambda-calculus">Optimizing lambda calculus?</a></span><span class="word_count">(369w~2m)</span></li>
<li><span class="section_number">13.27</span><span class="section_title"><a href="#begin-with-an-interpreter-not-a-compiler">Begin with an interpreter, not a compiler</a></span><span class="word_count">(74w~1m)</span></li>
<li><span class="section_number">13.28</span><span class="section_title"><a href="#foreign-function-interface-working-with-c">Foreign function interface: working with C</a></span><span class="word_count">(6w~1m)</span></li>
<li><span class="section_number">13.29</span><span class="section_title"><a href="#ocaml">Ocaml</a></span><span class="word_count">(1w~1m)</span></li>
<li><span class="section_number">13.30</span><span class="section_title"><a href="#reconciling-functional-and-logic-programming-into-declarative-programming">Reconciling functional and logic programming into declarative programming?</a></span><span class="word_count">(115w~1m)</span></li>
<li><span class="section_number">13.31</span><span class="section_title"><a href="#precise-memory-accounting">Precise memory accounting</a></span><span class="word_count">(15w~1m)</span></li>
<li><span class="section_number">13.32</span><span class="section_title"><a href="#execution-state-reification-save-states-saving-and-loading-states-pausing-and-resuming-computations">Execution state reification, save states, saving and loading states, pausing and resuming computations</a></span><span class="word_count">(25w~1m)</span></li>
<li><span class="section_number">13.33</span><span class="section_title"><a href="#haskell-woes">Haskell woes</a></span><span class="word_count">(29w~1m)</span></li>
<li><span class="section_number">13.34</span><span class="section_title"><a href="#monads-and-haskell-type-system-limitations">Monads, and Haskell type system limitations</a></span><span class="word_count">(146w~1m)</span></li>
<li><span class="section_number">13.35</span><span class="section_title"><a href="#abdullahs-dream-language-extending-system-f-application-beta-reduction-rules-to-automate-fmap-and-extend">Abdullah's dream language: Extending System F application beta-reduction rules to automate fmap and extend?</a></span><span class="word_count">(128w~1m)</span></li>
<li><span class="section_number">13.36</span><span class="section_title"><a href="#increasing-language-adoption">Increasing language adoption</a></span><span class="word_count">(278w~2m)</span></li>
<li><span class="section_number">13.37</span><span class="section_title"><a href="#what-are-some-interesting-programming-languages">What are some interesting programming languages?</a></span><span class="word_count">(104w~1m)</span></li>
<li><span class="section_number">13.38</span><span class="section_title"><a href="#making-compilers">Making compilers?</a></span><span class="word_count">(36w~1m)</span></li>
<li><span class="section_number">13.39</span><span class="section_title"><a href="#after-2018-programming-language-requirements">After-2018 programming language requirements</a></span><span class="word_count">(123w~1m)</span></li>
<li><span class="section_number">13.40</span><span class="section_title"><a href="#toward-a-language-with-first-class-syntax">Toward a language with first-class syntax?</a></span><span class="word_count">(61w~1m)</span></li>
<li><span class="section_number">13.41</span><span class="section_title"><a href="#enabling-metaprogramming">Enabling metaprogramming</a></span><span class="word_count">(132w~1m)</span></li>
<li><span class="section_number">13.42</span><span class="section_title"><a href="#automatic-program-differentiation">Automatic (program) differentiation</a></span><span class="word_count">(19w~1m)</span></li>
<li><span class="section_number">13.43</span><span class="section_title"><a href="#extending-functions">Extending functions</a></span><span class="word_count">(65w~1m)</span></li>
<li><span class="section_number">13.44</span><span class="section_title"><a href="#is-inheritance-subtyping">Is inheritance subtyping?</a></span><span class="word_count">(91w~1m)</span></li>
<li><span class="section_number">13.45</span><span class="section_title"><a href="#maximum-polymorphism">Maximum polymorphism?</a></span><span class="word_count">(44w~1m)</span></li>
<li><span class="section_number">13.46</span><span class="section_title"><a href="#typing-records">Typing records</a></span><span class="word_count">(42w~1m)</span></li>
<li><span class="section_number">13.47</span><span class="section_title"><a href="#polymorphism-is-code-generation">Polymorphism is code generation</a></span><span class="word_count">(45w~1m)</span></li>
<li><span class="section_number">13.48</span><span class="section_title"><a href="#fixed-points-and-recursive-types">Fixed points and recursive types</a></span><span class="word_count">(142w~1m)</span></li>
<li><span class="section_number">13.49</span><span class="section_title"><a href="#case-study-commonmark-liquid-and-jekyll-reusable-grammar">A sketch about reusable language-oriented programming: CommonMark, Liquid, and Jekyll, reusable grammar?</a></span><span class="word_count">(33w~1m)</span></li>
<li><span class="section_number">13.50</span><span class="section_title"><a href="#some-tentative-plans-create-a-language-that-compiles-to-haskell">Some tentative plans: Create a language that compiles to Haskell?</a></span><span class="word_count">(17w~1m)</span></li>
<li><span class="section_number">13.51</span><span class="section_title"><a href="#whole-program-optimization">Whole-program optimization?</a></span><span class="word_count">(2w~1m)</span></li>
<li><span class="section_number">13.52</span><span class="section_title"><a href="#make-the-programming-language"><span class="todo TODO">TODO</span> &lt;2018-09-15&gt; Make the programming language</a></span><span class="word_count">(6w~1m)</span></li>
<li><span class="section_number">13.53</span><span class="section_title"><a href="#find-out-how-type-systems-may-guarantee-pointer-safety"><span class="todo TODO">TODO</span> &lt;2018-09-15&gt; Find out how type systems may guarantee pointer safety</a></span><span class="word_count">(30w~1m)</span></li>
<li><span class="section_number">13.54</span><span class="section_title"><a href="#combine-things-and-let-the-programmer-choose">Combine things and let the programmer choose?</a></span><span class="word_count">(12w~1m)</span></li>
<li><span class="section_number">13.55</span><span class="section_title"><a href="#effects">Effects?</a></span><span class="word_count">(39w~1m)</span></li>
<li><span class="section_number">13.56</span><span class="section_title"><a href="#abdullah-research-roadmap">Abdullah research roadmap</a></span><span class="word_count">(1625w~9m)</span></li>
<li><span class="section_number">13.57</span><span class="section_title"><a href="#language-design">Language design</a></span><span class="word_count">(2w~1m)</span></li>
<li><span class="section_number">13.58</span><span class="section_title"><a href="#mlocaml-records-vs-modules-why-do-we-have-modules-if-records-suffice-an-ocaml-functor-would-then-simply-be-a-function-from-records-to-records.">ML/OCaml records vs modules: Why do we have modules if records suffice? An Ocaml &quot;functor&quot; would then simply be a function from records to records.</a></span><span class="word_count">(25w~1m)</span></li>
<li><span class="section_number">13.59</span><span class="section_title"><a href="#interoperability-between-programming-languages">Interoperability between programming languages</a></span><span class="word_count">(36w~1m)</span></li>
<li><span class="section_number">13.60</span><span class="section_title"><a href="#designing-configuration-languages">Designing configuration languages</a></span><span class="word_count">(134w~1m)</span></li>
<li><span class="section_number">13.61</span><span class="section_title"><a href="#designing-markup-languages">Designing markup languages</a></span><span class="word_count">(75w~1m)</span></li>
<li><span class="section_number">13.62</span><span class="section_title"><a href="#measuring-programming-language-quality-by-how-easy-is-it-to-do-the-right-thing">Measuring programming language quality by how easy is it to do the right thing</a></span><span class="word_count">(48w~1m)</span></li>
<li><span class="section_number">13.63</span><span class="section_title"><a href="#class-based-programming">Class-based programming</a></span><span class="word_count">(96w~1m)</span></li>
<li><span class="section_number">13.64</span><span class="section_title"><a href="#benefits-and-drawbacks-of-static-type-checking">Benefits and drawbacks of static type checking</a></span><span class="word_count">(438w~3m)</span></li>
<li><span class="section_number">13.65</span><span class="section_title"><a href="#measuring-programming-language-quality"><span class="todo TODO">TODO</span> Measuring programming language quality</a></span><span class="word_count">(50w~1m)</span></li>
<li><span class="section_number">13.66</span><span class="section_title"><a href="#intersection-between-programming-language-search-and-software-engineering-the-effect-of-programming-language-on-software-quality">Intersection between programming language search and software engineering: The effect of programming language on software quality</a></span><span class="word_count">(40w~1m)</span></li>
<li><span class="section_number">13.67</span><span class="section_title"><a href="#beginning-programming-language-research">Beginning programming language research</a></span><span class="word_count">(16w~1m)</span></li>
<li><span class="section_number">13.68</span><span class="section_title"><a href="#prolog-is-ideal-for-writing-a-typechecker-and-typescript-is-ideal-for-typechecking-ast-decorations-so-we-should-fuse-prolog-and-typescript.">Prolog is ideal for writing a typechecker, and TypeScript is ideal for typechecking AST decorations, so we should fuse Prolog and TypeScript.</a></span><span class="word_count">(47w~1m)</span></li>
<li><span class="section_number">13.69</span><span class="section_title"><a href="#racket-syntax-objects-read-syntax-does-prologhaskell-have-this">Racket syntax objects, read-syntax; does Prolog/Haskell have this?</a></span><span class="word_count">(70w~1m)</span></li>
<li><span class="section_number">13.70</span><span class="section_title"><a href="#stop-abusing-the-equals-sign">Stop abusing the equals sign</a></span><span class="word_count">(159w~1m)</span></li>
<li><span class="section_number">13.71</span><span class="section_title"><a href="#jetbrains-mps">JetBrains MPS</a></span><span class="word_count">(121w~1m)</span></li>
<li><span class="section_number">13.72</span><span class="section_title"><a href="#problems-that-the-language-has-to-solve">Problems that the language has to solve</a></span><span class="word_count">(358w~2m)</span></li>
</ul>
</div>
<h3 id="prolog"><span class="section_number">13.1</span><span class="section_title">Prolog</span></h3>
<p>How does Mercury do without assert/retract?<a href="#fn8" class="footnote-ref" id="fnref8"><sup>8</sup></a></p>
<ul>
<li><a href="https://stackoverflow.com/questions/20511060/parsing-an-expression-in-prolog-and-returning-an-abstract-syntax">https://stackoverflow.com/questions/20511060/parsing-an-expression-in-prolog-and-returning-an-abstract-syntax</a>
<ul>
<li>&quot;you did something quite smart […] That is fine. However, this strategy is inherently very inefficient&quot;</li>
<li>&quot;There is a general way how to fix this: Add another pair of arguments to encode the length.&quot;</li>
</ul></li>
</ul>
<p>1988, Towards functional programming in Prolog<a href="#fn9" class="footnote-ref" id="fnref9"><sup>9</sup></a>. It defines several infix operators. &quot;[…] The problem of evaluating expressions combining functions and predicates is investigated. Examples are provided to illustrate the discussion. The paper includes a prototype implementation.&quot;</p>
<p>2.7.1 &quot;Axiomatizing Context-Free Grammars&quot;<a href="#fn10" class="footnote-ref" id="fnref10"><sup>10</sup></a>. See third paragraph: &quot;the general statement made by the context-free rule […] can be summarized using relations on positions with the following logical statement […]&quot;</p>
<h3 id="combining-lambda-calculus-and-first-order-logic-combining-beta-reduction-unification-and-backtracking"><span class="section_number">13.2</span><span class="section_title">Combining lambda-calculus and first-order logic: combining beta-reduction, unification, and backtracking</span></h3>
<p>Anonymous function: \ x -&gt; x + 1 Anonymous predicate: \ a b c -&gt; f a, g b, h c fix f = f (fix f)</p>
<p>father_child(dad, kid). father_child(daddy, kiddo).</p>
<p>:- operator – father(daddy) – child(kiddo).</p>
<p>father_child dad kid father_child daddy kiddo father dad – child kid</p>
<p>father_child = \ dad kid father_child = \ Dad Kid -&gt; Dad = dad, Kid = kid</p>
<p>&quot;First-order logic without equality&quot; <a href="https://math.stackexchange.com/questions/363168/first-order-logic-without-equality">https://math.stackexchange.com/questions/363168/first-order-logic-without-equality</a></p>
<p>&quot;Differences between logic with and without equality&quot; <a href="https://mathoverflow.net/questions/316648/differences-between-logic-with-and-without-equality">https://mathoverflow.net/questions/316648/differences-between-logic-with-and-without-equality</a></p>
<p>Isn't this Curry language? Curry's slogan is &quot;A Truly Integrated Functional Logic Language&quot;</p>
<p>Lambda-Prolog, Harrop formula Why was Harrop formula defined? What's so special about it? <a href="https://en.wikipedia.org/wiki/Harrop_formula">https://en.wikipedia.org/wiki/Harrop_formula</a></p>
<p>Lambda-Prolog</p>
<p><a href="https://math.stackexchange.com/questions/2494645/lambda-calculus-combined-with-first-order-logic-notation-quantifiers-propositi">https://math.stackexchange.com/questions/2494645/lambda-calculus-combined-with-first-order-logic-notation-quantifiers-propositi</a></p>
<p>&quot;But languages aren't tools! IDEs are tools. Languages are material. See FallacyOfTheRightTool.&quot; <a href="http://wiki.c2.com/?QuestForThePerfectLanguage">http://wiki.c2.com/?QuestForThePerfectLanguage</a></p>
<h3 id="three-semantics-of-horn-clauses"><span class="section_number">13.3</span><span class="section_title">Three semantics of Horn clauses</span></h3>
<p>We use &quot;cause semantics&quot; for gui.</p>
<p>Rule semantics A :- B means &quot;If B then A&quot;.</p>
<p>turn_on_air_conditioner :- air_feels_hot.</p>
<p>Proof semantics of Prolog A :- B means to prove A, prove B. even(z). even(s(s(N))) :- even(N).</p>
<p>Cause semantics of Prolog A :- B means B causes A. name_value(mytextbox, yes) :- name_isdown(mybutton, true). That means &quot;pressing mybutton causes mytextbox value to be yes&quot;.</p>
<h3 id="prolog-predicate-naming"><span class="section_number">13.4</span><span class="section_title">Prolog predicate naming</span></h3>
<p>blue(X) has(A,B) can_sing(A) version(A,B,C) person_name(P,N) index_fibonacci index_list_element</p>
<p>class_field table_column column_type</p>
<p>class(Atom) is true iff Atom is a referent.</p>
<p>table(Atom) has different namespace</p>
<p>class_field(Cls, F) :- table_column(T, Col), field_name(F, N), column_name(Col, N).</p>
<p>Metamodel A thing is modeled as an association list such as [a=b,c=d,e=f] alist_key_value([K=V|_],K,V). alist_key_value([_|R],K,V) :- alist_key_value(R,K,V).</p>
<p>alist_empty alist_tail alist_head alist_without_keys alist_size alist_merge</p>
<p>thing_prop(T,P) thing_prop_replaced(T0,P,T1) Use thing_prop_replaced(T,P,T) to get the property P of T</p>
<p>url_page</p>
<p>There is a difference between dif and \=: dif is coroutining. <a href="https://stackoverflow.com/questions/16560058/difference-between-x-y-and-difx-y">https://stackoverflow.com/questions/16560058/difference-between-x-y-and-difx-y</a> But &quot;coroutine&quot; is an overloaded term. <a href="http://www.swi-prolog.org/pldoc/man?section=delcont">http://www.swi-prolog.org/pldoc/man?section=delcont</a></p>
<p>Prolog predicate naming problem when there is a compound word integer_integer_sum(A, B, C) basic_block__ssa_block()</p>
<h3 id="lambda-calculus"><span class="section_number">13.5</span><span class="section_title">Lambda calculus</span></h3>
<p>Lambda calculus formalizes binding and substitution.</p>
<p>Follow <a href="https://crypto.stanford.edu/~blynn/lambda/">Ben Lynn's lambda-calculus tutorial</a>:</p>
<ul>
<li>why use lambda calculus as theoretical basis (cool reasons!)</li>
</ul>
<div class="local_table_of_contents">
<ul>
<li><span class="section_number">13.5.1</span><span class="section_title"><a href="#beta-reduction">Beta-reduction</a></span><span class="word_count">(29w~1m)</span></li>
</ul>
</div>
<h4 id="beta-reduction"><span class="section_number">13.5.1</span><span class="section_title">Beta-reduction</span></h4>
<ul>
<li>reduce : E -&gt; E</li>
<li>reduce ((\ x -&gt; y) p) = reduce (y[x:=p])
<ul>
<li>y[x:=p] means y but with every bound occurence of x replaced with p)</li>
</ul></li>
<li>reduce x = x otherwise</li>
</ul>
<h3 id="macro-reflection-reification-quoting"><span class="section_number">13.6</span><span class="section_title">Macro, reflection, reification, quoting</span></h3>
<p>The language should be a model of itself.</p>
<p>The language should be able to describe itself.</p>
<p>Does that cause a paradox?</p>
<h3 id="what-program-execution-and-termination-mean-in-declarative-paradigms"><span class="section_number">13.7</span><span class="section_title">What program, execution, and termination mean in declarative paradigms</span></h3>
<p>In functional paradigm:</p>
<ul>
<li>The program is a big lambda expression.</li>
<li>Execution is beta-reduction / term-rewriting.</li>
<li>Execution terminates when the program reaches normal form (is no longer beta-reducible).</li>
</ul>
<p>In satisfying-logic paradigm:</p>
<ul>
<li>The program is a big logic formula.</li>
<li>Execution is trying to satisfy the formula.</li>
<li>Execution terminates when satisfiability is determined.</li>
</ul>
<p>In theorem-proving paradigm:</p>
<ul>
<li>The program is a big logic formula, presumably in conjunctive-normal form.</li>
<li>Execution is trying to prove the main(world) goal.</li>
<li>Execution terminates when the goal is proved or disproved.</li>
</ul>
<h3 id="records-also-for-namespaces-and-modules"><span class="section_number">13.8</span><span class="section_title">Records, also for namespaces and modules</span></h3>
<p>We want records because <em>records obviate namespaces and modules</em>.</p>
<p>We want namespaces and modules because they are necessary for humans to manage large programs.</p>
<div class="local_table_of_contents">
<ul>
<li><span class="section_number">13.8.1</span><span class="section_title"><a href="#we-dont-want-to-represent-records-as-functions.">We don't want to represent records as functions.</a></span><span class="word_count">(85w~1m)</span></li>
<li><span class="section_number">13.8.2</span><span class="section_title"><a href="#we-want-records-to-be-applicable-like-lambda-we-add-a-new-beta-reduction-rule-for-applying-records.">We want records to be applicable like lambda; we add a new beta-reduction rule for &quot;applying&quot; records.</a></span><span class="word_count">(114w~1m)</span></li>
<li><span class="section_number">13.8.3</span><span class="section_title"><a href="#modules-as-record-functions">Modules as record functions</a></span><span class="word_count">(27w~1m)</span></li>
<li><span class="section_number">13.8.4</span><span class="section_title"><a href="#record-expressions">Record expressions</a></span><span class="word_count">(60w~1m)</span></li>
<li><span class="section_number">13.8.5</span><span class="section_title"><a href="#labels">Labels</a></span><span class="word_count">(32w~1m)</span></li>
</ul>
</div>
<h4 id="we-dont-want-to-represent-records-as-functions."><span class="section_number">13.8.1</span><span class="section_title">We don't want to represent records as functions.</span></h4>
<p>We can describe the semantics of a record r as a function r : string -&gt; expression.</p>
<p>There are several options to pretty-print a record:</p>
<ul>
<li>Define a <code>show-record</code> function that is different from <code>show</code>.</li>
<li>But we want polymorphic <code>show</code>. We want one <code>show</code> function to work for all things.</li>
<li>If a record is represented by a lambda abstraction, then pretty-printing the record will pretty-print a lambda abstraction. We don't want that. We want pretty-printed records to look like how we write records.</li>
</ul>
<h4 id="we-want-records-to-be-applicable-like-lambda-we-add-a-new-beta-reduction-rule-for-applying-records."><span class="section_number">13.8.2</span><span class="section_title">We want records to be applicable like lambda; we add a new beta-reduction rule for &quot;applying&quot; records.</span></h4>
<p>Record access is function application. To get the field <code>fld</code> or record <code>rec</code>, evaluate <code>rec fld</code>.</p>
<p>The record <code>rec</code> with the the field <code>fld</code> updated to <code>new</code> is the expression <code>\ name -&gt; IF name = fld THEN new ELSE rec fld</code>.</p>
<p>We add this beta-reduction rule:</p>
<ul>
<li>If X is a record, and Y is a string, then <code>X Y</code> reduces to <code>get X Y</code>.</li>
</ul>
<p>We want to pretend that records are functions. We want to use records as if they were functions. But we don't want records to be functions; we want to pretty-print records as records, not as lambda abstractions.</p>
<h4 id="modules-as-record-functions"><span class="section_number">13.8.3</span><span class="section_title">Modules as record functions</span></h4>
<p>A module is a function taking a record and giving a record. The input is called <em>imports</em> or <em>dependencies</em>. The output is called <em>exports</em>.</p>
<p>Example:</p>
<pre class="example"><code>\ { add; } -&gt; { add_one: \ x -&gt; add x 1; }
</code></pre>
<h4 id="record-expressions"><span class="section_number">13.8.4</span><span class="section_title">Record expressions</span></h4>
<p>We add these expression syntax rules:</p>
<ul>
<li>If each of x1,…,xn is a label and each of e1,…,en is an expression, then <code>{x1:e1; ...; xn:en;}</code> is a <em>record expression</em>.</li>
<li><code>union R S</code> is a <em>record union expression</em>.</li>
<li>record update expression (should be polymorphic)</li>
<li>record filtering/selection/intersection expression</li>
</ul>
<p>An example of a record expression is <code>{id: \ x -&gt; x; app: \ f x -&gt; f x;}</code>.</p>
<h4 id="labels"><span class="section_number">13.8.5</span><span class="section_title">Labels</span></h4>
<p>A <em>label</em> is a string. If the label doesn't contain funny characters, it doesn't have to be quoted. For example, <code>{&quot;a&quot;:1;}</code> and <code>{a:1;}</code> are the same thing.</p>
<p>Should we generalize label to expression?</p>
<h3 id="annotations-user-defined-metadata-attached-to-concrete-syntax-tree-nodes"><span class="section_number">13.9</span><span class="section_title">Annotations: user-defined metadata attached to concrete syntax tree nodes</span></h3>
<p>We add these expression syntax rules:</p>
<ul>
<li>If M is an expression and E is an expression, then <code>E : M</code> (read: data E annotated with metadata M) is an <em>annotated expression</em>.
<ul>
<li>Alternative syntax: <code>E : M</code> can also be written <code>meta M E</code>.</li>
</ul></li>
</ul>
<p>This generalizes type systems. With type systems, you annotate an expression with a type expression. With general annotations, you annotate an expression with another expression (some of which are type expressions).</p>
<p>We assume that the outermost metadata update wins:</p>
<ul>
<li>meta M (meta N E) = meta M E</li>
</ul>
<p>We add metadata extraction function symbol <code>meta-of</code>.</p>
<p>We add these beta-reduction rules:</p>
<ul>
<li>reduce (meta M E) = reduce E</li>
<li>reduce (meta-of (meta M E)) = reduce M</li>
<li>reduce (meta-of E) = #&lt;empty-record&gt; (for expressions without metadata)</li>
</ul>
<p>This is like Java/C# annotation but more principled?</p>
<div class="local_table_of_contents">
<ul>
<li><span class="section_number">13.9.1</span><span class="section_title"><a href="#annotation-is-not-type">Annotation is not type</a></span><span class="word_count">(28w~1m)</span></li>
</ul>
</div>
<h4 id="annotation-is-not-type"><span class="section_number">13.9.1</span><span class="section_title">Annotation is not type</span></h4>
<p>This is an example of type annotation that our annotation above can't handle: <code>\ (x : T) -&gt; y</code>, because <code>x</code> is not an expression.</p>
<h3 id="let-expressions"><span class="section_number">13.10</span><span class="section_title">Let-expressions</span></h3>
<p>The <em>let-expression</em> <code>let x1 = y1; ...; xn = yn; in z;</code> desugars to <code>(\ x1 ... xn -&gt; z) y1 ... yn</code>.</p>
<p>Let-expressions is for readability by humans.</p>
<p>Do we still need let-expressions if our program is well-factored?</p>
<div class="local_table_of_contents">
<ul>
<li><span class="section_number">13.10.1</span><span class="section_title"><a href="#let-expressions-may-recur">let-expressions may recur</a></span><span class="word_count">(14w~1m)</span></li>
</ul>
</div>
<h4 id="let-expressions-may-recur"><span class="section_number">13.10.1</span><span class="section_title">let-expressions may recur</span></h4>
<p>I think letrec is ugly. All let-expression should allow recursion, like Haskell's.</p>
<p><a href="https://stackoverflow.com/questions/28796904/whats-the-reason-of-let-rec-for-impure-functional-language-ocaml/28798040">https://stackoverflow.com/questions/28796904/whats-the-reason-of-let-rec-for-impure-functional-language-ocaml/28798040</a></p>
<h3 id="sharing-laziness-full-laziness-complete-laziness-and-optimal-reduction"><span class="section_number">13.11</span><span class="section_title">Sharing, laziness, full laziness, complete laziness, and optimal reduction</span></h3>
<ul>
<li><a href="https://www.reddit.com/r/haskell/comments/3pa5ii/are_optimal_evaluators_actually_optimal/">https://www.reddit.com/r/haskell/comments/3pa5ii/are_optimal_evaluators_actually_optimal/</a>
<ul>
<li><a href="https://cstheory.stackexchange.com/questions/32850/are-optimal-evaluators-actually-optimal">https://cstheory.stackexchange.com/questions/32850/are-optimal-evaluators-actually-optimal</a></li>
</ul></li>
</ul>
<div class="local_table_of_contents">
<ul>
<li><span class="section_number">13.11.1</span><span class="section_title"><a href="#sharing">Sharing</a></span><span class="word_count">(35w~1m)</span></li>
<li><span class="section_number">13.11.2</span><span class="section_title"><a href="#example-of-sharing">Example of sharing</a></span><span class="word_count">(67w~1m)</span></li>
<li><span class="section_number">13.11.3</span><span class="section_title"><a href="#lazy-accumulation-problem">Lazy accumulation problem</a></span><span class="word_count">(3w~1m)</span></li>
</ul>
</div>
<h4 id="sharing"><span class="section_number">13.11.1</span><span class="section_title">Sharing</span></h4>
<ul>
<li>Should the programmer care about sharing?</li>
<li>sigma-calculus?</li>
<li>Should the programmer decide whether to share or not?</li>
<li>Is there a best sharing strategy?</li>
<li>Should the machine guess by heuristics?</li>
</ul>
<p>Sharing affects performance, but does not change the result. Should we care?</p>
<h4 id="example-of-sharing"><span class="section_number">13.11.2</span><span class="section_title">Example of sharing</span></h4>
<p>Consider the expression letexp defined as <code>let x = y in z;</code>.</p>
<p>We want x to be shared iff doing so speeds up the reduction of letexp.</p>
<p>This is always the case:</p>
<ul>
<li>If x occurs <em>at most once</em> in z, we always want x not shared.</li>
</ul>
<p>These depend on circumstances:</p>
<ul>
<li>If y is expensive, we want x shared.</li>
<li>If y is cheap, we want x not shared.</li>
</ul>
<p>How do we define &quot;expensive&quot;?</p>
<h4 id="lazy-accumulation-problem"><span class="section_number">13.11.3</span><span class="section_title">Lazy accumulation problem</span></h4>
<pre class="example"><code>sum a 0 = a
sum a

sum 0 = 0
sum n = n + sum (n - 1)
</code></pre>
<h3 id="currying-is-not-compatible-with-vararg-and-named-parameters"><span class="section_number">13.12</span><span class="section_title">Currying is not compatible with vararg and named parameters?</span></h3>
<p>Vararg stands for &quot;variable-length arguments&quot;.</p>
<p>Do we want currying?</p>
<p>Currying simplifies language user but complicates compiler writer.</p>
<p>The problems:</p>
<ul>
<li><a href="https://softwareengineering.stackexchange.com/questions/286231/is-it-possible-to-have-currying-and-variadic-function-at-the-same-time">https://softwareengineering.stackexchange.com/questions/286231/is-it-possible-to-have-currying-and-variadic-function-at-the-same-time</a></li>
<li><a href="http://tolmasky.com/2016/03/24/generalizing-jsx/">http://tolmasky.com/2016/03/24/generalizing-jsx/</a></li>
</ul>
<h3 id="modeling-all-data"><span class="section_number">13.13</span><span class="section_title">Modeling all data</span></h3>
<div class="local_table_of_contents">
<ul>
<li><span class="section_number">13.13.1</span><span class="section_title"><a href="#hypothesis-data-adts-records-row-polymorphism">Hypothesis: data = ADTs + records + row polymorphism</a></span><span class="word_count">(49w~1m)</span></li>
<li><span class="section_number">13.13.2</span><span class="section_title"><a href="#church-representation-of-products-sums-and-algebraic-data-types-in-general">Church-representation of products, sums, and algebraic data types in general</a></span><span class="word_count">(203w~2m)</span></li>
<li><span class="section_number">13.13.3</span><span class="section_title"><a href="#reverse-semantics">Reverse semantics</a></span><span class="word_count">(46w~1m)</span></li>
<li><span class="section_number">13.13.4</span><span class="section_title"><a href="#self-interpreter">Self-interpreter</a></span><span class="word_count">(7w~1m)</span></li>
</ul>
</div>
<h4 id="hypothesis-data-adts-records-row-polymorphism"><span class="section_number">13.13.1</span><span class="section_title">Hypothesis: data = ADTs + records + row polymorphism</span></h4>
<p>Hypothesis: All data can be modeled by a combination of these:</p>
<ul>
<li>product (tuple)</li>
<li>sum (alternative, union)</li>
<li>record (tuple with named components)</li>
<li>row polymorphism</li>
</ul>
<p>Can we use web standards to define an ontology (so we can use Protege to edit it)? <a href="https://protege.stanford.edu/">https://protege.stanford.edu/</a></p>
<ul>
<li>Does Eclipse EMF have textual representation?</li>
</ul>
<h4 id="church-representation-of-products-sums-and-algebraic-data-types-in-general"><span class="section_number">13.13.2</span><span class="section_title">Church-representation of products, sums, and algebraic data types in general</span></h4>
<p><a href="https://en.wikipedia.org/wiki/Lambda_calculus#Pairs">https://en.wikipedia.org/wiki/Lambda_calculus#Pairs</a></p>
<p>Let [x] mean the <em>representation</em> of x.</p>
<p>A <em>product</em> (a,b) can be represented as [(a,b)] = \ f -&gt; f [a] [b].</p>
<p>The left projection p1 is represented as [p1] = \ p -&gt; p (\ a b -&gt; a).</p>
<p>If we assume the sum type A + B, then:</p>
<ul>
<li>The choice inl a can be represented as [inl a] = \ f g -&gt; f [a].</li>
<li>The choice inr b can be represented as [inr b] = \ f g -&gt; g [b].</li>
</ul>
<p>A recursive data type such as &quot;stream a = (a, stream a)&quot; can be represented as:</p>
<ul>
<li>[cons h t] = \ f -&gt; f [h] [t].</li>
</ul>
<p>Thus [a : b : c : …] = \ f -&gt; f [a] (\ f -&gt; f [b] (\ f -&gt; f [c] …)).</p>
<p>A recursive data type such as &quot;list a = nil | cons a (list a)&quot; can be represented as:</p>
<ul>
<li>[nil] = \ f g -&gt; f.</li>
<li>[cons x y] = \ f g -&gt; g [x] [y].</li>
</ul>
<p>Natural numbers &quot;nat = z | s nat&quot;:</p>
<ul>
<li>[z] = \ f g -&gt; f.</li>
<li>[s x] = \ f g -&gt; g [x].</li>
</ul>
<p>Thus:</p>
<ul>
<li>[s z] = \ f g -&gt; g (\ f g -&gt; f)</li>
</ul>
<h4 id="reverse-semantics"><span class="section_number">13.13.3</span><span class="section_title">Reverse semantics</span></h4>
<p>Semantics maps syntax to mathematical object.</p>
<p>Reverse semantics maps mathematical object to syntax. Reverse semantics is representation. Reverse semantics is realization.</p>
<p>Example of reverse semantics is representing the tuple <code>(x,y)</code> with the lambda abstraction <code>\ f -&gt; f [x] [y]</code> where <code>[x]</code> denotes the representation of x.</p>
<p><a href="https://en.wikipedia.org/wiki/Realizability">https://en.wikipedia.org/wiki/Realizability</a></p>
<h4 id="self-interpreter"><span class="section_number">13.13.4</span><span class="section_title">Self-interpreter</span></h4>
<p>1994 article &quot;Efficient Self-Interpretation in Lambda Calculus&quot;</p>
<h3 id="representing-knowledge-logic-programming-symbolic-ai"><span class="section_number">13.14</span><span class="section_title">Representing knowledge; logic programming; symbolic AI</span></h3>
<ul>
<li><a href="https://en.wikipedia.org/wiki/Logic_programming#Knowledge_representation">https://en.wikipedia.org/wiki/Logic_programming#Knowledge_representation</a></li>
<li><a href="https://en.wikipedia.org/wiki/Knowledge_representation_and_reasoning">https://en.wikipedia.org/wiki/Knowledge_representation_and_reasoning</a></li>
</ul>
<p>Example: We encode &quot;a todo item has an int64 id&quot; as</p>
<pre class="example"><code>IF entity todo_app todo E THEN property E int64 id.
</code></pre>
<h3 id="dynamic-binding-contextual-holes"><span class="section_number">13.15</span><span class="section_title">Dynamic binding, contextual holes</span></h3>
<ul>
<li>1996 article &quot;Enriching the lambda calculus with contexts: toward a theory of incremental program construction&quot; <a href="https://dl.acm.org/citation.cfm?id=232652">https://dl.acm.org/citation.cfm?id=232652</a></li>
<li>1998 article &quot;A lambda-calculus for dynamic binding&quot; <a href="https://core.ac.uk/download/pdf/82810390.pdf">https://core.ac.uk/download/pdf/82810390.pdf</a></li>
<li>1998 article &quot;Computing with Contexts: A simple approach&quot; <a href="https://core.ac.uk/download/pdf/82065430.pdf">https://core.ac.uk/download/pdf/82065430.pdf</a></li>
<li>2009 article &quot;Two-level Lambda-calculus&quot; <a href="https://www.sciencedirect.com/science/article/pii/S1571066109002400">https://www.sciencedirect.com/science/article/pii/S1571066109002400</a></li>
</ul>
<h3 id="working-with-existing-systems"><span class="section_number">13.16</span><span class="section_title">Working with existing systems</span></h3>
<div class="local_table_of_contents">
<ul>
<li><span class="section_number">13.16.1</span><span class="section_title"><a href="#working-with-java">Working with Java</a></span><span class="word_count">(3w~1m)</span></li>
</ul>
</div>
<h4 id="working-with-java"><span class="section_number">13.16.1</span><span class="section_title">Working with Java</span></h4>
<h3 id="semantics-should-we-worry-about-this-earlier"><span class="section_number">13.17</span><span class="section_title">Semantics (should we worry about this earlier?)</span></h3>
<div class="local_table_of_contents">
<ul>
<li><span class="section_number">13.17.1</span><span class="section_title"><a href="#cost-model">Cost model</a></span><span class="word_count">(11w~1m)</span></li>
<li><span class="section_number">13.17.2</span><span class="section_title"><a href="#denotational-semantics">Denotational semantics</a></span><span class="word_count">(79w~1m)</span></li>
<li><span class="section_number">13.17.3</span><span class="section_title"><a href="#operational-semantics-and-evaluationreduction-strategy">Operational semantics and evaluation/reduction strategy</a></span><span class="word_count">(15w~1m)</span></li>
</ul>
</div>
<h4 id="cost-model"><span class="section_number">13.17.1</span><span class="section_title">Cost model</span></h4>
<ul>
<li>&quot;Cost models based on the lambda-calculus&quot;, <a href="http://www.cs.cmu.edu/~guyb/papers/lambdaInria.pdf">pdf slides</a>, from <a href="http://www.cs.cmu.edu/~guyb/">http://www.cs.cmu.edu/~guyb/</a></li>
</ul>
<h4 id="denotational-semantics"><span class="section_number">13.17.2</span><span class="section_title">Denotational semantics</span></h4>
<ol>
<li><p>Intro to denotational semantics</p>
<ul>
<li>1971, monograph, Dana Scott and Christopher Strachey, &quot;Toward a mathematical semantics for computer languages&quot;, <a href="https://www.cs.ox.ac.uk/files/3228/PRG06.pdf">pdf</a></li>
<li><a href="https://pdfs.semanticscholar.org/presentation/76cd/955ec6dafde3699d64e50882ec7fb4384803.pdf">pdf slides</a></li>
<li><a href="https://www.seas.harvard.edu/courses/cs152/2016sp/sections/sec-2016-02-18-soln.pdf">Exercises</a> about denotational semantics and lambda calculus</li>
<li>1997, book, &quot;Denotational semantics: a methodology for language development&quot;, <a href="http://www.bcl.hamilton.ie/~barak/teach/F2008/NUIM/CS424/texts/ds.pdf">pdf</a></li>
<li>1989, PhD thesis, Frank Steven Kent Silbermann, &quot;A Denotational Semantics Approach to Functional and Logic Programming&quot;, chapter 3, <a href="http://www.cs.unc.edu/techreports/89-030.pdf">pdf</a>
<ul>
<li>&quot;A novel approach is taken in constructing an operational semantics directly from the denotational description.&quot;</li>
</ul></li>
</ul></li>
<li><p><span class="todo TODO">TODO</span> Does lambda calculus have a semantics that doesn't depend on reduction strategy?</p></li>
</ol>
<h4 id="operational-semantics-and-evaluationreduction-strategy"><span class="section_number">13.17.3</span><span class="section_title">Operational semantics and evaluation/reduction strategy</span></h4>
<p>Which one should we choose, and why?</p>
<ul>
<li>call-by-name</li>
<li>call-by-value</li>
<li>call-by-need</li>
<li>what else?</li>
</ul>
<p>&lt;2018-09-29&gt; Wikipedia needs cleanup:</p>
<ul>
<li><a href="https://en.wikipedia.org/wiki/Reduction_strategy_(lambda_calculus)">https://en.wikipedia.org/wiki/Reduction_strategy_(lambda_calculus)</a></li>
<li><a href="https://en.wikipedia.org/wiki/Lambda_calculus#Reduction_strategies">https://en.wikipedia.org/wiki/Lambda_calculus#Reduction_strategies</a></li>
<li><a href="https://en.wikipedia.org/wiki/Evaluation_strategy">https://en.wikipedia.org/wiki/Evaluation_strategy</a></li>
</ul>
<h3 id="overloadable-function-application"><span class="section_number">13.18</span><span class="section_title">Overloadable function application?</span></h3>
<h3 id="interpreters-giving-different-meanings-to-the-same-syntax"><span class="section_number">13.19</span><span class="section_title">Interpreters: Giving different meanings to the same syntax</span></h3>
<p>Sometimes we want to interpret the same syntax (appearance, source code, text) differently.</p>
<h3 id="system-f-system-f-with-subtyping-system-f-omega"><span class="section_number">13.20</span><span class="section_title">System F, System F with subtyping, System F-omega</span></h3>
<p><a href="https://en.wikipedia.org/wiki/System_F">https://en.wikipedia.org/wiki/System_F</a></p>
<p>&quot;System F is rich enough that the self-application <code>\x.x x</code> is typable.&quot; <a href="https://crypto.stanford.edu/~blynn/lambda/systemf.html">https://crypto.stanford.edu/~blynn/lambda/systemf.html</a></p>
<p>Brown and Palsberg, &quot;Breaking Through the Normalization Barrier: A Self-Interpreter for F-omega&quot;</p>
<h3 id="imperative-subset"><span class="section_number">13.21</span><span class="section_title">Imperative subset</span></h3>
<p>Haskell's ST monad enables us to embed a local imperative program in a functional program.</p>
<h3 id="introduction-1"><span class="section_number">13.22</span><span class="section_title">Introduction?</span></h3>
<ul>
<li>unknown-year lecture notes &quot;Lambda Calculus as a Programming Language&quot; <a href="http://andrei.clubcisco.ro/cursuri/2pp/01.Lambda_prog.pdf">pdf</a></li>
</ul>
<p>I thought lambda calculus could be summarized in one page, but Henk Barendregt wrote hundreds of pages about it. Is there more to lambda calculus than it seems?</p>
<ul>
<li>1994, 50 pages, <a href="http://www.nyu.edu/projects/barker/Lambda/barendregt.94.pdf">pdf</a></li>
<li>1991, 190 pages, <a href="https://people.mpi-sws.org/~dreyer/tor/papers/barendregt.pdf">pdf</a></li>
</ul>
<h3 id="extending-lambda-calculus-with-various-bells-and-whistles"><span class="section_number">13.23</span><span class="section_title">Extending lambda-calculus with various bells and whistles</span></h3>
<ul>
<li><p>Vectorial lambda-calculus</p>
<ul>
<li>The 2013 article &quot;The Vectorial Lambda-Calculus&quot; <a href="https://who.rocq.inria.fr/Alejandro.Diaz-Caro/TheVectorialCalculus.pdf">pdf</a> adds vectors and matrices and their types to lambda calculus.</li>
<li>The 2010 article &quot;Semantics of a Typed Algebraic Lambda-Calculus&quot; <a href="https://arxiv.org/abs/1006.1433">pdf available</a> also mentions &quot;vectorial&quot;.</li>
</ul></li>
<li><p>2016 article &quot;System F-omega with Equirecursive Types for Datatype-Generic Programming&quot; <a href="http://ps.informatik.uni-tuebingen.de/research/functors/equirecursion-fomega-popl16.pdf">pdf</a></p></li>
</ul>
<h3 id="lambda-calculus-semantics"><span class="section_number">13.24</span><span class="section_title">Lambda calculus semantics?</span></h3>
<ul>
<li><p><a href="https://en.wikipedia.org/wiki/Lambda_calculus#Semantics">https://en.wikipedia.org/wiki/Lambda_calculus#Semantics</a></p>
<ul>
<li><p>&quot;In the 1970s, Dana Scott showed that, if only continuous functions were considered, a set or domain D with the required property could be found, thus providing a model for the lambda calculus.&quot;</p>
<ul>
<li>1982, <a href="https://www.sciencedirect.com/science/article/pii/S0019995882800879">&quot;What is a model of lambda calculus?&quot;</a></li>
<li><p>2008, PhD thesis, <a href="https://tel.archives-ouvertes.fr/tel-00715207/document">&quot;Models and theories of lambda calculus&quot;</a></p>
<ul>
<li>2009, <a href="https://arxiv.org/abs/0904.4756">summary</a></li>
</ul></li>
</ul></li>
</ul></li>
<li><p>Paul Hudak, lecture notes, <a href="http://www.cs.yale.edu/homes/hudak/CS430F07/LectureSlides/Reynolds-ch10.pdf">The Lambda Calculus</a></p>
<ul>
<li>&quot;The Greatest Thing Since Sliced Bread™, or maybe even before it&quot;</li>
</ul></li>
<li><p>The operational semantics of lambda calculus depends on the evaluation strategy?</p>
<ul>
<li><p>What-reduction?</p>
<ul>
<li>Normal-order reduction</li>
<li>Applicative-order reduction</li>
</ul></li>
<li><p>Call-by-what?</p>
<ul>
<li>Call-by-value</li>
<li>Call-by-name</li>
</ul></li>
</ul></li>
</ul>
<h3 id="when-should-we-introduce-a-type-system"><span class="section_number">13.25</span><span class="section_title">When should we introduce a type system?</span></h3>
<ul>
<li>2005 article &quot;Introduction to Type Theory&quot; <a href="http://www.cs.ru.nl/~erikb/onderwijs/sl2/materiaal/tt-sl2.pdf">pdf</a></li>
</ul>
<h3 id="optimizing-lambda-calculus"><span class="section_number">13.26</span><span class="section_title">Optimizing lambda calculus?</span></h3>
<ul>
<li><a href="http://thyer.name/lambda-animator/">http://thyer.name/lambda-animator/</a></li>
<li><a href="http://thyer.name/phd-thesis/">http://thyer.name/phd-thesis/</a></li>
<li><a href="http://hackage.haskell.org/package/graph-rewriting-lambdascope">http://hackage.haskell.org/package/graph-rewriting-lambdascope</a></li>
<li><p>partial evaluation</p>
<ul>
<li><p>2010, slides, &quot;O, partial evaluator, where art thou?&quot;, Lennart Augustsson, <a href="http://www.cse.chalmers.se/~palka/Lennarts_talk/PEPM-2010.pdf">pdf</a></p>
<ul>
<li><p><a href="https://en.wikipedia.org/wiki/Partial_evaluation">https://en.wikipedia.org/wiki/Partial_evaluation</a></p>
<ul>
<li>Futamura projection</li>
</ul></li>
</ul></li>
<li><p>1997, article, &quot;Distributed partial evaluation&quot;, <a href="http://citeseerx.ist.psu.edu/viewdoc/summary?doi=10.1.1.134.1238">citeseerx</a></p></li>
</ul></li>
<li><p>Lambda calculus</p>
<ul>
<li><p>might be related to bottom-up beta substitution</p>
<ul>
<li>Abdullah hinted that BUBS (bottom-up beta-substitution [Shivers2004]) might be used to make a garbage-free or a fast interpreter.</li>
<li><a href="https://en.wikipedia.org/wiki/Strict_programming_language">https://en.wikipedia.org/wiki/Strict_programming_language</a></li>
<li><a href="https://en.wikipedia.org/wiki/Lazy_evaluation">https://en.wikipedia.org/wiki/Lazy_evaluation</a></li>
<li><a href="https://memo.barrucadu.co.uk/strict-vs-lazy.html">Strict-by-default vs Lazy-by-default</a></li>
<li><a href="https://en.wikipedia.org/wiki/Applicative_computing_systems">https://en.wikipedia.org/wiki/Applicative_computing_systems</a></li>
<li>non-strict, beta reduction, normal order, applicative order</li>
<li>The terms &quot;lazy&quot; and &quot;strict&quot; imply operational semantics. They are two strategies for beta-reduction. &quot;Lazy&quot; is normal-order. &quot;Strict&quot; is applicative-order.</li>
<li><a href="http://citeseerx.ist.psu.edu/viewdoc/download?doi=10.1.1.90.2386&amp;rep=rep1&amp;type=pdf">An Algorithm for Optimal Lambda Calculus Reduction, John Lamping</a></li>
<li><a href="http://www.lsv.fr/Publis/PAPERS/PDF/sinot-wrs07.pdf">Complete Laziness: a Natural Semantics, François-Régis Sinot</a></li>
<li><a href="http://rochel.info/">http://rochel.info/</a> graph-rewriting-lambdascope (screenshot): An implementation of an optimal evaluator for the λ-calculus, PDFLambdascope</li>
</ul></li>
<li><p>How is lambda calculus algebraic?</p>
<ul>
<li><p><a href="https://www.mscs.dal.ca/~selinger/papers/combinatory.pdf">&quot;The lambda calculus is algebraic&quot;, Peter Selinger</a></p>
<ul>
<li>&quot;We argue that free variables should not be interpreted as elements in a model, as is usually done, but as indeterminates.&quot;</li>
</ul></li>
<li><p><a href="https://pdfs.semanticscholar.org/055d/69ee4dc95fbf6457419c90338493667478b1.pdf">&quot;On the algebraic models of lambda calculus&quot;, Antonino Salibra</a></p>
<ul>
<li>&quot;The variety (equational class) of lambda abstraction algebras was introduced to algebraize the untyped lambda calculus in the same way Boolean algebras algebraize the classical propositional calculus.&quot; Propositional logic is modeled by Boolean algebra. First-order logic is modeled by cylindric algebra? Lambda calculus is modeled by lambda abstraction algebra. Why algebra? Because it is equational?</li>
</ul></li>
<li><a href="https://en.wikipedia.org/wiki/Algebraic_logic">Wikipedia &quot;algebraic logic&quot;</a></li>
<li><a href="https://pdfs.semanticscholar.org/7596/19f05a42ff3045bcf87fcaa3edbff01e1130.pdf">&quot;The algebraic lambda-calculus&quot;, Lionel Vaux</a></li>
<li><a href="https://pdfs.semanticscholar.org/44c9/2ad00b8ceba78319005db048b24d61a80748.pdf">&quot;Lambda abstraction algebras: representation theorems&quot;, Don Pigozzi, Antonino Salibra</a></li>
<li><p><a href="http://www.dsi.unive.it/~salibra/mainfinale.pdf">&quot;Applying Universal Algebra to Lambda Calculus&quot;, Giulio Manzonetto, Antonino Salibra</a></p></li>
</ul></li>
<li>Dana Scott's PCF; also search the Internet for &quot;the language pcf&quot; <a href="http://www.cs.bham.ac.uk/~mhe/papers/RNC3.pdf">&quot;Introduction to Real PCF (Notes)&quot;, Mart'in H&quot;otzel Escard'o</a></li>
<li><p>1993 John Launchbury <a href="https://pdfs.semanticscholar.org/492b/200419199892857faa6a6956614641ae9464.pdf">Lazy imperative programming</a></p></li>
</ul></li>
<li><p>lambda calculus</p>
<ul>
<li>Church-encoding enables lambda calculus to represent conditionals and algebraic data types.</li>
<li>Fixed-point combinators enables recursion and looping.</li>
<li><a href="https://en.wikipedia.org/wiki/Lambda_cube">https://en.wikipedia.org/wiki/Lambda_cube</a></li>
<li><a href="https://en.wikipedia.org/wiki/Calculus_of_constructions">https://en.wikipedia.org/wiki/Calculus_of_constructions</a></li>
<li><p><a href="https://en.wikipedia.org/wiki/Simply_typed_lambda_calculus">https://en.wikipedia.org/wiki/Simply_typed_lambda_calculus</a></p>
<ul>
<li><p>&quot;The simply typed lambda calculus […], a form of type theory, is a typed interpretation of the lambda calculus with only one type constructor: […] that builds function types.&quot;</p>
<ul>
<li>What is an &quot;interpretation of the lambda calculus&quot;?</li>
<li>What is &quot;the lambda calculus&quot;? Is there only one lambda calculus?</li>
</ul></li>
</ul></li>
<li><a href="https://www.reddit.com/r/haskell/comments/8els6f/why_are_combinators_as_powerful_as_full/">https://www.reddit.com/r/haskell/comments/8els6f/why_are_combinators_as_powerful_as_full/</a></li>
<li><a href="https://math.stackexchange.com/questions/5639/the-power-of-lambda-calculi">https://math.stackexchange.com/questions/5639/the-power-of-lambda-calculi</a></li>
<li><p>Implement lambda calculus.</p>
<ul>
<li>Without dynamic allocation / garbage collection.</li>
<li><p>Translate lambda calculus to assembly</p>
<ul>
<li><p>Basic idea:</p>
<ul>
<li>Every expression translates to a subroutine.</li>
<li>Calling the subroutine ~ evaluating the expression.</li>
<li>Subroutine return value ~ value obtained by evaluating the expression.</li>
</ul></li>
<li>A lambda abstraction translates to a subroutine that accepts one parameter.</li>
<li>An application translates to a subroutine call.</li>
<li><p>An int value translates to what? Choice:</p>
<ul>
<li>itself</li>
<li>a subroutine that returns the int</li>
</ul></li>
</ul></li>
<li><p>2012, article, <a href="https://arxiv.org/abs/1202.2924">&quot;From Mathematics to Abstract Machine: A formal derivation of an executable Krivine machine&quot;</a></p>
<ul>
<li><a href="https://en.wikipedia.org/wiki/Krivine_machine">https://en.wikipedia.org/wiki/Krivine_machine</a></li>
</ul></li>
</ul></li>
</ul></li>
</ul>
<h3 id="begin-with-an-interpreter-not-a-compiler"><span class="section_number">13.27</span><span class="section_title">Begin with an interpreter, not a compiler</span></h3>
<ul>
<li>Don't make a compiler? Make an interpreter instead, and stage it? Turn an interpreter into a compiler for free?</li>
<li>&quot;To stage an interpreter&quot; is to add staging annotations to the code of the interpreter.</li>
<li>Staging is similar to quoting in Lisp/Scheme.</li>
<li>2004 article &quot;A Gentle Introduction to Multi-stage Programming&quot; <a href="http://citeseerx.ist.psu.edu/viewdoc/download?doi=10.1.1.103.2543&amp;rep=rep1&amp;type=pdf">pdf</a>
<ul>
<li>Basic Problems in Building Program Generators</li>
<li>part 2 <a href="https://pdfs.semanticscholar.org/aa3c/d4233f7c0db95e5c38d5b8fc1d199df21857.pdf">https://pdfs.semanticscholar.org/aa3c/d4233f7c0db95e5c38d5b8fc1d199df21857.pdf</a></li>
</ul></li>
<li>multi-stage programming for Scala <a href="https://scala-lms.github.io/">https://scala-lms.github.io/</a></li>
<li>2006 article &quot;A Verified Staged Interpreter is a Verified Compiler&quot; <a href="https://www.researchgate.net/profile/Kevin_Hammond/publication/221108683_A_verified_staged_interpreter_is_a_verified_compiler/links/00b7d517ede725c057000000.pdf">pdf</a></li>
</ul>
<h3 id="foreign-function-interface-working-with-c"><span class="section_number">13.28</span><span class="section_title">Foreign function interface: working with C</span></h3>
<h3 id="ocaml"><span class="section_number">13.29</span><span class="section_title">Ocaml</span></h3>
<ul>
<li><a href="https://ocaml.org/learn/">https://ocaml.org/learn/</a></li>
</ul>
<h3 id="reconciling-functional-and-logic-programming-into-declarative-programming"><span class="section_number">13.30</span><span class="section_title">Reconciling functional and logic programming into declarative programming?</span></h3>
<p>1996 publication &quot;A Note on Declarative Programming Paradigms and the Future of Definitional Programming&quot; <a href="http://www.cse.chalmers.se/~oloft/Papers/wm96/wm96.html">html</a></p>
<div class="local_table_of_contents">
<ul>
<li><span class="section_number">13.30.1</span><span class="section_title"><a href="#example-representing-a-predicate-in-lambda-calculus">Example: Representing a predicate in lambda calculus</a></span><span class="word_count">(12w~1m)</span></li>
<li><span class="section_number">13.30.2</span><span class="section_title"><a href="#example-representing-a-function-in-logic-programming">Example: Representing a function in logic programming</a></span><span class="word_count">(7w~1m)</span></li>
<li><span class="section_number">13.30.3</span><span class="section_title"><a href="#the-satisfy-function">The &quot;satisfy&quot; function</a></span><span class="word_count">(43w~1m)</span></li>
<li><span class="section_number">13.30.4</span><span class="section_title"><a href="#a-function-is-a-relation-a-relation-is-a-function-so-what">A function is a relation, a relation is a function, so what?</a></span><span class="word_count">(35w~1m)</span></li>
</ul>
</div>
<h4 id="example-representing-a-predicate-in-lambda-calculus"><span class="section_number">13.30.1</span><span class="section_title">Example: Representing a predicate in lambda calculus</span></h4>
<p>Lambda calculus with boolean logic extensions:</p>
<pre class="example"><code>p = \ x -&gt; x = &quot;a&quot; OR x = &quot;b&quot;
</code></pre>
<p>Prolog:</p>
<pre class="example"><code>p(a).
p(b).
</code></pre>
<h4 id="example-representing-a-function-in-logic-programming"><span class="section_number">13.30.2</span><span class="section_title">Example: Representing a function in logic programming</span></h4>
<pre class="example"><code>inc(X, Y) :- X = Y + 1.
</code></pre>
<h4 id="the-satisfy-function"><span class="section_number">13.30.3</span><span class="section_title">The &quot;satisfy&quot; function</span></h4>
<p>The expression &quot;satisfy f&quot; finds all x : a that satisfies f : a -&gt; bool. Thus the type of &quot;satisfy&quot; is &quot;(a -&gt; bool) -&gt; list a&quot;.</p>
<p>It is in principle possible to write such &quot;satisfy&quot; builtin for some lambda expressions.</p>
<pre class="example"><code>satisfy (\ x -&gt; x = &quot;a&quot; OR x = &quot;b&quot;)
=&gt; [&quot;a&quot;,&quot;b&quot;]

satisfy (\ (x : int) -&gt; x &gt;= 10)
=&gt; [10,11,12,...] -- an infinite list

satisfy (\ (x : bool) -&gt; true)
=&gt; [false,true]
</code></pre>
<h4 id="a-function-is-a-relation-a-relation-is-a-function-so-what"><span class="section_number">13.30.4</span><span class="section_title">A function is a relation, a relation is a function, so what?</span></h4>
<p>A function <span class="math inline">\( (A,B,F) \)</span> is trivially a relation.</p>
<p>A relation <span class="math inline">\( (A,B,R) \)</span> is a function <span class="math inline">\( (A,2^B,F) \)</span> where <span class="math inline">\( F(x) = \{ y ~|~ (x,y) \in R \} \)</span>.</p>
<h3 id="precise-memory-accounting"><span class="section_number">13.31</span><span class="section_title">Precise memory accounting</span></h3>
<p>We want precise memory accounting to enable the runtime to limit memory usage.</p>
<h3 id="execution-state-reification-save-states-saving-and-loading-states-pausing-and-resuming-computations"><span class="section_number">13.32</span><span class="section_title">Execution state reification, save states, saving and loading states, pausing and resuming computations</span></h3>
<p>We want execution state reification so that we can do live process migration.</p>
<h3 id="haskell-woes"><span class="section_number">13.33</span><span class="section_title">Haskell woes</span></h3>
<ul>
<li><a href="https://news.ycombinator.com/item?id=5893442">Ask HN: Any downsides of programming in Haskell? | Hacker News</a></li>
<li><a href="https://www.reddit.com/r/haskell/comments/1gknfs/ask_hn_any_downsides_of_programming_in_haskell/">Ask HN: Any downsides of programming in Haskell? : haskell</a></li>
</ul>
<div class="local_table_of_contents">
<ul>
<li><span class="section_number">13.33.1</span><span class="section_title"><a href="#cant-import-type-class-instances-explicitly">Can't import type class instances explicitly</a></span><span class="word_count">(9w~1m)</span></li>
</ul>
</div>
<h4 id="cant-import-type-class-instances-explicitly"><span class="section_number">13.33.1</span><span class="section_title">Can't import type class instances explicitly</span></h4>
<p><a href="https://stackoverflow.com/questions/8728596/explicitly-import-instances">There is a reason</a>.</p>
<h3 id="monads-and-haskell-type-system-limitations"><span class="section_number">13.34</span><span class="section_title">Monads, and Haskell type system limitations</span></h3>
<ul>
<li>A monad is a way of <em>conservatively extending</em> all categories. (Abdullah, private correspondence)</li>
<li><a href="https://www.reddit.com/r/haskell/comments/3h2aqg/can_someone_explain_the_monads_are_generalised/">https://www.reddit.com/r/haskell/comments/3h2aqg/can_someone_explain_the_monads_are_generalised/</a></li>
</ul>
<div class="local_table_of_contents">
<ul>
<li><span class="section_number">13.34.1</span><span class="section_title"><a href="#should-nat-the-natural-numbers-be-a-subtype-of-int-the-integers">Should Nat (the natural numbers) be a subtype of Int (the integers)?</a></span><span class="word_count">(13w~1m)</span></li>
<li><span class="section_number">13.34.2</span><span class="section_title"><a href="#abdullah-signedness-is-a-monad-conservatively-extending-naturals-to-integers">&lt;2018-10-01&gt; <strong>???</strong> Signedness is a monad: conservatively extending naturals to integers</a></span><span class="word_count">(117w~1m)</span></li>
</ul>
</div>
<h4 id="should-nat-the-natural-numbers-be-a-subtype-of-int-the-integers"><span class="section_number">13.34.1</span><span class="section_title">Should Nat (the natural numbers) be a subtype of Int (the integers)?</span></h4>
<p>Intuitively, yes.</p>
<h4 id="abdullah-signedness-is-a-monad-conservatively-extending-naturals-to-integers"><span class="section_number">13.34.2</span><span class="section_title">&lt;2018-10-01&gt; <strong>???</strong> Signedness is a monad: conservatively extending naturals to integers</span></h4>
<p>I think this is what we mean when we say &quot;integer is a monad&quot;. I think what we are really trying to say is &quot;signedness is a monad&quot;, that is, &quot;we can conservatively extend the naturals to the integers by using the Signed monad&quot;.</p>
<p>We can write that in Haskell as follows (with some problems described later).</p>
<pre class="example"><code>data Nat = Zero | Succ Nat
type Int = Signed Nat
data Signed a = Positive a | Negative a

instance Functor Signed ...
instance Applicative Signed ...

instance Monad Signed where
    return = Positive
    m &gt;&gt;= k = join_signed (fmap k m)

join_signed :: Signed (Signed a) -&gt; Signed a
join_signed mm = case mm of
    Positive x -&gt; x
    Negative x -&gt; negate_signed x

negate_signed :: Signed a -&gt; Signed a
negate_signed (Positive x) = Negative x
negate_signed (Negative x) = Positive x

f :: Nat -&gt; Nat
f = ...

f_int :: Int -&gt; Int
f_int = fmap f
</code></pre>
<p>We can have Signed Char, Signed String, etc., but those may not make sense.</p>
<p>The problem: Nat should be a subtype of Int, because everyone who knows arithmetics seems to think that way. We want f and f_int to be the <em>same</em> function. We don't want to type fmap, liftM2, and their ilk.</p>
<h3 id="abdullahs-dream-language-extending-system-f-application-beta-reduction-rules-to-automate-fmap-and-extend"><span class="section_number">13.35</span><span class="section_title">Abdullah's dream language: Extending System F application beta-reduction rules to automate fmap and extend?</span></h3>
<p>Add these inference rules?</p>
<ul>
<li>If <code>f : a -&gt; b</code>, and <code>x : m a</code>, and <code>m</code> is an instance of <code>Functor</code>, then <code>f x</code> beta-reduces to <code>fmap f x</code>.</li>
<li>If <code>k : a -&gt; m b</code>, and <code>x : m a</code>, and <code>m</code> is an instance of <code>Monad</code>, then <code>k x</code> beta-reduces to <code>k =&lt;&lt; x</code>.</li>
</ul>
<p><span class="math display">\[
f : a \to b , ~ x : m~a , ~ Functor~m \vdash (f~x \to_\beta fmap~f~x)
\]</span></p>
<p>Suppose <code>f : a -&gt; b</code>, and <code>x : m (p a)</code>, and <code>m</code> is an instance of <code>Functor</code>, and <code>p</code> is an instance of <code>Functor</code>.</p>
<ul>
<li>The rule beta-reduces <code>f x</code> to <code>fmap f x</code>.</li>
<li>Problem: The rule interferes with the <code>Functor</code> instance of <code>(-&gt;)</code>.</li>
</ul>
<h3 id="increasing-language-adoption"><span class="section_number">13.36</span><span class="section_title">Increasing language adoption</span></h3>
<div class="local_table_of_contents">
<ul>
<li><span class="section_number">13.36.1</span><span class="section_title"><a href="#what-1">What</a></span><span class="word_count">(266w~2m)</span></li>
<li><span class="section_number">13.36.2</span><span class="section_title"><a href="#other-peoples-opinions">Other people's opinions</a></span><span class="word_count">(11w~1m)</span></li>
</ul>
</div>
<h4 id="what-1"><span class="section_number">13.36.1</span><span class="section_title">What</span></h4>
<p>In order for a language to be adopted, people must perceive its risk as low.</p>
<p>The language must work with existing codebases.</p>
<p>The language designer must think from the language user's point of view. Let's say I have 100,000 lines of Java that I've been writing and testing for the past 5 years. Are you expecting me throw away all of them?</p>
<p>Thus the language must work with C, C++, C#, Java, Go, JavaScript, Python, Ruby, and everything else. This should be possible because the essence of all programming languages is the same: every programming language is a formal system. It should be possible to translate a program P1 in language L1 to program P2 in language L2 with the same semantics.</p>
<p>Improve/enhance, not supersede.</p>
<p>Mixing languages should be easy.</p>
<p>2013, article, &quot;Empirical analysis of programming language adoption&quot;, <a href="http://sns.cs.princeton.edu/docs/asr-oopsla13.pdf">pdf</a></p>
<p>The language must be suitable for systems programming. - System programming is hardware-aware programming. Application programming assumes abstract machine, infinite memory, and all convenience provided by the operating system. - Why do we make this distinction?</p>
<p>The language must facilitate metaprogramming. Everything must be a first-class citizen. It has to have EVAL. The language must provide a way for interpreting/compiling/loading a program at runtime. The compiler becomes a part of every program.</p>
<p>What is the reason for the name &quot;metacircular evaluator&quot;? What is circular? What is metacircular?</p>
<p>To make syntax first-class, we need QUOTE and UNQUOTE (such as in Lisp/Scheme)?</p>
<p>To prevent syntax flamewar, we should define the canonical linearization of the abstract syntax tree. Go does this with <code>go fmt</code>. I think that is wise.</p>
<ul>
<li>Basic assumptions
<ul>
<li>Computer (machine) is embodied formal system.
<ul>
<li>Assume no hardware fault.</li>
</ul></li>
<li>Software is executable mathematics.</li>
</ul></li>
</ul>
<h4 id="other-peoples-opinions"><span class="section_number">13.36.2</span><span class="section_title">Other people's opinions</span></h4>
<ul>
<li>2012 article &quot;Socio-PLT: Principles for Programming Language Adoption&quot; <a href="https://lmeyerov.github.io/projects/socioplt/paper0413.pdf">pdf</a></li>
</ul>
<h3 id="what-are-some-interesting-programming-languages"><span class="section_number">13.37</span><span class="section_title">What are some interesting programming languages?</span></h3>
<ul>
<li><p>Interesting functional programming languages tailored for web programming. Perhaps related to data modeling.</p>
<ul>
<li><p>Ur/Web</p>
<ul>
<li><p><a href="http://www.impredicative.com/ur/faq.html">FAQ</a></p>
<ul>
<li>&quot;Why would I prefer to use Ur/Web over OPA?&quot;</li>
</ul></li>
<li><p><a href="http://www.impredicative.com/ur/resources.html">How to Get Started Learning Ur/Web</a></p></li>
</ul></li>
<li><a href="http://links-lang.org/">The Links Programming Language</a></li>
<li><p><a href="http://opalang.org/">The Opa Language</a></p></li>
</ul></li>
<li><p>Moving logic into SQL stored procedures</p>
<ul>
<li><p><a href="https://sivers.org/pg">Simplify: move code into database functions | Derek Sivers</a></p>
<ul>
<li>A legitimate concern: How do we version-control (and release, and rollback) stored procedures, triggers, and other database logics?</li>
</ul></li>
<li><p><a href="https://news.ycombinator.com/item?id=11802917">Andl, a relational language that is not SQL, is coming to Postgres | Hacker News</a></p></li>
</ul></li>
<li><a href="https://www.microsoft.com/en-us/research/publication/convenient-explicit-effects-using-type-inference-with-subeffects/">https://www.microsoft.com/en-us/research/publication/convenient-explicit-effects-using-type-inference-with-subeffects/</a></li>
<li><a href="https://nikita-volkov.github.io/if-haskell-were-strict/">If Haskell were strict, what would the laziness be like?</a></li>
<li><p><a href="http://homepages.inf.ed.ac.uk/wadler/papers/free-rectypes/free-rectypes.txt">http://homepages.inf.ed.ac.uk/wadler/papers/free-rectypes/free-rectypes.txt</a></p></li>
</ul>
<div class="local_table_of_contents">
<ul>
<li><span class="section_number">13.37.1</span><span class="section_title"><a href="#do-we-really-have-to-read-these-fragmented-sources">Do we really have to read these fragmented sources?</a></span><span class="word_count">(16w~1m)</span></li>
</ul>
</div>
<h4 id="do-we-really-have-to-read-these-fragmented-sources"><span class="section_number">13.37.1</span><span class="section_title">Do we really have to read these fragmented sources?</span></h4>
<ul>
<li><a href="http://www.cse.chalmers.se/edu/year/2015/course/DAT150/lectures/proglang-12.html">Lecture 12: Design and Evolution of Programming Languages</a></li>
</ul>
<h3 id="making-compilers"><span class="section_number">13.38</span><span class="section_title">Making compilers?</span></h3>
<p>Every compiler does name resolution / symbol table. Is there a compiler that doesn't do that? <a href="https://www.reddit.com/r/Forth/comments/695oik/advances_in_forth_language_design/dh454oq/">Forth?</a></p>
<ul>
<li><a href="https://www.reddit.com/r/haskell/comments/4jhhrj/anders_hejlsberg_on_modern_compiler_construction/">https://www.reddit.com/r/haskell/comments/4jhhrj/anders_hejlsberg_on_modern_compiler_construction/</a></li>
<li><a href="https://cs.stackexchange.com/questions/63018/visual-programming-tools-why-don-t-they-work-with-the-ast-directly">https://cs.stackexchange.com/questions/63018/visual-programming-tools-why-don-t-they-work-with-the-ast-directly</a></li>
<li><p>compiling with continuations</p>
<ul>
<li><p>Why use CPS (continuation passing style) as intermediate form?</p>
<ul>
<li><a href="http://matt.might.net/articles/cps-conversion/">http://matt.might.net/articles/cps-conversion/</a></li>
<li><a href="https://www.microsoft.com/en-us/research/publication/compiling-with-continuations-continued/">https://www.microsoft.com/en-us/research/publication/compiling-with-continuations-continued/</a></li>
<li><a href="https://news.ycombinator.com/item?id=7150095">https://news.ycombinator.com/item?id=7150095</a></li>
</ul></li>
<li><p>2003, retrospective: the essence of compiling with continuations <a href="https://users.soe.ucsc.edu/~cormac/papers/best-pldi.pdf">https://users.soe.ucsc.edu/~cormac/papers/best-pldi.pdf</a></p>
<ul>
<li><a href="https://en.wikipedia.org/wiki/A-normal_form">https://en.wikipedia.org/wiki/A-normal_form</a></li>
</ul></li>
</ul></li>
</ul>
<h3 id="after-2018-programming-language-requirements"><span class="section_number">13.39</span><span class="section_title">After-2018 programming language requirements</span></h3>
<div class="local_table_of_contents">
<ul>
<li><span class="section_number">13.39.1</span><span class="section_title"><a href="#ergonomic-error-handling">Ergonomic error handling</a></span><span class="word_count">(3w~1m)</span></li>
<li><span class="section_number">13.39.2</span><span class="section_title"><a href="#repl-read-eval-print-loop">REPL (read-eval-print loop)</a></span><span class="word_count">(22w~1m)</span></li>
<li><span class="section_number">13.39.3</span><span class="section_title"><a href="#example-of-mixing-nominal-and-structural-subtyping">Example of mixing nominal and structural subtyping</a></span><span class="word_count">(7w~1m)</span></li>
<li><span class="section_number">13.39.4</span><span class="section_title"><a href="#programming-language-should-separate-modeling-and-binding.-can-we-combine-dynamic-binding-and-static-typing">Programming language should separate modeling and binding. Can we combine dynamic binding and static typing?</a></span><span class="word_count">(20w~1m)</span></li>
<li><span class="section_number">13.39.5</span><span class="section_title"><a href="#paradigm-approach-viewpoint-worldview">Paradigm, approach, viewpoint, worldview?</a></span><span class="word_count">(60w~1m)</span></li>
<li><span class="section_number">13.39.6</span><span class="section_title"><a href="#low-code-programming-for-the-masses">Low-code? Programming for the masses?</a></span><span class="word_count">(13w~1m)</span></li>
</ul>
</div>
<h4 id="ergonomic-error-handling"><span class="section_number">13.39.1</span><span class="section_title">Ergonomic error handling</span></h4>
<h4 id="repl-read-eval-print-loop"><span class="section_number">13.39.2</span><span class="section_title">REPL (read-eval-print loop)</span></h4>
<p>The language must not preclude making a REPL for it.</p>
<p>REPL is important for immediate feedback, experimentation, exploration, and playing around.</p>
<h4 id="example-of-mixing-nominal-and-structural-subtyping"><span class="section_number">13.39.3</span><span class="section_title">Example of mixing nominal and structural subtyping</span></h4>
<p><a href="https://www.eclipse.org/n4js/features/nominal-and-structural-typing.html">https://www.eclipse.org/n4js/features/nominal-and-structural-typing.html</a></p>
<h4 id="programming-language-should-separate-modeling-and-binding.-can-we-combine-dynamic-binding-and-static-typing"><span class="section_number">13.39.4</span><span class="section_title">Programming language should separate modeling and binding. Can we combine dynamic binding and static typing?</span></h4>
<p>Example of binding is <code>import</code> statement.</p>
<h4 id="paradigm-approach-viewpoint-worldview"><span class="section_number">13.39.5</span><span class="section_title">Paradigm, approach, viewpoint, worldview?</span></h4>
<ul>
<li><p>graph programming languages</p>
<ul>
<li><p><a href="https://cstheory.stackexchange.com/questions/3906/what-are-theoretically-sound-programming-languages-for-graph-problems">https://cstheory.stackexchange.com/questions/3906/what-are-theoretically-sound-programming-languages-for-graph-problems</a></p>
<ul>
<li><a href="https://www.cs.york.ac.uk/plasma/wiki/index.php?title=GP_%28Graph_Programs%29">https://www.cs.york.ac.uk/plasma/wiki/index.php?title=GP_%28Graph_Programs%29</a></li>
<li>2007, PhD thesis, Steinert, <a href="https://www.cs.york.ac.uk/ftpdir/reports/2007/YCST/15/YCST-2007-15.pdf">&quot;The graph programming language GP&quot;</a></li>
<li><p>a short visual example of &quot;conditional rule schemata&quot;</p>
<ul>
<li>2010, article, <a href="https://www.cs.york.ac.uk/plasma/publications/pdf/PoskittPlump.VS-Theory.10.pdf">&quot;Hoare Logic for Graph Programs&quot;</a></li>
</ul></li>
<li><a href="https://markorodriguez.com/2013/01/09/on-graph-computing/">https://markorodriguez.com/2013/01/09/on-graph-computing/</a></li>
<li><p><a href="https://en.wikipedia.org/wiki/Gremlin_(programming_language)">https://en.wikipedia.org/wiki/Gremlin_(programming_language)</a></p></li>
</ul></li>
</ul></li>
<li><p>equational programming?</p>
<ul>
<li>2017-2018, <a href="https://www.cs.vu.nl/~tcs/ep/">https://www.cs.vu.nl/~tcs/ep/</a></li>
<li><p>term-rewriting</p>
<ul>
<li><p>retired, <a href="http://q-lang.sourceforge.net/">Q language</a></p>
<ul>
<li><a href="http://q-lang.sourceforge.net/examples.html">http://q-lang.sourceforge.net/examples.html</a></li>
<li><p>superseded by Pure</p>
<ul>
<li><a href="https://agraef.github.io/pure-lang/">https://agraef.github.io/pure-lang/</a></li>
<li><a href="https://en.wikipedia.org/wiki/Pure_(programming_language)">https://en.wikipedia.org/wiki/Pure_(programming_language)</a></li>
<li><a href="https://github.com/agraef/pure-lang/wiki/Rewriting">https://github.com/agraef/pure-lang/wiki/Rewriting</a></li>
</ul></li>
</ul></li>
<li><p>Joy</p></li>
</ul></li>
</ul></li>
<li>2002, article, <a href="http://www.cs.tufts.edu/comp/150PP/archive/norman-ramsey/pmonad.pdf">&quot;Stochastic Lambda Calculus and Monads of Probability Distributions&quot;</a></li>
<li>&quot;Purely functional lazy nondeterministic programming&quot;, <a href="https://www.cambridge.org/core/journals/journal-of-functional-programming/article/purely-functional-lazy-nondeterministic-programming/1E8BA117E549A9612BC4AF9804E5507A">paywall</a></li>
<li><p>relational programming (pure logic programming?)</p>
<ul>
<li><p>miniKanren</p>
<ul>
<li><p>Byrd PhD thesis <a href="https://scholarworks.iu.edu/dspace/bitstream/handle/2022/8777/Byrd_indiana_0093A_10344.pdf">https://scholarworks.iu.edu/dspace/bitstream/handle/2022/8777/Byrd_indiana_0093A_10344.pdf</a></p>
<ul>
<li>mentions other programming languages: Prolog, Mercury, Curry</li>
</ul></li>
</ul></li>
</ul></li>
<li><a href="https://en.wikipedia.org/wiki/Multi-adjoint_logic_programming">https://en.wikipedia.org/wiki/Multi-adjoint_logic_programming</a></li>
<li><p>ramble</p>
<ul>
<li><a href="https://www.researchgate.net/project/Ontology-oriented-programming">https://www.researchgate.net/project/Ontology-oriented-programming</a></li>
<li><a href="http://www.doc.ic.ac.uk/~klc/OntProg.html">http://www.doc.ic.ac.uk/~klc/OntProg.html</a></li>
</ul></li>
</ul>
<h4 id="low-code-programming-for-the-masses"><span class="section_number">13.39.6</span><span class="section_title">Low-code? Programming for the masses?</span></h4>
<p>Limited programming?</p>
<p>What can we assume about the user's skill/knowledge/background?</p>
<ul>
<li><a href="https://en.wikipedia.org/wiki/End-user_development">https://en.wikipedia.org/wiki/End-user_development</a></li>
<li><a href="https://en.wikipedia.org/wiki/Low-code_development_platforms">https://en.wikipedia.org/wiki/Low-code_development_platforms</a></li>
</ul>
<h3 id="toward-a-language-with-first-class-syntax"><span class="section_number">13.40</span><span class="section_title">Toward a language with first-class syntax?</span></h3>
<ul>
<li><p>composable grammars?</p>
<ul>
<li><p>2013, article, Viera &amp; Swierstra, &quot;First Class Syntax, Semantics, and Their Composition&quot; <a href="http://www.cs.ru.nl/P.Achten/IFL2013/symposium_proceedings_IFL2013/ifl2013_submission_21.pdf">http://www.cs.ru.nl/P.Achten/IFL2013/symposium_proceedings_IFL2013/ifl2013_submission_21.pdf</a></p>
<ul>
<li>2013, PhD thesis, Viera, &quot;First Class Syntax, Semantics, and Their Composition&quot; <a href="file:///home/erik/Downloads/viera.pdf">file:///home/erik/Downloads/viera.pdf</a></li>
</ul></li>
<li>1990, <a href="https://authors.library.caltech.edu/26726/">&quot;A Primer for Program Composition Notation&quot;</a></li>
<li><a href="https://stackoverflow.com/questions/953185/composable-grammars">https://stackoverflow.com/questions/953185/composable-grammars</a></li>
<li>OMeta</li>
<li><p>Programming languages with programmable syntax</p>
<ul>
<li><a href="http://chrisseaton.com/katahdin/">Katahdin</a></li>
</ul></li>
<li><p>parsing expression grammar, packrat</p>
<ul>
<li><p>&quot;Parsing ought to be easier&quot;</p>
<ul>
<li><p><a href="https://news.ycombinator.com/item?id=2330830">https://news.ycombinator.com/item?id=2330830</a></p>
<ul>
<li>&quot;PEGs are one class of cleanly composable grammars.&quot;?</li>
</ul></li>
</ul></li>
</ul></li>
<li><a href="http://www.cs.cmu.edu/~Compose/">http://www.cs.cmu.edu/~Compose/</a></li>
<li><p>cryptographic protocol analysis</p>
<ul>
<li><a href="https://en.wikipedia.org/wiki/Universal_composability">https://en.wikipedia.org/wiki/Universal_composability</a></li>
</ul></li>
</ul></li>
<li><p>Programming languages with macros</p>
<ul>
<li>Common Lisp</li>
<li>Scheme</li>
<li>Kotlin?</li>
<li>Clojure?</li>
<li>Scala? <a href="https://www.scala-lang.org/blog/2017/11/27/macros.html">https://www.scala-lang.org/blog/2017/11/27/macros.html</a></li>
</ul></li>
</ul>
<h3 id="enabling-metaprogramming"><span class="section_number">13.41</span><span class="section_title">Enabling metaprogramming</span></h3>
<ul>
<li><a href="https://stackoverflow.com/questions/50490883/why-is-ml-called-meta-language">metaprogramming - Why is ML called Meta-Language? - Stack Overflow</a></li>
<li><p>related?</p>
<ul>
<li><a href="https://github.com/PostgREST/postgrest">https://github.com/PostgREST/postgrest</a></li>
<li><a href="http://rosecompiler.org/">http://rosecompiler.org/</a></li>
</ul></li>
<li><p>Metaprogramming</p>
<ul>
<li><p><a href="http://kaitai.io/">http://kaitai.io/</a></p>
<ul>
<li>from description, generate parsers for binary data (as opposed to text data)</li>
</ul></li>
</ul></li>
<li><p>Aspect-oriented programming is a restricted form of metaprogramming.</p>
<ul>
<li><p>relationship between Aspect-Oriented Programming and Functional Programming</p>
<ul>
<li>2009, article, &quot;What Does Aspect-Oriented Programming Mean for Functional Programmers?&quot;, <a href="https://www.cs.ox.ac.uk/files/2282/wgp14-wang.pdf">pdf</a></li>
<li>2008, article, &quot;On Feature Orientation and Functional Programming&quot;, <a href="https://pdfs.semanticscholar.org/522e/b6c2ea910ed074a13fe21767c9fa070fb685.pdf">pdf</a></li>
<li><p>2016, article, &quot;Realtime collaborative editor. Algebraic properties of the problem.&quot;, <a href="http://blog.haskell-exists.com/yuras/posts/realtime-collaborative-editor.html">html</a></p>
<ul>
<li>see also Darcs patch theory</li>
</ul></li>
<li>2008, PhD thesis, &quot;An Integrated System to Manage Crosscutting Concerns in Source Code&quot;, <a href="http://wwwtmp.st.ewi.tudelft.nl/arie/phds/Marin.pdf">pdf</a></li>
<li><p>2003, article, &quot;Language-independent aspect-oriented programming&quot;, <a href="http://www.tara.tcd.ie/handle/2262/32627">pdf available</a></p></li>
</ul></li>
</ul></li>
<li><p>Java metaprogramming</p>
<ul>
<li><p>Similar products</p>
<ul>
<li><p>libraries</p>
<ul>
<li><a href="https://github.com/INRIA/spoon">INRIA Spoon</a></li>
<li>The <code>javax.lang.model</code> package of the Java standard library, but it does not model method bodies.</li>
</ul></li>
<li><p>environments</p>
<ul>
<li><a href="http://www.eclipse.org/modeling/emf/">Eclipse Modeling Framework (EMF)</a></li>
<li><a href="https://www.jetbrains.com/mps/">JetBrains MPS (Meta Programming System)</a></li>
<li><a href="http://strategoxt.org/">Stratego/XT</a></li>
<li>TXL</li>
<li><a href="http://www.eclipse.org/Xtext/">Eclipse Xtext</a> and <a href="http://www.eclipse.org/xtend/">Eclipse Xtend</a></li>
</ul></li>
<li><p>programming languages</p>
<ul>
<li>Eclipse Xtend</li>
</ul></li>
<li><p>parser generators</p>
<ul>
<li><a href="https://en.wikipedia.org/wiki/Compiler-compiler">WP:Compiler-compiler</a></li>
<li><a href="https://en.wikipedia.org/wiki/Comparison_of_parser_generators">WP:Comparison of parser generators</a></li>
<li><a href="http://www.antlr.org/">ANTLR (Another Tool for Language Recognition)</a></li>
<li><a href="https://javacc.org/">JavaCC</a></li>
<li>YACC, Bison; with Lex, Flex</li>
</ul></li>
</ul></li>
<li><p>Related concepts</p>
<ul>
<li>Model-driven development</li>
<li>Model-driven architecture</li>
</ul></li>
</ul></li>
</ul>
<h3 id="automatic-program-differentiation"><span class="section_number">13.42</span><span class="section_title">Automatic (program) differentiation</span></h3>
<ul>
<li>What is the relationship between incremental lambda-calculus and automatic differentiation of programs (or of algebraic data types)?</li>
</ul>
<h3 id="extending-functions"><span class="section_number">13.43</span><span class="section_title">Extending functions</span></h3>
<p>Not only classes, but also functions, should be extensible.</p>
<p>&quot;To extend the function <span class="math inline">\( f : A \to B \)</span> to the function <span class="math inline">\( f&#39; : A&#39; \to B&#39; \)</span>&quot; means:</p>
<ul>
<li>For every <span class="math inline">\( x \in A \)</span>, we have <span class="math inline">\( f(x) = f&#39;(x) \)</span>.</li>
<li><span class="math inline">\( A \subseteq A&#39; \)</span>.</li>
<li><span class="math inline">\( B \subseteq B&#39; \)</span>.</li>
</ul>
<p>A consequence: Every occurrence of <span class="math inline">\( f \)</span> can be replaced with <span class="math inline">\( f&#39; \)</span> while preserving the meaning of the containing expression.</p>
<h3 id="is-inheritance-subtyping"><span class="section_number">13.44</span><span class="section_title">Is inheritance subtyping?</span></h3>
<p>The short article [2] basically tells the user to read AbdelGawad's other works.</p>
<ul>
<li>1 [1] 1989, &quot;Inheritance is not subtyping&quot;, <a href="https://www.cs.utexas.edu/users/wcook/papers/InheritanceSubtyping90/CookPOPL90.pdf">pdf</a></li>
<li>2 [2] 2013, &quot;Inheritance is subtyping&quot;, <a href="https://pdfs.semanticscholar.org/569c/9b35375144756761167fd4a2571b1d97f0e8.pdf">pdf</a></li>
<li><a href="https://www.cmi.ac.in/~madhavan/courses/pl2009/lecturenotes/lecture-notes/node28.html">Subtyping vs inheritance</a>
<ul>
<li>Subtyping and inheritance are orthogonal concepts.</li>
</ul></li>
</ul>
<p>A language should provide both nominal and structural subtyping.</p>
<ul>
<li>2008, &quot;Integrating Nominal and Structural Subtyping&quot;, <a href="http://www.cs.cmu.edu/~aldrich/papers/ecoop08.pdf">pdf</a></li>
</ul>
<p>We can define structural subtyping for C structs.</p>
<p>We can define layout types (almost like ASN.1):</p>
<pre class="example"><code>layout {
    at byte 0;
    def var0 : little_endian int32;
    at byte 4;
    def var1 : big_endian int32;
    reserve 8 byte;
    skip 4 byte; -- synonym for reserve
    def var2 : int8;
    def var3 : array of 4 int8;
    align 16;
    def var4 : layout {
        reserve 16 byte;
        def var1 : int8;
        align 32;
    };
}
</code></pre>
<p>We can define intersection, union, concatenation, and composition/nesting of two layout types.</p>
<p>Why don't we just build ASN.1 into the language?</p>
<ul>
<li><p><a href="http://whiley.org/2010/12/13/why-not-use-structural-subtyping/">Why not use Structural Subtyping?</a></p>
<ul>
<li>What is it trying to say?</li>
</ul></li>
</ul>
<h3 id="maximum-polymorphism"><span class="section_number">13.45</span><span class="section_title">Maximum polymorphism?</span></h3>
<ul>
<li>Read this: <a href="https://blog.inf.ed.ac.uk/apl16/archives/178/comment-page-1">Lecture 4: Higher Polymorphism | Advances in Programming Languages</a></li>
<li><p><a href="https://github.com/lampepfl/dotty/issues/1886">Rethink Structural Types · Issue #1886 · lampepfl/dotty</a></p>
<ul>
<li>&quot;However, there is another area where statically-typed languages are often more awkward than dynamically-typed ones: database access.&quot;</li>
<li>Keynote - What's Different In Dotty by Martin Odersky <a href="https://www.youtube.com/watch?v=9lWrt6H6UdE">https://www.youtube.com/watch?v=9lWrt6H6UdE</a></li>
</ul></li>
</ul>
<h3 id="typing-records"><span class="section_number">13.46</span><span class="section_title">Typing records</span></h3>
<p>A record type can be thought as a product type whose components are named.</p>
<p>If each value <code>valN</code> has type <code>typN</code>, then the record <code>{key1=val1; key2=val2; ...;}</code> has type <code>{key1:typ1; key2:typ2; ...;}</code>. For example, the record <code>{name</code>&quot;John&quot;; age=20}= has type <code>{name:String; age:Int;}</code>.</p>
<h3 id="polymorphism-is-code-generation"><span class="section_number">13.47</span><span class="section_title">Polymorphism is code generation</span></h3>
<ul>
<li><p>Consider translating <code>id : a -&gt; a</code> to assembly.</p>
<ul>
<li>If types define memory layout (bit representation), then the compiler must generate an <code>id</code> function for every <code>a</code>.</li>
<li>If the language uses runtime type tagging, then there doesn't have to be more than one=id= functions.</li>
</ul></li>
</ul>
<h3 id="fixed-points-and-recursive-types"><span class="section_number">13.48</span><span class="section_title">Fixed points and recursive types</span></h3>
<p>A thing <span class="math inline">\( x \)</span> is a <em>fixed point</em> of function <span class="math inline">\( f \)</span> iff <span class="math inline">\( f(x) = x \)</span>.</p>
<p>A function may have zero, one, or many fixed points.</p>
<p>A thing <span class="math inline">\( x : A \)</span> is a <em>least fixed point</em> of function <span class="math inline">\( f : A \to A \)</span> iff <span class="math inline">\( x \)</span> is a minimum of the set of the fixed points of <span class="math inline">\( f \)</span>. The words &quot;least&quot; and &quot;minimum&quot; assume an ordering <span class="math inline">\( \le \)</span>. This ordering should be clear from context.</p>
<p>If <span class="math inline">\( f \)</span> has exactly one least fixed point <span class="math inline">\( x \)</span> with respect to ordering <span class="math inline">\( \le \)</span>, then we write <span class="math inline">\( \mu_\le(f) = x \)</span>.</p>
<p>The syntax <span class="math inline">\( \mu a. b \)</span> means <span class="math inline">\( \mu_\le(\lambda a. b) \)</span>. The syntax <span class="math inline">\( \mu a. b \)</span> is analogous to lambda expression syntax <span class="math inline">\( \lambda a. b \)</span>.</p>
<p>What is the ordering used in formulating the least fixed point of a recursive algebraic data type?</p>
<p>todo: equirecursive types and isorecursive types</p>
<h3 id="case-study-commonmark-liquid-and-jekyll-reusable-grammar"><span class="section_number">13.49</span><span class="section_title">A sketch about reusable language-oriented programming: CommonMark, Liquid, and Jekyll, reusable grammar?</span></h3>
<p>I want something like this:</p>
<pre class="example"><code>data CommonMark = ... -- CommonMark AST
data Liquid = ... -- Liquid AST
type Jekyll = CommonMark + Liquid

parse_cm : String -&gt; Parser CommonMark
parse_lq : String -&gt; Parser Liquid
parse_jk : String -&gt; Parser Jekyll
parse_jk = parse_cm + parse_lq
</code></pre>
<ul>
<li><a href="https://stackoverflow.com/questions/953185/composable-grammars">design - Composable Grammars - Stack Overflow</a></li>
<li><a href="https://jeffreykegler.github.io/Ocean-of-Awareness-blog/individual/2015/12/composable.html">Grammar reuse</a></li>
<li><a href="https://github.com/melt-umn/silver">melt-umn/silver: An attribute grammar-based programming language for composable language extensions</a></li>
<li>OMeta, Katahdin</li>
</ul>
<h3 id="some-tentative-plans-create-a-language-that-compiles-to-haskell"><span class="section_number">13.50</span><span class="section_title">Some tentative plans: Create a language that compiles to Haskell?</span></h3>
<ul>
<li><a href="https://github.com/bennofs/haskell-generate">bennofs/haskell-generate: Type-safe library for generating haskell source code</a></li>
</ul>
<h3 id="whole-program-optimization"><span class="section_number">13.51</span><span class="section_title">Whole-program optimization?</span></h3>
<ul>
<li><a href="https://stackoverflow.com/questions/3416980/why-arent-whole-program-optimizations-more-prevalent-now/27757382">https://stackoverflow.com/questions/3416980/why-arent-whole-program-optimizations-more-prevalent-now/27757382</a></li>
</ul>
<h3 id="make-the-programming-language"><span class="section_number">13.52</span><span class="section_title"><span class="todo TODO">TODO</span> &lt;2018-09-15&gt; Make the programming language</span></h3>
<ul>
<li><span class="citation" data-cites="DBLP:conf/popl/CookHC90">[<a href="#ref-DBLP:conf/popl/CookHC90">3</a>]</span></li>
<li><span class="citation" data-cites="cartwright2013inheritance">[<a href="#ref-cartwright2013inheritance">2</a>]</span></li>
</ul>
<h3 id="find-out-how-type-systems-may-guarantee-pointer-safety"><span class="section_number">13.53</span><span class="section_title"><span class="todo TODO">TODO</span> &lt;2018-09-15&gt; Find out how type systems may guarantee pointer safety</span></h3>
<p>Is escape analysis the only way?</p>
<div class="local_table_of_contents">
<ul>
<li><span class="section_number">13.53.1</span><span class="section_title"><a href="#study-sixten-type-system"><span class="todo TODO">TODO</span> &lt;2018-09-15&gt; Study Sixten type system</a></span><span class="word_count">(6w~1m)</span></li>
<li><span class="section_number">13.53.2</span><span class="section_title"><a href="#study-rust-type-system"><span class="todo TODO">TODO</span> &lt;2018-09-15&gt; Study Rust type system</a></span><span class="word_count">(10w~1m)</span></li>
</ul>
</div>
<h4 id="study-sixten-type-system"><span class="section_number">13.53.1</span><span class="section_title"><span class="todo TODO">TODO</span> &lt;2018-09-15&gt; Study Sixten type system</span></h4>
<h4 id="study-rust-type-system"><span class="section_number">13.53.2</span><span class="section_title"><span class="todo TODO">TODO</span> &lt;2018-09-15&gt; Study Rust type system</span></h4>
<p>See <a href="https://doc.rust-lang.org/reference/type-system.html">Rust type system reference</a>.</p>
<h3 id="combine-things-and-let-the-programmer-choose"><span class="section_number">13.54</span><span class="section_title">Combine things and let the programmer choose?</span></h3>
<div class="local_table_of_contents">
<ul>
<li><span class="section_number">13.54.1</span><span class="section_title"><a href="#combine-nominal-subtyping-and-structural-subtyping">Combine nominal subtyping and structural subtyping</a></span><span class="word_count">(6w~1m)</span></li>
</ul>
</div>
<h4 id="combine-nominal-subtyping-and-structural-subtyping"><span class="section_number">13.54.1</span><span class="section_title">Combine nominal subtyping and structural subtyping</span></h4>
<h3 id="effects"><span class="section_number">13.55</span><span class="section_title">Effects?</span></h3>
<ul>
<li>Reddit post &quot;Try/Catch and Async/Await are just a specialized form of Algebraic Effects!&quot; <a href="https://www.reddit.com/r/ProgrammingLanguages/comments/9kzcz6/trycatch_and_asyncawait_are_just_a_specialized/">https://www.reddit.com/r/ProgrammingLanguages/comments/9kzcz6/trycatch_and_asyncawait_are_just_a_specialized/</a>
<ul>
<li>2016 article &quot;Algebraic Effects for Functional Programming&quot; <a href="https://www.microsoft.com/en-us/research/wp-content/uploads/2016/08/algeff-tr-2016-v2.pdf">https://www.microsoft.com/en-us/research/wp-content/uploads/2016/08/algeff-tr-2016-v2.pdf</a>
<ul>
<li>&quot;we show how algebraic effects generalize over common constructs like exception handling, state, iterators and async-await&quot;</li>
</ul></li>
<li>&lt;2018-10-08&gt; not yet performant</li>
</ul></li>
</ul>
<h3 id="abdullah-research-roadmap"><span class="section_number">13.56</span><span class="section_title">Abdullah research roadmap</span></h3>
<ul>
<li><p>Abbreviations:</p>
<ul>
<li>CCC: Cartesian closed category (<a href="https://en.wikipedia.org/wiki/Cartesian_closed_category">Wikipedia</a>)</li>
</ul></li>
<li><p>Abdullah wants to make a monad-aware programming language.</p>
<ul>
<li><p>Categories enable us to organize a hierarchy of effects?</p>
<ul>
<li>effectful over category <span class="math inline">\( C \)</span> = extends category <span class="math inline">\( C \)</span>?</li>
</ul></li>
</ul></li>
<li><p>The plan is to research two related things in parallel:</p>
<ul>
<li><p>using algebraic subtyping to mix parametric subtyping and inheritance subtyping</p>
<ul>
<li><p><a href="https://www.cl.cam.ac.uk/~sd601/thesis.pdf">Stephen Dolan's Ph.D. thesis &quot;Algebraic subtyping&quot;</a></p>
<ul>
<li>&quot;Type systems which support subtyping care about the direction of data flow.&quot;</li>
<li>&quot;Find the <em>simplest</em> algebra of types, and <em>some</em> syntax for them&quot;</li>
</ul></li>
<li><a href="https://en.wikipedia.org/wiki/Subtyping">Wikipedia: Subtyping</a></li>
<li><p>Scala already tries to join parametric subtyping and inheritance subtyping. What is the problem with Scala?</p></li>
</ul></li>
</ul></li>
<li>Related: <a href="%7B%%20link%20functional_programming.md %}">functional programming research</a>.</li>
<li><p>Who is Abdullah?</p>
<ul>
<li>Abdullah a.k.a. Kim-Ee Yeoh is <a href="https://www.atamo.com/">atamo.com</a>.</li>
</ul></li>
</ul>
<div class="local_table_of_contents">
<ul>
<li><span class="section_number">13.56.1</span><span class="section_title"><a href="#research-questions">Research questions</a></span><span class="word_count">(740w~4m)</span></li>
<li><span class="section_number">13.56.2</span><span class="section_title"><a href="#result-of-meeting-on-2018-04-21">Result of meeting on 2018-04-21</a></span><span class="word_count">(54w~1m)</span></li>
<li><span class="section_number">13.56.3</span><span class="section_title"><a href="#agenda-for-2018-04-21">Agenda for 2018-04-21</a></span><span class="word_count">(439w~3m)</span></li>
<li><span class="section_number">13.56.4</span><span class="section_title"><a href="#results">Results</a></span><span class="word_count">(80w~1m)</span></li>
<li><span class="section_number">13.56.5</span><span class="section_title"><a href="#reading-triage">Reading triage</a></span><span class="word_count">(95w~1m)</span></li>
<li><span class="section_number">13.56.6</span><span class="section_title"><a href="#undigested-information-fragments">Undigested information fragments</a></span><span class="word_count">(124w~1m)</span></li>
</ul>
</div>
<h4 id="research-questions"><span class="section_number">13.56.1</span><span class="section_title">Research questions</span></h4>
<ol>
<li><p>Possible questions</p>
<ul>
<li>What is the result of CPS-transforming a recursive function?</li>
</ul>
<div class="sourceCode" id="cb19"><pre class="sourceCode haskell"><code class="sourceCode haskell"><a class="sourceLine" id="cb19-1" title="1">fac <span class="dv">0</span> <span class="fu">=</span> <span class="dv">1</span></a>
<a class="sourceLine" id="cb19-2" title="2">fac n <span class="fu">=</span> n <span class="fu">*</span> fac (n <span class="fu">-</span> <span class="dv">1</span>)</a>
<a class="sourceLine" id="cb19-3" title="3"></a>
<a class="sourceLine" id="cb19-4" title="4">fac <span class="dv">0</span> k <span class="fu">=</span> k <span class="dv">1</span></a>
<a class="sourceLine" id="cb19-5" title="5">fac n k <span class="fu">=</span> fac (n <span class="fu">-</span> <span class="dv">1</span>) <span class="fu">$</span> \ x <span class="ot">-&gt;</span> k (n <span class="fu">*</span> x)</a></code></pre></div>
<p>Conjecture: Every recursive function can be transformed to a tail-recursive function with a helper function <span class="math inline">\( f(x) = f(g(x)) \)</span>.</p>
<div class="sourceCode" id="cb20"><pre class="sourceCode haskell"><code class="sourceCode haskell"><a class="sourceLine" id="cb20-1" title="1">fac <span class="dv">0</span> <span class="fu">=</span> <span class="dv">1</span></a>
<a class="sourceLine" id="cb20-2" title="2">fac n <span class="fu">=</span> n <span class="fu">*</span> fac (n <span class="fu">-</span> <span class="dv">1</span>)</a>
<a class="sourceLine" id="cb20-3" title="3"></a>
<a class="sourceLine" id="cb20-4" title="4">fach (a, <span class="dv">0</span>) <span class="fu">=</span> (a, <span class="dv">0</span>)</a>
<a class="sourceLine" id="cb20-5" title="5">fach (a, n) <span class="fu">=</span> fach (a <span class="fu">*</span> n, n <span class="fu">-</span> <span class="dv">1</span>)</a>
<a class="sourceLine" id="cb20-6" title="6"></a>
<a class="sourceLine" id="cb20-7" title="7">fac n <span class="fu">=</span> fach (<span class="dv">1</span>, n)</a></code></pre></div>
<p>How do we enable the caller to step the recursion?</p>
<div class="sourceCode" id="cb21"><pre class="sourceCode haskell"><code class="sourceCode haskell"><a class="sourceLine" id="cb21-1" title="1">fac n <span class="fu">=</span> \ k <span class="ot">-&gt;</span> k (\ x <span class="ot">-&gt;</span> x <span class="fu">*</span> fac (n <span class="fu">-</span> <span class="dv">1</span>) k) n</a>
<a class="sourceLine" id="cb21-2" title="2">fac n (\ f x <span class="ot">-&gt;</span> f x)</a>
<a class="sourceLine" id="cb21-3" title="3"></a>
<a class="sourceLine" id="cb21-4" title="4">tri <span class="dv">0</span> <span class="fu">=</span> <span class="dv">0</span></a>
<a class="sourceLine" id="cb21-5" title="5">tri n <span class="fu">=</span> n <span class="fu">+</span> tri (n <span class="fu">-</span> <span class="dv">1</span>)</a>
<a class="sourceLine" id="cb21-6" title="6"></a>
<a class="sourceLine" id="cb21-7" title="7"><span class="ot">tri ::</span> <span class="dt">Nat</span> <span class="ot">-&gt;</span> ((x <span class="ot">-&gt;</span> c <span class="ot">-&gt;</span> <span class="dt">Nat</span>) <span class="ot">-&gt;</span> <span class="dt">Nat</span> <span class="ot">-&gt;</span> <span class="dt">Nat</span>)</a>
<a class="sourceLine" id="cb21-8" title="8">tri <span class="dv">0</span> <span class="fu">=</span> \ k <span class="ot">-&gt;</span> <span class="dv">0</span></a>
<a class="sourceLine" id="cb21-9" title="9">tri n <span class="fu">=</span> \ k <span class="ot">-&gt;</span> k (\ x c <span class="ot">-&gt;</span> x <span class="fu">+</span> tri (n <span class="fu">-</span> <span class="dv">1</span>) c) n</a>
<a class="sourceLine" id="cb21-10" title="10"></a>
<a class="sourceLine" id="cb21-11" title="11">inc x <span class="fu">=</span> inc (x <span class="fu">+</span> <span class="dv">1</span>)</a>
<a class="sourceLine" id="cb21-12" title="12"></a>
<a class="sourceLine" id="cb21-13" title="13">inc x <span class="fu">=</span> \ k <span class="ot">-&gt;</span> k (\ ) (x <span class="fu">+</span> <span class="dv">1</span>)</a></code></pre></div>
<ul>
<li><a href="https://github.com/dorchard/unfix">github: dorchard/unfix: Takes a recursive function and syntactically unties the recursive knot</a></li>
</ul></li>
<li><p>What is the relationship between self-reference, recursion, and fixed points?</p>
<p>We say that <span class="math inline">\( x \)</span> is a <em>fixed point</em> of <span class="math inline">\( f \)</span> iff <span class="math inline">\( f(x) = x \)</span>.</p>
<p><a href="https://mathoverflow.net/questions/126513/categories-of-recursive-functions">MO 126513: categories of recursive functions</a></p>
<ul>
<li><p>What is the essence of self-recursion?</p>
<ul>
<li><p><code>fix</code> does not exist in a strict language.</p>
<ul>
<li><p>&quot;The Z combinator will work in strict languages […]&quot; <a href="https://en.wikipedia.org/wiki/Fixed-point_combinator#Strict_fixed_point_combinator">WP: Fixed-point combinator</a></p>
<ul>
<li>The Z combinator is obtained by eta-expanding the Y combinator.</li>
</ul></li>
</ul></li>
</ul></li>
</ul></li>
<li><p>What is the formal definition of strict, non-strict, eager, and lazy?</p>
<p>The difference is explained by luqui on <a href="https://stackoverflow.com/questions/7140978/haskell-how-does-non-strict-and-lazy-differ">SO 7140978</a>. - Strict and non-strict are about meaning (denotational semantics?). Eager and lazy are about operation (operational semantics?). - Strictness is a domain-theoretic concept. Laziness is a computer implementation detail. - This uses Haskell to introduce domain theory: <a href="https://en.wikibooks.org/wiki/Haskell/Denotational_semantics">Wikibooks: Haskell: Denotational semantics</a>. - In Haskell, the least fixed point operator can be defined as <code>fix f = f (fix f)</code>. - Why is bottom the <em>least</em> fixed point of <code>id</code>? Every <span class="math inline">\( x \)</span> is a fixed point of an identity function <span class="math inline">\( x \mapsto x \)</span>, isn't it? - What is the ordering? - &quot;Semantic approximation order&quot; - <a href="https://wiki.haskell.org/Lazy_vs._non-strict">Haskell wiki</a> is wrong? It conflates non-strictness with normal-order reduction strategy? - <a href="http://pages.cs.wisc.edu/~horwitz/CS704-NOTES/6.DENOTATIONAL-SEMANTICS.html#simple">A simple example of denotational semantics using a language of binary numerals</a> - <a href="https://en.wikipedia.org/wiki/Binary_combinatory_logic">WP: Binary combinatory logic</a>. Its semantics is SK calculus (SKI calculus without the redundant I combinator) which is equivalent to lambda calculus. - we can execute non-strict functions eagerly, for example by strictness analysis or speculative execution.</p>
<p>People are often sloppy with these terms. Redditors. Experts. Researchers. Academics. It is true that Haskell is non-strict. It is true that Haskell (as implemented by GHC) is lazy.</p>
<p>We can infer these formal definitions: - A function <span class="math inline">\( f \)</span> is <em>strict</em> iff <span class="math inline">\( f(\bot) = \bot \)</span>. - &quot;a strict function must map bottom to bottom&quot; (from the SO answer)</p></li>
<li><p>How do we represent general recursion by a monad? How do we add general recursion to TFP? How do we do it with monads?</p>
<p>Here we try to salvage [McBride2015].</p>
<p>TODO write the problem: how McBride's General doesn't compose</p>
<ul>
<li>Is McBride's General really a monad?</li>
<li>Is Abdullah's M really a monad?</li>
<li>Did Abdullah mistranslate McBride's General?</li>
<li>Is there a way to transform begin-step-end to McBride's General or Abdullah's M?</li>
<li>Start with axioms, then infer the data types.</li>
</ul>
<p>These are the axioms that we want M to satisfy. - <code>rec f . rec g = rec (ext f . g)</code> - <code>rec f . rec g = rec (f &lt;=&lt; g)</code> - <code>rec pure = id</code></p>
<p>How do we translate a recursive function <code>f : a -&gt; b</code> to an explicitly recursive function <code>f : a -&gt; m b</code>?</p>
<div class="sourceCode" id="cb22"><pre class="sourceCode haskell"><code class="sourceCode haskell"><a class="sourceLine" id="cb22-1" title="1"><span class="co">-- Abdullah&#39;s M, obtained by translating</span></a>
<a class="sourceLine" id="cb22-2" title="2"><span class="co">-- the General in [McBride2015] from Agda to Haskell</span></a>
<a class="sourceLine" id="cb22-3" title="3"><span class="kw">data</span> <span class="dt">M</span> s t a</a>
<a class="sourceLine" id="cb22-4" title="4">    <span class="fu">=</span> <span class="dt">Em</span> a</a>
<a class="sourceLine" id="cb22-5" title="5">    <span class="fu">|</span> <span class="dt">Ap</span> (t <span class="ot">-&gt;</span> <span class="dt">M</span> s t a) s</a>
<a class="sourceLine" id="cb22-6" title="6"></a>
<a class="sourceLine" id="cb22-7" title="7"><span class="ot">cata ::</span> (a <span class="ot">-&gt;</span> r) <span class="ot">-&gt;</span> ((t <span class="ot">-&gt;</span> r) <span class="ot">-&gt;</span> s <span class="ot">-&gt;</span> r) <span class="ot">-&gt;</span> r</a>
<a class="sourceLine" id="cb22-8" title="8">cata ar xrxr m <span class="fu">=</span> fix <span class="fu">$</span> \ self m <span class="ot">-&gt;</span> <span class="kw">case</span> m <span class="kw">of</span></a>
<a class="sourceLine" id="cb22-9" title="9">    <span class="dt">Em</span> a <span class="ot">-&gt;</span> ar a</a>
<a class="sourceLine" id="cb22-10" title="10">    <span class="dt">Ap</span> xma x <span class="ot">-&gt;</span> xrxr (self <span class="fu">.</span> xma) x</a></code></pre></div>
<ul>
<li><p>Why do we want to add general recursion to TFP?</p>
<ul>
<li>Adding general recursion to a TFPL makes programming in that language more practical.</li>
</ul></li>
<li><p>There are several attempts to add general recursion to TFP.</p>
<ul>
<li>[Nordstrom1988] (terminating general recursion)</li>
<li>[Bove2001] (simple general recursion in type theory)</li>
<li>[Capretta2005] (general recursion via coinductive types)</li>
<li>[McBride2015] (Turing-completeness totally free)</li>
<li>me on 2018-04-07? &quot;Approximating general recursion in TFP&quot;?</li>
<li><a href="http://adam.chlipala.net/cpdt/html/GeneralRec.html">A non-termination monad inspired by domain theory</a>, part of the documentation of Coq's GeneralRec library</li>
</ul></li>
<li><p>How are monads useful in FP?</p>
<ul>
<li>Monads allow embedding a strict language in a lazy language [Wadler1996].</li>
<li>&quot;Monads may be regarded as a mild generalization of continuation-passing style.&quot; [Wadler1996]</li>
</ul></li>
<li><a href="http://homepages.inf.ed.ac.uk/wadler/topics/monads.html">Philip Wadler's research on monads</a></li>
<li><p>Reading triage:</p>
<ul>
<li><p>Moggi 1991: Notions of computation and monads</p>
<ul>
<li><p>Programs should form a category.</p>
<ul>
<li>Every type becomes an object in the category.</li>
<li>Every (one-parameter) function becomes a morphism in the category.</li>
</ul></li>
<li>&quot;Kleisli triples are just an alternative description for monads. Although the former are easy to justify from a computational perspective, the latter are more widely used in the literature on category theory and have the advantage of being defined only in terms of functors and natural transformations, which make them more suitable for abstract manipulation.&quot;</li>
<li>Moggi's most cited paper, according to Google Scholar</li>
<li><p><a href="https://www.disi.unige.it/person/MoggiE/">Moggi's home page</a></p>
<ul>
<li><p><a href="https://www.disi.unige.it/person/MoggiE/publications.html">Moggi's list of his publications</a></p>
<ul>
<li>recent paper: 2010 &quot;Monad Transformers as Monoid Transformers&quot;. Theoretical Computer Science, TCS vol.411</li>
</ul></li>
</ul></li>
</ul></li>
<li><a href="https://www.irif.fr/~mellies/mpri/mpri-ens/articles/moggi-computational-lambda-calculus-and-monads.pdf">Moggi 1989: Computational lambda-calculus and monads</a></li>
<li>2017 Uustalu <a href="https://www.semanticscholar.org/paper/Partiality-and-Container-Monads-Uustalu-Veltri/a45cabd8696232a985368e5b7f138fd21a7bff9f">Partiality and container monads</a></li>
<li>[Sheard2003] (a pure language with default strict evaluation order and explicit laziness)</li>
<li>[Wadler1998] (how to add laziness to a strict language without even being odd)</li>
<li>[Wadler1992] &quot;explores the use of monads to structure functional programs&quot;</li>
<li><a href="https://srfi.schemers.org/srfi-40/mail-archive/msg00059.html">Monad for lazy evaluation</a>, Scheme, SRFI-40 mail archive, Andre van Tonder</li>
<li><a href="http://math.andrej.com/2008/11/17/not-all-computational-effects-are-monads/">Not all computational effects are monads</a></li>
<li><p>2018 Tomas Petricek <a href="https://arxiv.org/pdf/1803.10195.pdf">What we talk about when we talk about monads</a></p></li>
</ul></li>
</ul></li>
</ol>
<h4 id="result-of-meeting-on-2018-04-21"><span class="section_number">13.56.2</span><span class="section_title">Result of meeting on 2018-04-21</span></h4>
<ul>
<li><a href="https://mvanier.livejournal.com/2897.html">https://mvanier.livejournal.com/2897.html</a></li>
<li>Applicative Functor is a homomorphism over CCC (Cartesian closed category)?</li>
<li><p>We can use a category as the denotation of a functional programming language.</p>
<ul>
<li><p>An example of a category:</p>
<ul>
<li>One object: Unit</li>
<li>One morphism:</li>
<li><p>Two functions:</p>
<ul>
<li><code>f0 x = Unit</code></li>
<li><code>f1 x = x</code></li>
</ul></li>
</ul></li>
</ul></li>
<li><p>What is a CCC? It is a category that satisfies the axioms in <a href="https://en.wikipedia.org/wiki/Cartesian_closed_category">WP: CCC</a>.</p></li>
</ul>
<h4 id="agenda-for-2018-04-21"><span class="section_number">13.56.3</span><span class="section_title">Agenda for 2018-04-21</span></h4>
<ol>
<li><p>Totality is not about termination</p>
<p>Consider this example. This recursion is not structural. However, it terminates under normal-order beta-reduction strategy.</p>
<div class="sourceCode" id="cb23"><pre class="sourceCode haskell"><code class="sourceCode haskell"><a class="sourceLine" id="cb23-1" title="1"><span class="co">-- Constant function.</span></a>
<a class="sourceLine" id="cb23-2" title="2">f <span class="fu">:</span> <span class="dt">Nat</span> <span class="ot">-&gt;</span> <span class="dt">Nat</span></a>
<a class="sourceLine" id="cb23-3" title="3">f _ <span class="fu">=</span> <span class="dv">0</span></a>
<a class="sourceLine" id="cb23-4" title="4"></a>
<a class="sourceLine" id="cb23-5" title="5">main <span class="fu">:</span> <span class="dt">Nat</span></a>
<a class="sourceLine" id="cb23-6" title="6">main <span class="fu">=</span> f main</a></code></pre></div>
<p>Is <code>main</code> a total function? Does that question make sense? Note that <code>main</code> is not a mathematical function. The denotation of <code>main</code> might be a mathematical function.</p>
<p>Does totality depend on the reduction strategy? Does that question make sense?</p>
<p>I conjecture that every general recursive function can be transformed into its begin-step-end form. See &quot;Approximating general recursion in TFP&quot;.</p></li>
<li><p>I think we can't add a Lazy Monad instance to Strict Haskell without changing the language semantics</p>
<p>Here I try to (and fail to) add a Lazy monad to an imaginary language Strict Haskell (SH).</p>
<p>Imagine SH, a language with Haskell syntax but with Scheme's applicative-order beta reduction (AOBR) instead of Haskell's normal-order beta reduction. AOBR means: to evaluate <code>f x</code>, first evaluate <code>x</code>, and then evaluate <code>f x</code>. SH is strict, and Haskell is lazy.</p>
<p>An inhabitant of the type <code>Lazy a</code> can be thought as a thunk that will return an inhabitant of <code>a</code>.</p>
<p>To construct an expression of type <code>Lazy a</code>, combine these: - The expression <code>bottom</code> constructs a thunk will fail. - The expression <code>pure x</code> constructs a thunk that will return <code>x</code>. Note that <code>x</code> is evaluated before the thunk is constructed. - The expression <code>delay f</code> constructs a thunk that will return the result of evaluating <code>f Unit</code>. The type of <code>f</code> is <code>Unit -&gt; a</code>. Note that <code>f unit</code> is not evaluated when the thunk is constructed, unlike <code>pure</code>. - The expression <code>eval t</code> evaluates or forces the thunk <code>t</code>. The type of <code>eval</code> is <code>Lazy a -&gt; Maybe a</code>.</p>
<p>We want to embed laziness into SH. Formally, this means that we want this equation to hold</p>
<pre class="example"><code>eval (bottom &gt;&gt;= \ x -&gt; pure c) = Just c
</code></pre>
<p>but this is impossible in SH because the <code>&gt;&gt;=</code> is strict.</p>
<p>However, if the type of <code>&gt;&gt;=</code> were this</p>
<pre class="example"><code>(Monad m) =&gt; m (Lazy a) -&gt; (Lazy a -&gt; m (Lazy b)) -&gt; m (Lazy b)
</code></pre>
<p>then it would be possible to embed laziness into SH.</p>
<p>Thus <code>Lazy</code> cannot be a <code>Monad</code> instance in SH.</p>
<p>Monads allow embedding a strict language in a lazy language [Wadler1996]. We are trying the reverse (embedding a lazy language in a strict language). We have just tried the most naive way. It failed.</p></li>
<li><p>Does TFP really sacrifice Turing-completeness?</p>
<ul>
<li><p>What is a rigorous definition of Turing-completeness?</p>
<ul>
<li><p><a href="https://en.wikipedia.org/wiki/Turing_completeness">Wikipedia</a>: &quot;a system of data-manipulation rules (such as a computer's instruction set, a programming language, or a cellular automaton) is said to be Turing complete or computationally universal if it can be used to simulate any Turing machine&quot;</p>
<ul>
<li>What does &quot;simulate&quot; mean?</li>
</ul></li>
<li><p>What is the relationship among total Turing machine, partial Turing machine, total function, and partial function? See <a href="https://en.wikipedia.org/wiki/Machine_that_always_halts">Wikipedia: Machine that always halts</a>.</p></li>
</ul></li>
<li><p>Why do you ask this?</p>
<ul>
<li>We've been thinking that totality precludes Turing-completeness, but Conor McBride disagrees in [McBride2015].</li>
</ul></li>
</ul></li>
</ol>
<h4 id="results"><span class="section_number">13.56.4</span><span class="section_title">Results</span></h4>
<ol>
<li><p>Is continuation the mother of all monads?</p>
<p>Abdullah wants to prove that continuation is the mother of all monads.</p>
<p>I think I have a partial proof of that for all Haskell-98 type endofunctions.</p>
<p>The folder <a href="https://github.com/Lambda-Jakarta/research/tree/master/abdullah-conjecture">abdullah-conjecture</a> contains a proposed partial proof of the Abdullah conjecture for all Haskell 98 type endofunctions. The proof can be checked by the Lean theorem prover version 3. See also the <a href="https://leanprover.github.io/">Lean prover home page</a>. To edit Lean source files, use Visual Studio Code and its Lean plugin.</p></li>
</ol>
<h4 id="reading-triage"><span class="section_number">13.56.5</span><span class="section_title">Reading triage</span></h4>
<p><a href="https://pdfs.semanticscholar.org/b60b/1c2e49ec6f574f220f162c8fdc81b2831830.pdf">1995, D. A. Turner, Elementary Strong Functional Programming</a></p>
<p><a href="https://nms.kcl.ac.uk/maribel.fernandez/papers/TCS10.pdf">Godel's System T revisited</a></p>
<p><a href="http://semantic-domain.blogspot.co.id/2012/12/total-functional-programming-in-partial.html">Total Functional Programming in a Partial Impure Language</a></p>
<p><a href="http://www.cse.chalmers.se/~coquand/bengt.pdf">Type theory and functional programming</a>: Can we see type theory as a functional programming language?</p>
<p><a href="http://www.cse.chalmers.se/~coquand/">Thierry Coquand page at Chalmers</a></p>
<p><a href="https://mathoverflow.net/questions/126513/categories-of-recursive-functions">MO 126513: Categories of recursive functions</a></p>
<p><a href="https://www.researchgate.net/publication/234808984_Denotational_semantics_and_rewrite_rules_for_FP">Denotational semantics and rewrite rules for FP</a>: &quot;We consider languages whose operational semantics is given by a set of rewrite rules.&quot;</p>
<p><a href="http://www.allisons.org/ll/Semantics/">allisons.org: Denotational Semantics</a></p>
<p>The Y-combinator is <span class="math inline">\( \lambda f. (\lambda x. f ~ (x ~ x)) ~ (\lambda x. f ~ (x ~ x)) \)</span>. <a href="https://en.wikipedia.org/wiki/Fixed-point_combinator">WP: Fixed-point combinator</a></p>
<p><a href="http://siek.blogspot.co.id/2016/12/simple-denotational-semantics-for.html">Simple Denotational Semantics for the Lambda Calculus, Pω Revisited?</a></p>
<h4 id="undigested-information-fragments"><span class="section_number">13.56.6</span><span class="section_title">Undigested information fragments</span></h4>
<ul>
<li>&quot;Partiality is an effect&quot; <a href="https://www.cs.ox.ac.uk/ralf.hinze/WG2.8/22/slides/tarmo.pdf">https://www.cs.ox.ac.uk/ralf.hinze/WG2.8/22/slides/tarmo.pdf</a></li>
<li>&quot;Partiality Monad Transformer&quot; <a href="https://stackoverflow.com/questions/15192897/partiality-monad-transformer">https://stackoverflow.com/questions/15192897/partiality-monad-transformer</a></li>
<li><a href="http://www.cse.chalmers.se/~nad/publications/danielsson-semantics-partiality-monad.pdf">http://www.cse.chalmers.se/~nad/publications/danielsson-semantics-partiality-monad.pdf</a></li>
<li><p>categorical programming language</p>
<ul>
<li><a href="http://web.sfc.keio.ac.jp/~hagino/thesis.pdf">http://web.sfc.keio.ac.jp/~hagino/thesis.pdf</a></li>
<li><a href="https://mathoverflow.net/questions/3721/programming-languages-based-on-category-theory">https://mathoverflow.net/questions/3721/programming-languages-based-on-category-theory</a></li>
<li><a href="https://softwareengineering.stackexchange.com/questions/216635/category-theory-based-language">https://softwareengineering.stackexchange.com/questions/216635/category-theory-based-language</a></li>
</ul></li>
<li>&quot;Kleisli triple over a category&quot;</li>
<li>&quot;Category formed by the Kleisli triples over a category&quot;</li>
<li><p>Moggi 1991:</p>
<ul>
<li>&quot;Kleisli triples are just an alternative description for monads. Although the former are easy to justify from a computational perspective, the latter are more widely used in the literature on category theory and have the advantage of being defined only in terms of functors and natural transformations, which make them more suitable for abstract manipulation.&quot;</li>
</ul></li>
<li>Where does monad come from? Who invented it? Why was it invented?</li>
<li>What is the relationship among monad, natural transformation, Kleisli category of a monad, Eilenberg-Moore what, adjunction?</li>
<li>Has some semantics link <a href="http://math.andrej.com/2016/08/06/hask-is-not-a-category/comment-page-1/">http://math.andrej.com/2016/08/06/hask-is-not-a-category/comment-page-1/</a></li>
<li><a href="ftp://nozdr.ru/biblio/kolxo3/Cs/CsLn/Mathematics%20of%20program%20construction..%2010%20conf.,%20MPC%202010%20(LNCS6120,%20Springer,%202010)(ISBN%203642133207)(O)(435s)_CsLn_.pdf#page=109">2010, &quot;Subtyping, Declaratively: An Exercise in Mixed Induction and Coinduction&quot;, Nils Anders Danielsson and Thorsten Altenkirch</a></li>
</ul>
<h3 id="language-design"><span class="section_number">13.57</span><span class="section_title">Language design</span></h3>
<ul>
<li><a href="https://github.com/mjambon/ocaml-wishlist">https://github.com/mjambon/ocaml-wishlist</a></li>
</ul>
<h3 id="mlocaml-records-vs-modules-why-do-we-have-modules-if-records-suffice-an-ocaml-functor-would-then-simply-be-a-function-from-records-to-records."><span class="section_number">13.58</span><span class="section_title">ML/OCaml records vs modules: Why do we have modules if records suffice? An Ocaml &quot;functor&quot; would then simply be a function from records to records.</span></h3>
<h3 id="interoperability-between-programming-languages"><span class="section_number">13.59</span><span class="section_title">Interoperability between programming languages</span></h3>
<ul>
<li>&lt;2018-10-04&gt; <a href="https://www.thestrangeloop.com/2018/all-the-languages-together.html">https://www.thestrangeloop.com/2018/all-the-languages-together.html</a>
<ul>
<li>&quot;Unfortunately, most current languages and toolchains were designed with language interoperability as an afterthought […]&quot;</li>
<li>&quot;This talk is about how to change the status quo to make it easier to build multi-language software.&quot;</li>
</ul></li>
</ul>
<h3 id="designing-configuration-languages"><span class="section_number">13.60</span><span class="section_title">Designing configuration languages</span></h3>
<div class="local_table_of_contents">
<ul>
<li><span class="section_number">13.60.1</span><span class="section_title"><a href="#what-is-a-configuration-language">What is a configuration language?</a></span><span class="word_count">(11w~1m)</span></li>
<li><span class="section_number">13.60.2</span><span class="section_title"><a href="#what-is-the-best-configuration-language">What is the best configuration language?</a></span><span class="word_count">(60w~1m)</span></li>
<li><span class="section_number">13.60.3</span><span class="section_title"><a href="#some-rants">Some rants</a></span><span class="word_count">(63w~1m)</span></li>
</ul>
</div>
<h4 id="what-is-a-configuration-language"><span class="section_number">13.60.1</span><span class="section_title">What is a configuration language?</span></h4>
<p>Configuration language is programming language minus Turing-completeness.</p>
<h4 id="what-is-the-best-configuration-language"><span class="section_number">13.60.2</span><span class="section_title">What is the best configuration language?</span></h4>
<p>2018-08-31: <a href="https://github.com/dhall-lang/dhall-lang">Dhall</a> is the pinnacle of configuration languages, in my opinion, as far as I know.</p>
<p>Can a configuration language get any better than Dhall?</p>
<p>How far can we push configuration languages without Turing-completing it?</p>
<p>Dhall isn't the only Turing-incomplete language. There are also Coq, Lean, Agda, and others. Can we use these as configuration languages? Should we?</p>
<h4 id="some-rants"><span class="section_number">13.60.3</span><span class="section_title">Some rants</span></h4>
<p>Write your configuration in Dhall. You minimize duplication. It generates YAML/JSON.</p>
<p>Why stop there? Replace all your YAML, JSON, XML, INI, PROPERTIES, configurations with Dhall.</p>
<p>2018-08-31: We're considering HashiCorp Terraform. I think they should use Dhall, or at least learn from Dhall, instead of creating their own <a href="https://www.terraform.io/docs/configuration/syntax.html">HCL (HashiCorp Configuration Language)</a>. We have a &quot;Terraform Workaround Engineer&quot; here at work.</p>
<p>Someone has done that: <a href="https://github.com/blast-hardcheese/dhall-terraform">dhall-terraform</a>.</p>
<h3 id="designing-markup-languages"><span class="section_number">13.61</span><span class="section_title">Designing markup languages</span></h3>
<p>A markup language adds some semantics to text.</p>
<ul>
<li><p>Finding the best document typesetting/processing system</p>
<ul>
<li><p>What are some markup languages?</p>
<ul>
<li><a href="http://www.nongnu.org/skribilo/">http://www.nongnu.org/skribilo/</a></li>
<li>markdown</li>
<li>reST (restructured text)</li>
<li>TeX, LaTeX</li>
<li>Unix roff, troff, nroff, man, GNU groff</li>
<li>GNU info</li>
</ul></li>
</ul></li>
<li><p>Finding a lightweight semantic markup language with fixed ontology</p>
<ul>
<li><a href="https://en.wikipedia.org/wiki/Lightweight_markup_language">WP:Lightweight markup language</a></li>
<li><p>Which markup language?</p>
<ul>
<li>reST</li>
<li><a href="https://en.wikipedia.org/wiki/Textile_(markup_language)">Textile</a>. GitHub Pages stopped supporting this.</li>
<li>S-expression</li>
<li>not Markdown?</li>
<li><a href="https://tiddlywiki.com/static/WikiText.html">https://tiddlywiki.com/static/WikiText.html</a></li>
<li><a href="https://hackage.haskell.org/package/mmark">https://hackage.haskell.org/package/mmark</a></li>
<li><p><a href="https://orgmode.org/">Org mode for Emacs – Your Life in Plain Text</a></p>
<ul>
<li><a href="https://medium.com/@jackbaty/using-markdown-instead-of-org-mode-a78a1805c0ba">Using Markdown instead of Org Mode – Jack Baty – Medium</a></li>
</ul></li>
</ul></li>
<li><p>Which tool?</p>
<ul>
<li>pandoc</li>
<li>hakyll</li>
</ul></li>
<li><p>Which editor?</p>
<ul>
<li>Vim</li>
<li>Emacs</li>
<li>Visual Studio Code</li>
<li><p>Too experimental</p>
<ul>
<li><a href="https://clearly.pl/tutorial/">clearly.pl</a> reminds me of TiddlyWiki.</li>
</ul></li>
</ul></li>
</ul></li>
</ul>
<h3 id="measuring-programming-language-quality-by-how-easy-is-it-to-do-the-right-thing"><span class="section_number">13.62</span><span class="section_title">Measuring programming language quality by how easy is it to do the right thing</span></h3>
<p>What is the right thing?</p>
<div class="local_table_of_contents">
<ul>
<li><span class="section_number">13.62.1</span><span class="section_title"><a href="#by-probability-of-error-of-random-programs">By probability of error of random programs?</a></span><span class="word_count">(31w~1m)</span></li>
</ul>
</div>
<h4 id="by-probability-of-error-of-random-programs"><span class="section_number">13.62.1</span><span class="section_title">By probability of error of random programs?</span></h4>
<p>How do we measure the probability that a program, uniformly randomly taken from the set of all legal programs in language L, contains an error?</p>
<h3 id="class-based-programming"><span class="section_number">13.63</span><span class="section_title">Class-based programming</span></h3>
<ul>
<li><p>What is a class?</p>
<ul>
<li><p>What is a class?</p>
<ul>
<li>A class is a blueprint (a template).</li>
<li>A class is a way of organizing your program.</li>
</ul></li>
<li><p>What does a class have?</p>
<ul>
<li>A class has name, fields, and methods.</li>
</ul></li>
<li><p>What does a class do?</p>
<ul>
<li>A class groups data and code that needs that data.</li>
</ul></li>
</ul></li>
<li>Every object belongs to a class.</li>
<li><p>In class-based programming:</p>
<ul>
<li>Objects don't have methods.</li>
<li>Classes have instance methods.</li>
<li>Each instance method can be called with an instance as a hidden argument.</li>
</ul></li>
<li><p>From procedural point of view, these two are the same:</p></li>
</ul>
<pre class="example"><code>// Java

object.method(arg0, arg1, ...)

// C

method(object, arg0, arg1, ...)
</code></pre>
<ul>
<li>The dot is just a syntax for passing an implicit first argument.</li>
<li>The dot operator associates to the left:</li>
</ul>
<pre class="example"><code>a.b().c().d() = ((a.b()).c()).d()
</code></pre>
<h3 id="benefits-and-drawbacks-of-static-type-checking"><span class="section_number">13.64</span><span class="section_title">Benefits and drawbacks of static type checking</span></h3>
<p>The benefits of types:</p>
<ul>
<li>Types prevent stupid mistakes.</li>
<li>Types can be used to improve program efficiency.</li>
<li>Types are documentation for both human and machine. Types communicate intention to both human and machine.</li>
</ul>
<p>The drawbacks of types:</p>
<ul>
<li>Some safe programs don't typecheck.</li>
<li>Some programs become longer.
<ul>
<li>Haskell's type system complicates the AST decoration problem. In TypeScript, the AST decoration problem is trivial; you just add a field at runtime.</li>
</ul></li>
</ul>
<div class="local_table_of_contents">
<ul>
<li><span class="section_number">13.64.1</span><span class="section_title"><a href="#arguments-for-static-type-checking">Arguments for static type checking?</a></span><span class="word_count">(372w~2m)</span></li>
</ul>
</div>
<h4 id="arguments-for-static-type-checking"><span class="section_number">13.64.1</span><span class="section_title">Arguments for static type checking?</span></h4>
<ol>
<li><p>What?</p>
<ul>
<li>There are two camps:
<ul>
<li>DTL (dynamically typed language)</li>
<li>STL (statically typed language)</li>
</ul></li>
<li>Every programmer is lazy, but differently.
<ul>
<li>People who use DTLs are too lazy to write the types.</li>
<li>People who use STLs are too lazy to do what machines can do, such as
<ul>
<li>detecting typos,</li>
<li>avoiding unintentional conversions,</li>
<li>tracing the code, 2 weeks later, to find out the type of a variable.</li>
</ul></li>
</ul></li>
<li>People who use DTLs are too diligent.</li>
</ul>
<p>They love to do what machines can do: type checking.</p>
<ul>
<li>Static typing enables you to be lazier. Help the machine help you avoid work. By investing in a few keystrokes, you will get these in return:</li>
<li>The machine will catch more mistakes for you.</li>
<li>You can have an IDE that finds references correctly. This enables features such as &quot;Jump to definition&quot;, &quot;Rename&quot;, and even more fancy refactorings.</li>
<li>Moral of the story:
<ul>
<li>Let the machines do all the boring stuffs.</li>
<li>Be future-lazy, not present-lazy. Do things now so that you can be lazy later. Don't be lazy now only to regret it later.
<ul>
<li>People who organize their things are too lazy to spend mental effort later in a scramble to find things.</li>
<li>People who don't organize their things are just too lazy to do it, and would rather just experience regret in the future than experience some hardship now for a better future.</li>
<li>The sane solution to &quot;too lazy to write types&quot; is to pick a language with type inference, not to ditch types altogether.</li>
</ul>
Don't throw the baby out with the bathwater.</li>
</ul></li>
<li>This argument also applies to functional programming vs procedural programming. Indeed this argument applies to every technology. Adopting technology enables us to be lazier.</li>
<li>People buy tractors because they are too lazy to till their fields with hoes.</li>
<li>People use frameworks because they are too lazy to do the same plumbing again and again.</li>
<li>People strive to avoid side-effects in functional programming because they are too lazy to debug synchronization errors.</li>
<li>The only thing the human race isn't too lazy to do is to think about lazier ways of doing things.</li>
</ul></li>
<li><p>What?</p>
<ul>
<li><a href="https://dimjasevic.net/marko/2018/10/23/typed-functional-programming-and-software-correctness/">https://dimjasevic.net/marko/2018/10/23/typed-functional-programming-and-software-correctness/</a>
<ul>
<li>&quot;what can be done about a programmer’s limited time to write correct software? While there are multiple plausible answers to this question, I will argue that a very effective solution is to use typed functional programming.&quot;</li>
<li>2017 <a href="https://dimjasevic.net/marko/2017/11/10/a-subtyping-polymorphism-misfortune/">https://dimjasevic.net/marko/2017/11/10/a-subtyping-polymorphism-misfortune/</a>
<ul>
<li>&quot;the interaction between subtyping and parametric polymorphism asks for trouble&quot;</li>
<li>type-parameter variance and polymorphism don't mix?</li>
</ul></li>
</ul></li>
</ul></li>
</ol>
<h3 id="measuring-programming-language-quality"><span class="section_number">13.65</span><span class="section_title"><span class="todo TODO">TODO</span> Measuring programming language quality</span></h3>
<ul>
<li><a href="https://en.wikipedia.org/wiki/Goodhart%27s_law">https://en.wikipedia.org/wiki/Goodhart%27s_law</a></li>
</ul>
<div class="local_table_of_contents">
<ul>
<li><span class="section_number">13.65.1</span><span class="section_title"><a href="#minimum-iq-required-to-understand-the-language">Minimum IQ required to understand the language</a></span><span class="word_count">(7w~1m)</span></li>
<li><span class="section_number">13.65.2</span><span class="section_title"><a href="#development-cost">Development cost</a></span><span class="word_count">(11w~1m)</span></li>
<li><span class="section_number">13.65.3</span><span class="section_title"><a href="#developer-feelingenjoyment">Developer feeling/enjoyment</a></span><span class="word_count">(2w~1m)</span></li>
<li><span class="section_number">13.65.4</span><span class="section_title"><a href="#maintenance-cost">Maintenance cost</a></span><span class="word_count">(16w~1m)</span></li>
<li><span class="section_number">13.65.5</span><span class="section_title"><a href="#rosetta-stone-comparing-programs-that-do-the-same-thing-in-different-languages">Rosetta Stone: comparing programs that do the same thing in different languages</a></span><span class="word_count">(12w~1m)</span></li>
<li><span class="section_number">13.65.6</span><span class="section_title"><a href="#learnability-masterability-usability">Learnability, masterability, usability</a></span><span class="word_count">(3w~1m)</span></li>
</ul>
</div>
<h4 id="minimum-iq-required-to-understand-the-language"><span class="section_number">13.65.1</span><span class="section_title">Minimum IQ required to understand the language</span></h4>
<h4 id="development-cost"><span class="section_number">13.65.2</span><span class="section_title">Development cost</span></h4>
<ol>
<li><p>Length of program</p></li>
<li><p>Development effort; number of people; amount of time</p></li>
</ol>
<h4 id="developer-feelingenjoyment"><span class="section_number">13.65.3</span><span class="section_title">Developer feeling/enjoyment</span></h4>
<h4 id="maintenance-cost"><span class="section_number">13.65.4</span><span class="section_title">Maintenance cost</span></h4>
<ol>
<li><p>Cost due to runtime defects (defects discovered while the program is running in production environment)</p></li>
</ol>
<h4 id="rosetta-stone-comparing-programs-that-do-the-same-thing-in-different-languages"><span class="section_number">13.65.5</span><span class="section_title">Rosetta Stone: comparing programs that do the same thing in different languages</span></h4>
<p><a href="https://medium.com/concerning-pharo/elegant-pharo-code-bb590f0856d0">https://medium.com/concerning-pharo/elegant-pharo-code-bb590f0856d0</a></p>
<h4 id="learnability-masterability-usability"><span class="section_number">13.65.6</span><span class="section_title">Learnability, masterability, usability</span></h4>
<h3 id="intersection-between-programming-language-search-and-software-engineering-the-effect-of-programming-language-on-software-quality"><span class="section_number">13.66</span><span class="section_title">Intersection between programming language search and software engineering: The effect of programming language on software quality</span></h3>
<ul>
<li><a href="https://developers.slashdot.org/story/14/11/05/0530228/the-effect-of-programming-language-on-software-quality">https://developers.slashdot.org/story/14/11/05/0530228/the-effect-of-programming-language-on-software-quality</a>
<ul>
<li>2014 article &quot;A Large Scale Study of Programming Languages and Code Quality in Github&quot; <a href="http://web.cs.ucdavis.edu/~filkov/papers/lang_github.pdf">pdf</a>
<ul>
<li>I don't know enough to determine whether the methodology is valid.</li>
</ul></li>
</ul></li>
</ul>
<h3 id="beginning-programming-language-research"><span class="section_number">13.67</span><span class="section_title">Beginning programming language research</span></h3>
<ul>
<li><a href="https://blog.acolyer.org/2018/01/26/a-practitioners-guide-to-reading-programming-languages-papers/">A practitioner's guide to reading programming languages papers</a>
<ul>
<li>from <a href="https://www.reddit.com/r/ProgrammingLanguages/top/">top scoring links : ProgrammingLanguages</a></li>
</ul></li>
<li><a href="https://waleedkhan.name/blog/getting-a-job-in-pl/">https://waleedkhan.name/blog/getting-a-job-in-pl/</a>
<ul>
<li><a href="https://www.reddit.com/r/ProgrammingLanguages/comments/9ffiky/how_to_get_a_job_in_programming_languages/">https://www.reddit.com/r/ProgrammingLanguages/comments/9ffiky/how_to_get_a_job_in_programming_languages/</a></li>
</ul></li>
</ul>
<h3 id="prolog-is-ideal-for-writing-a-typechecker-and-typescript-is-ideal-for-typechecking-ast-decorations-so-we-should-fuse-prolog-and-typescript."><span class="section_number">13.68</span><span class="section_title">Prolog is ideal for writing a typechecker, and TypeScript is ideal for typechecking AST decorations, so we should fuse Prolog and TypeScript.</span></h3>
<p>Abdullah pointed out to me that TypeScript interface is similar to Ocaml polymorphic variant?</p>
<div class="local_table_of_contents">
<ul>
<li><span class="section_number">13.68.1</span><span class="section_title"><a href="#but-there-is-racket-and-its-languages-such-as-professorj-datalog.">But there is Racket and its languages such as ProfessorJ, Datalog.</a></span><span class="word_count">(13w~1m)</span></li>
</ul>
</div>
<h4 id="but-there-is-racket-and-its-languages-such-as-professorj-datalog."><span class="section_number">13.68.1</span><span class="section_title">But there is Racket and its languages such as ProfessorJ, Datalog.</span></h4>
<ul>
<li>&quot;Creating languages&quot; <a href="https://docs.racket-lang.org/guide/languages.html">https://docs.racket-lang.org/guide/languages.html</a></li>
</ul>
<h3 id="racket-syntax-objects-read-syntax-does-prologhaskell-have-this"><span class="section_number">13.69</span><span class="section_title">Racket syntax objects, read-syntax; does Prolog/Haskell have this?</span></h3>
<ul>
<li>Must understand: reader and expander.
<ul>
<li>Racket parsing has two stages/levels: reader and expander.</li>
<li>(My guess?) The output of the reader is the input of the expander?</li>
</ul></li>
<li><a href="https://docs.racket-lang.org/guide/hash-reader.html">https://docs.racket-lang.org/guide/hash-reader.html</a>
<ul>
<li>&quot;The difference between <code>read</code> and <code>read-syntax</code> is that read is meant to be used for data while <code>read-syntax</code> is meant to be used to parse programs.&quot;</li>
<li>Readtables work at the reader level.</li>
<li>Macros work at the expander level.
<ul>
<li>Macros can't change the lexicon.</li>
</ul></li>
</ul></li>
</ul>
<h3 id="stop-abusing-the-equals-sign"><span class="section_number">13.70</span><span class="section_title">Stop abusing the equals sign</span></h3>
<p>The equals sign should be used for equations only and nothing else.</p>
<p>Consider this fragment in a hypothetical functional programming language.</p>
<div class="sourceCode" id="cb28"><pre class="sourceCode haskell"><code class="sourceCode haskell"><a class="sourceLine" id="cb28-1" title="1">hang <span class="fu">:</span> <span class="dt">Nat</span></a>
<a class="sourceLine" id="cb28-2" title="2">hang <span class="fu">=</span> hang</a></code></pre></div>
<p>The fragment <code>hang = hang</code> falsely suggests that it is an <em>equation</em> like <span class="math inline">\(x = x\)</span>. We can substitute <span class="math inline">\(x\)</span> with any natural number, and the equation <span class="math inline">\(x = x\)</span> will still hold. But that is not what we mean with <code>hang</code>. We are defining a <em>rewrite rule</em>, not an equation. Thus we should write <code>hang =&gt; hang</code> instead.</p>
<p>In an equation, the left and right side are equal. We don't care if they are flipped. In a rewrite rule, we care about direction. We want to start with <span class="math inline">\(1 + 1\)</span> and end with <span class="math inline">\(2\)</span>, not the other way, unless we are writing a theorem prover.</p>
<p>Programming is hard enough already. Let's not make it harder for students. Stop using confusing notation.</p>
<p>Reading triage:</p>
<ul>
<li><a href="https://www.researchgate.net/publication/286418817_Misuse_of_the_equals_sign_An_entrenched_practice_from_early_primary_years_to_tertiary_mathematics">Misuse of the equals sign: An entrenched practice from early primary years to tertiary mathematics</a></li>
</ul>
<h3 id="jetbrains-mps"><span class="section_number">13.71</span><span class="section_title">JetBrains MPS</span></h3>
<p>MPS is &quot;Meta Programming System&quot;.</p>
<p>A concept can have properties. Each property has a type. The property type system is limited to int, string, and regex-constrained string.</p>
<p>A member in a model is an <em>instance</em> of a concept, similar to how an object is an instance of a class in Java.</p>
<p>MPS is a <em>tree</em> editor, not a text editor.</p>
<p>A concept is an AST (abstract syntax tree) node type.</p>
<p>On 2017-08-12, MPS 2017.2 doesn't support Java 7 try-with-resources statements.</p>
<p>The MPS IntelliJ IDEA plugin allows you to use a language from IDEA, but not defining your own language. You need the MPS IDE for that.</p>
<div class="local_table_of_contents">
<ul>
<li><span class="section_number">13.71.1</span><span class="section_title"><a href="#external-links">External links</a></span><span class="word_count">(21w~1m)</span></li>
</ul>
</div>
<h4 id="external-links"><span class="section_number">13.71.1</span><span class="section_title">External links</span></h4>
<ul>
<li><a href="https://confluence.jetbrains.com/display/MPSD20172/Using+MPS+inside+IntelliJ+IDEA">Using MPS inside IntelliJ IDEA</a></li>
<li><a href="https://confluence.jetbrains.com/pages/viewpage.action?pageId=93128576">MPS user guide for Java developers (IntelliJ IDEA)</a> (long)</li>
<li><a href="https://confluence.jetbrains.com/display/MPSD20172/Finding+your+way+out">What to do when there is a problem</a></li>
</ul>
<h3 id="problems-that-the-language-has-to-solve"><span class="section_number">13.72</span><span class="section_title">Problems that the language has to solve</span></h3>
<div class="local_table_of_contents">
<ul>
<li><span class="section_number">13.72.1</span><span class="section_title"><a href="#solving-the-expression-problem">Solving the expression problem</a></span><span class="word_count">(4w~1m)</span></li>
<li><span class="section_number">13.72.2</span><span class="section_title"><a href="#solving-the-ast-decoration-problem-ast-typing-problem">Solving the AST decoration problem / AST typing problem</a></span><span class="word_count">(349w~2m)</span></li>
</ul>
</div>
<h4 id="solving-the-expression-problem"><span class="section_number">13.72.1</span><span class="section_title">Solving the expression problem</span></h4>
<h4 id="solving-the-ast-decoration-problem-ast-typing-problem"><span class="section_number">13.72.2</span><span class="section_title">Solving the AST decoration problem / AST typing problem</span></h4>
<ul>
<li>Other names of this problem:
<ul>
<li><a href="https://www.reddit.com/r/haskell/comments/1f91w3/the_ast_typing_problem/">AST typing problem</a></li>
<li>&quot;Trees that grow&quot; problem</li>
</ul></li>
<li>common problem in parsing: how to decorate AST in a functional language
<ul>
<li>2013, article, <a href="http://blog.ezyang.com/2013/05/the-ast-typing-problem/">The AST typing problem</a>, Edward Z. Yang
<ul>
<li>2010, discussion, &quot;The AST typing problem&quot;, <a href="http://lambda-the-ultimate.org/node/4170">LTU</a></li>
</ul></li>
<li>Embracing the Any type
<ul>
<li><a href="http://javaparser.org/">JavaParser</a> added an <code>Object data</code> field to the AST Node base class, but they changed their minds.
<ul>
<li><a href="https://github.com/javaparser/javaparser/issues/456">https://github.com/javaparser/javaparser/issues/456</a></li>
<li><a href="https://github.com/javaparser/javaparser/pull/472">https://github.com/javaparser/javaparser/pull/472</a></li>
</ul></li>
</ul></li>
<li>Structural typing
<ul>
<li>TypeScript (JavaScript) is ideal for AST decoration problem? You just add a key to the AST node object you want to decorate.
<ul>
<li>Any language with structural typing is ideal?</li>
</ul>
<pre class="example"><code>interface Node {
}

interface Node_parse extends Node {
}

interface Node_desugar extends Node_parse {
}
</code></pre></li>
</ul></li>
<li>Loosely-typed Haskell?
<ul>
<li>This is basically the JavaScript way.</li>
</ul>
<div class="sourceCode" id="cb30"><pre class="sourceCode haskell"><code class="sourceCode haskell"><a class="sourceLine" id="cb30-1" title="1"><span class="kw">type</span> <span class="dt">Key</span> <span class="fu">=</span> <span class="dt">String</span></a>
<a class="sourceLine" id="cb30-2" title="2"><span class="kw">data</span> <span class="dt">Value</span></a>
<a class="sourceLine" id="cb30-3" title="3">    <span class="fu">=</span> <span class="dt">VNum</span> <span class="dt">Double</span></a>
<a class="sourceLine" id="cb30-4" title="4">    <span class="fu">|</span> <span class="dt">VStr</span> <span class="dt">String</span></a>
<a class="sourceLine" id="cb30-5" title="5">    <span class="fu">|</span> <span class="dt">VObj</span> <span class="dt">Object</span></a>
<a class="sourceLine" id="cb30-6" title="6"><span class="kw">type</span> <span class="dt">Object</span> <span class="fu">=</span> [(<span class="dt">Key</span>, <span class="dt">Value</span>)]</a>
<a class="sourceLine" id="cb30-7" title="7"><span class="kw">type</span> <span class="dt">Node</span> <span class="fu">=</span> <span class="dt">Object</span></a></code></pre></div></li>
<li>2017, article, &quot;Trees that grow&quot;, <a href="https://www.microsoft.com/en-us/research/uploads/prod/2016/11/trees-that-grow.pdf">https://www.microsoft.com/en-us/research/uploads/prod/2016/11/trees-that-grow.pdf</a>
<ul>
<li>&quot;The compiler writer is then faced with two unpalatable choices. She can define a new data type representing the output decorated tree, at the cost of much duplication. Or she can write a single data type with all the necessary fields and constructors, at the cost of having many unused fields and constructors at different stages of compilation.&quot;</li>
<li>However, we can fake extensible ADTs with pattern synonyms, with Fix, and without type families.
<ul>
<li>Similar endeavors
<ul>
<li><a href="https://wiki.haskell.org/Type_composition">https://wiki.haskell.org/Type_composition</a></li>
</ul></li>
<li>Haskell doesn't beta-reduce types.</li>
<li>This is an example code:</li>
</ul>
<div class="sourceCode" id="cb31"><pre class="sourceCode haskell"><code class="sourceCode haskell"><a class="sourceLine" id="cb31-1" title="1"><span class="kw">data</span> <span class="dt">Exp_</span> name <span class="fu">exp</span></a>
<a class="sourceLine" id="cb31-2" title="2">    <span class="fu">=</span> <span class="dt">Var</span> name</a>
<a class="sourceLine" id="cb31-3" title="3">    <span class="fu">|</span> <span class="dt">Add</span> <span class="fu">exp</span> <span class="fu">exp</span></a>
<a class="sourceLine" id="cb31-4" title="4">    <span class="fu">|</span> <span class="fu">...</span></a>
<a class="sourceLine" id="cb31-5" title="5"></a>
<a class="sourceLine" id="cb31-6" title="6"><span class="kw">data</span> <span class="dt">Locd</span> a</a>
<a class="sourceLine" id="cb31-7" title="7">    <span class="fu">=</span> <span class="dt">MkLocd</span> <span class="dt">Loc</span> a</a>
<a class="sourceLine" id="cb31-8" title="8"></a>
<a class="sourceLine" id="cb31-9" title="9"><span class="kw">data</span> <span class="dt">Typed</span> t a <span class="fu">=</span> <span class="dt">MkTyped</span> t a</a>
<a class="sourceLine" id="cb31-10" title="10"></a>
<a class="sourceLine" id="cb31-11" title="11"><span class="kw">newtype</span> <span class="dt">Compose</span> f g a <span class="fu">=</span> <span class="dt">MkCompose</span> {<span class="ot"> unCompose ::</span> f (g a) }</a>
<a class="sourceLine" id="cb31-12" title="12"></a>
<a class="sourceLine" id="cb31-13" title="13"><span class="kw">type</span> <span class="dt">PsExp</span> name <span class="fu">=</span> <span class="dt">Fix</span> (<span class="dt">Compose</span> <span class="dt">Locd</span> (<span class="dt">Exp_</span> name))</a>
<a class="sourceLine" id="cb31-14" title="14"><span class="kw">type</span> <span class="dt">TcExp</span> name <span class="fu">=</span> <span class="dt">Fix</span> (<span class="dt">Compose</span> <span class="dt">Locd</span> (<span class="dt">Compose</span> <span class="dt">Typed</span> (<span class="dt">Exp_</span> name)))</a>
<a class="sourceLine" id="cb31-15" title="15"></a>
<a class="sourceLine" id="cb31-16" title="16"><span class="co">-- To ameliorate the verbosity:</span></a>
<a class="sourceLine" id="cb31-17" title="17"></a>
<a class="sourceLine" id="cb31-18" title="18"><span class="kw">class</span> <span class="dt">Exp</span> name <span class="fu">exp</span> <span class="kw">where</span></a>
<a class="sourceLine" id="cb31-19" title="19"><span class="ot">    var ::</span> name <span class="ot">-&gt;</span> <span class="fu">exp</span></a>
<a class="sourceLine" id="cb31-20" title="20"><span class="ot">    add ::</span> <span class="fu">exp</span> <span class="ot">-&gt;</span> <span class="fu">exp</span> <span class="ot">-&gt;</span> <span class="fu">exp</span></a>
<a class="sourceLine" id="cb31-21" title="21">    <span class="fu">...</span></a>
<a class="sourceLine" id="cb31-22" title="22"></a>
<a class="sourceLine" id="cb31-23" title="23"><span class="kw">instance</span> <span class="dt">Exp</span> (<span class="dt">PsExp</span> name) <span class="kw">where</span> <span class="fu">...</span></a>
<a class="sourceLine" id="cb31-24" title="24"><span class="kw">instance</span> <span class="dt">Exp</span> (<span class="dt">TcExp</span> name) <span class="kw">where</span> <span class="fu">...</span></a></code></pre></div></li>
</ul></li>
<li>What if GHC can &quot;inline&quot; data types at compile time? What if GHC can &quot;inline&quot; A and B in <code>data A = MA Int; data B = MB Int String; data E = EA A | EB B;</code>, producing <code>data E = EA Int | EB Int String</code>? Implementing this with Haskell 98 types should be straightforward.</li>
<li>related - &quot;Data types a la carte&quot; - <a href="http://hackage.haskell.org/package/compdata">http://hackage.haskell.org/package/compdata</a> - Haskell type composition - <a href="https://wiki.haskell.org/Extensible_datatypes">https://wiki.haskell.org/Extensible_datatypes</a></li>
</ul></li>
<li>Other people's efforts
<ul>
<li><a href="https://brianmckenna.org/blog/type_annotation_cofree">https://brianmckenna.org/blog/type_annotation_cofree</a></li>
</ul></li>
<li><a href="https://discuss.ocaml.org/t/is-it-feasible-to-write-parsers-without-using-polymorphic-variants-for-ast-representation/1906">https://discuss.ocaml.org/t/is-it-feasible-to-write-parsers-without-using-polymorphic-variants-for-ast-representation/1906</a></li>
</ul>
<ol>
<li><p>Other solutions to the AST typing problem / trees-that-grow problem; using recursion schemes for separation of concern in functional programming</p>
<ul>
<li>&quot;Program Reduction: A Win for Recursion Schemes&quot; <a href="http://www.newartisans.com/2018/04/win-for-recursion-schemes/">http://www.newartisans.com/2018/04/win-for-recursion-schemes/</a>
<ul>
<li>Annotated expression trees
<ul>
<li>&quot;The first moment when this recursion scheme went from an interesting idea to a good design decision was when someone created an issue on GitHub, asking to add location information to the expression tree.&quot;</li>
</ul></li>
<li>Abstract Definitional Interpreters?
<ul>
<li>2017 article &quot;Abstracting Definitional Interpreters&quot; <a href="https://arxiv.org/abs/1707.04755">https://arxiv.org/abs/1707.04755</a></li>
</ul></li>
<li>boilerplate</li>
<li>recommends using recursion schemes</li>
</ul></li>
</ul>
<p>That is an interesting idea, but some important questions remain:</p>
<ul>
<li>How do we do that without boilerplate (for the library writer)?</li>
<li>How do we do that without performance penalty?</li>
</ul></li>
</ol>
<h2 id="programming-language-design-mistakes"><span class="section_number">14</span><span class="section_title">Programming language design mistakes</span></h2>
<div class="local_table_of_contents">
<ul>
<li><span class="section_number">14.1</span><span class="section_title"><a href="#justifying-the-creation-of-yet-another-programming-language">Justifying the creation of yet another programming language</a></span><span class="word_count">(80w~1m)</span></li>
<li><span class="section_number">14.2</span><span class="section_title"><a href="#common-design-mistakes">Common design mistakes</a></span><span class="word_count">(346w~2m)</span></li>
<li><span class="section_number">14.3</span><span class="section_title"><a href="#java">Java</a></span><span class="word_count">(179w~1m)</span></li>
<li><span class="section_number">14.4</span><span class="section_title"><a href="#c-and-c">C and C++</a></span><span class="word_count">(85w~1m)</span></li>
<li><span class="section_number">14.5</span><span class="section_title"><a href="#haskell">Haskell</a></span><span class="word_count">(63w~1m)</span></li>
<li><span class="section_number">14.6</span><span class="section_title"><a href="#what-4">what</a></span><span class="word_count">(136w~1m)</span></li>
<li><span class="section_number">14.7</span><span class="section_title"><a href="#lisp-design-mistake-having-separate-data-and-function-cell">Lisp design mistake: having separate data and function cell</a></span><span class="word_count">(9w~1m)</span></li>
</ul>
</div>
<h3 id="justifying-the-creation-of-yet-another-programming-language"><span class="section_number">14.1</span><span class="section_title">Justifying the creation of yet another programming language</span></h3>
<p>A new programming language should fix unforeseen design mistakes in existing programming languages. It should not repeat their design mistakes. Therefore we should collect the design mistakes so that we can avoid repeating them.</p>
<p>What is a mistake? How do we know it's a mistake?</p>
<p>We realize something is a mistake when we find a better way.</p>
<p>Mistakes are always discovered by hindsight. We don't know it's a mistake until long after we have done it.</p>
<h3 id="common-design-mistakes"><span class="section_number">14.2</span><span class="section_title">Common design mistakes</span></h3>
<div class="local_table_of_contents">
<ul>
<li><span class="section_number">14.2.1</span><span class="section_title"><a href="#ignoring-programming-language-theory-and-research">Ignoring programming language theory and research</a></span><span class="word_count">(19w~1m)</span></li>
<li><span class="section_number">14.2.2</span><span class="section_title"><a href="#dynamic-typing">Dynamic typing</a></span><span class="word_count">(34w~1m)</span></li>
<li><span class="section_number">14.2.3</span><span class="section_title"><a href="#lack-of-metaprogramming-support">Lack of metaprogramming support</a></span><span class="word_count">(11w~1m)</span></li>
<li><span class="section_number">14.2.4</span><span class="section_title"><a href="#lack-of-symbol-overloading-ad-hoc-polymorphism">Lack of symbol overloading (ad-hoc polymorphism)</a></span><span class="word_count">(31w~1m)</span></li>
<li><span class="section_number">14.2.5</span><span class="section_title"><a href="#mutable-by-default">Mutable by default</a></span><span class="word_count">(11w~1m)</span></li>
<li><span class="section_number">14.2.6</span><span class="section_title"><a href="#non-first-class-constructs">Non-first-class constructs</a></span><span class="word_count">(189w~1m)</span></li>
<li><span class="section_number">14.2.7</span><span class="section_title"><a href="#virtual-machines">Virtual machines</a></span><span class="word_count">(28w~1m)</span></li>
<li><span class="section_number">14.2.8</span><span class="section_title"><a href="#more-than-one-way-to-do-something">More than one way to do something</a></span><span class="word_count">(19w~1m)</span></li>
<li><span class="section_number">14.2.9</span><span class="section_title"><a href="#disallowing-multi-line-string-literals">Disallowing multi-line string literals</a></span><span class="word_count">(10w~1m)</span></li>
</ul>
</div>
<h4 id="ignoring-programming-language-theory-and-research"><span class="section_number">14.2.1</span><span class="section_title">Ignoring programming language theory and research</span></h4>
<p>Some mistakes are because the language designer is ignorant, lazy, or in a hurry.</p>
<h4 id="dynamic-typing"><span class="section_number">14.2.2</span><span class="section_title">Dynamic typing</span></h4>
<p>Dynamic typing is a design mistake. Type inference goes back to 1958. ML has type inference since 1973. It's 2018. There is no excuse for ignoring 60 years of research. See <a href="https://en.wikipedia.org/wiki/Type_inference#Hindley%E2%80%93Milner_type_inference_algorithm">WP1</a>, <a href="https://en.wikipedia.org/wiki/Hindley%E2%80%93Milner_type_system#History_of_type_inference">WP2</a>.</p>
<h4 id="lack-of-metaprogramming-support"><span class="section_number">14.2.3</span><span class="section_title">Lack of metaprogramming support</span></h4>
<p>Lack of metaprogramming support is a design mistake.</p>
<h4 id="lack-of-symbol-overloading-ad-hoc-polymorphism"><span class="section_number">14.2.4</span><span class="section_title">Lack of symbol overloading (ad-hoc polymorphism)</span></h4>
<p>Scheme and Haskell lack convenient symbol overloading. Haskell requires you to make a type class for ad-hoc polymorphism.</p>
<p>Without overloading, clashing names need to be prefixed manually.</p>
<h4 id="mutable-by-default"><span class="section_number">14.2.5</span><span class="section_title">Mutable by default</span></h4>
<p>Having variables mutable by default is a design mistake.</p>
<h4 id="non-first-class-constructs"><span class="section_number">14.2.6</span><span class="section_title">Non-first-class constructs</span></h4>
<p>Object-oriented programming is a design mistake.</p>
<ul>
<li><code>a.b()</code> should not mean &quot;call method b of object a&quot;</li>
<li><code>a.b()</code> should mean &quot;get the function a.b, then call it&quot;.</li>
<li><p><code>a.b()</code> should mean <code>(a.b)()</code>.</p>
<ul>
<li><code>m = a.b; m();</code> should mean the same as <code>a.b()</code>.</li>
<li>Functions should be first-class. Methods should not exist. Fields are enough (with function types). It should be possible to assign to methods.</li>
</ul></li>
</ul>
<p>Statements are a design mistake. They should not exist. Only expressions should. <a href="https://www.eclipse.org/xtend/documentation/203_xtend_expressions.html">Xtend</a> and <a href="https://code.haxe.org/category/principles/everything-is-an-expression.html">Haxe</a> do this right. - Can we replace statements with expressions in existing imperative languages without breaking backward compatibility? - But C has <a href="https://en.wikipedia.org/wiki/Comma_operator">WP:Comma operator</a>? - We can use lambda calculus for imperative programming. - Treat the statement separator (here we use semicolon <code>;</code>) as an operator (function with infix syntax) that sequences the effects of two expressions. - For example: - Let <code>a</code> be an expression. - Let <code>b</code> be an expression. - Thus <code>a;b</code> is an expression. - The value of <code>a;b</code> is the value of <code>b</code>. - The effect of <code>a;b</code> is the effect of <code>a</code> followed by the effect of <code>b</code>. - Semicolon is associative: <code>(a;b);c = a;(b;c)</code>. This also holds for the effects.</p>
<h4 id="virtual-machines"><span class="section_number">14.2.7</span><span class="section_title">Virtual machines</span></h4>
<p>Virtual machines are a design mistake. Instead, do semantic mapping: map a program in language A to an equivalent program in language B while preserving the meaning.</p>
<h4 id="more-than-one-way-to-do-something"><span class="section_number">14.2.8</span><span class="section_title">More than one way to do something</span></h4>
<p><a href="https://en.wikipedia.org/wiki/There%27s_more_than_one_way_to_do_it">&quot;There is more than one way to do it&quot;</a> is a design mistake.</p>
<h4 id="disallowing-multi-line-string-literals"><span class="section_number">14.2.9</span><span class="section_title">Disallowing multi-line string literals</span></h4>
<p>Languages should allow CR/LF in string literals.</p>
<h3 id="java"><span class="section_number">14.3</span><span class="section_title">Java</span></h3>
<ul>
<li><p>Checked exceptions don't play nice with java.util.Stream. Either checked exception or java.util.Stream is a design mistake.</p>
<ul>
<li><a href="https://en.wikipedia.org/wiki/Effect_system">https://en.wikipedia.org/wiki/Effect_system</a></li>
</ul></li>
<li><p>What others think Java gets wrong</p>
<ul>
<li><a href="http://tech.jonathangardner.net/wiki/Why_Java_Sucks">http://tech.jonathangardner.net/wiki/Why_Java_Sucks</a></li>
</ul></li>
</ul>
<div class="local_table_of_contents">
<ul>
<li><span class="section_number">14.3.1</span><span class="section_title"><a href="#overcomplicated-java-virtual-machine">Overcomplicated Java Virtual Machine</a></span><span class="word_count">(31w~1m)</span></li>
<li><span class="section_number">14.3.2</span><span class="section_title"><a href="#working-against-programmers">Working against programmers</a></span><span class="word_count">(51w~1m)</span></li>
<li><span class="section_number">14.3.3</span><span class="section_title"><a href="#throwing-away-the-good-parts-of-c">Throwing away the good parts of C++</a></span><span class="word_count">(68w~1m)</span></li>
<li><span class="section_number">14.3.4</span><span class="section_title"><a href="#weak-functional-programming-allowing-partial-functions">Weak functional programming (allowing partial functions)</a></span><span class="word_count">(12w~1m)</span></li>
</ul>
</div>
<h4 id="overcomplicated-java-virtual-machine"><span class="section_number">14.3.1</span><span class="section_title">Overcomplicated Java Virtual Machine</span></h4>
<p>JVM does too much. JVM bytecode verification is the compiler's job, not the VM's. Does JVM bytecode verification even add any security? Isn't JNI a bigger security hole?</p>
<h4 id="working-against-programmers"><span class="section_number">14.3.2</span><span class="section_title">Working against programmers</span></h4>
<p>Java presumes that the programmer is not only untrustworthy but also an idiot.</p>
<p>Programmers make mistakes, but they aren't idiots.</p>
<ul>
<li><p><a href="https://www.reddit.com/r/programming/comments/utqb/ask_reddit_why_do_so_many_reddit_users_hate_java/cutv1/">Ask Reddit: Why do so many reddit users hate java? : programming</a></p>
<ul>
<li>&quot;Java's solution to the problem of C++ allowing you to blow your foot off was to chop off your legs.&quot;</li>
</ul></li>
</ul>
<h4 id="throwing-away-the-good-parts-of-c"><span class="section_number">14.3.3</span><span class="section_title">Throwing away the good parts of C++</span></h4>
<ul>
<li>Forbidding multiple inheritance is a design mistake.</li>
<li>Java interfaces are a design mistake. See 2015 Robert C. Martin article <a href="http://blog.cleancoder.com/uncle-bob/2015/01/08/InterfaceConsideredHarmful.html">Java interface considered harmful</a>.</li>
<li><p>Implementing generics too late with type erasure. <a href="https://docs.microsoft.com/en-us/dotnet/csharp/whats-new/csharp-version-history">C# 2.0 introduced</a> generics, without type erasure, while maintaining backward compatibility, by duplicating everything in System.Collections to System.Collections.Generic. This is ugly, but less ugly than type erasure.</p>
<ul>
<li><p><a href="https://stackoverflow.com/questions/11436802/how-are-c-sharp-generics-implemented">SO:How are C# generics implemented?</a></p>
<ul>
<li><a href="https://blogs.msdn.microsoft.com/ericlippert/2009/07/30/whats-the-difference-part-one-generics-are-not-templates/">Generics are not templates</a></li>
</ul></li>
</ul></li>
</ul>
<h4 id="weak-functional-programming-allowing-partial-functions"><span class="section_number">14.3.4</span><span class="section_title">Weak functional programming (allowing partial functions)</span></h4>
<p>Allowing partial functions is a design mistake.</p>
<h3 id="c-and-c"><span class="section_number">14.4</span><span class="section_title">C and C++</span></h3>
<p>In the 1970s these were tolerable: memory was limited, tools didn't exist. In 2018 these aren't tolerable.</p>
<ul>
<li>Unattainable standard.
<ul>
<li><a href="https://stackoverflow.com/questions/5574469/are-there-any-fully-conforming-c-implementations">SO:Are there any fully conforming C++ implementations?</a></li>
</ul></li>
<li>Pile of workarounds.</li>
<li>C++ compilation is abysmally slow. <code>#include &lt;iostream&gt;</code> expands to 10000 lines.</li>
<li>C pointer declaration syntax for pointers and arrays is a design mistake.</li>
<li>Conflating pointers and arrays.</li>
<li>Leaving a lot of things undefined.</li>
<li>Zero-terminated string is a design mistake.</li>
<li>Parsing requires symbol resolution and type checking.</li>
<li>Header files. They should be automatically generated from C files instead.</li>
<li>Preprocessor works on text, not on C/C++ AST.</li>
</ul>
<h3 id="haskell"><span class="section_number">14.5</span><span class="section_title">Haskell</span></h3>
<ul>
<li>Template Haskell is a mistake.
<ul>
<li>Instead, we should have a metaprogramming library, and generate hs files.</li>
</ul></li>
<li>Haskell compilation is slow.</li>
<li>Haskell module system is a design mistake.</li>
<li>GHC: If A depends on B, and B changes without changing API, then A still requires recompilation.</li>
<li>Bottom inhabits every type including the supposedly empty type <code>data Void</code>.</li>
</ul>
<div class="local_table_of_contents">
<ul>
<li><span class="section_number">14.5.1</span><span class="section_title"><a href="#not-leveraging-user-defined-isomorphisms">Not leveraging user-defined isomorphisms</a></span><span class="word_count">(14w~1m)</span></li>
</ul>
</div>
<h4 id="not-leveraging-user-defined-isomorphisms"><span class="section_number">14.5.1</span><span class="section_title">Not leveraging user-defined isomorphisms</span></h4>
<p>I want this:</p>
<pre class="example"><code>data A = A0 | A1
data B = B0 | B1

isomorphism &quot;iso&quot; between A and B is
    A0 ~ B0
    A1 ~ B1
</code></pre>
<p>instead of this:</p>
<div class="sourceCode" id="cb33"><pre class="sourceCode haskell"><code class="sourceCode haskell"><a class="sourceLine" id="cb33-1" title="1"><span class="kw">data</span> <span class="dt">Iso</span> a b <span class="fu">=</span> <span class="dt">MkIso</span> {</a>
<a class="sourceLine" id="cb33-2" title="2"><span class="ot">        fwd ::</span> a <span class="ot">-&gt;</span> b</a>
<a class="sourceLine" id="cb33-3" title="3">        ,<span class="ot"> rev ::</span> b <span class="ot">-&gt;</span> a</a>
<a class="sourceLine" id="cb33-4" title="4">    }</a>
<a class="sourceLine" id="cb33-5" title="5"></a>
<a class="sourceLine" id="cb33-6" title="6"><span class="ot">iso ::</span> <span class="dt">Iso</span> a b</a>
<a class="sourceLine" id="cb33-7" title="7">iso <span class="fu">=</span> <span class="dt">MkIso</span> ab ba <span class="kw">where</span></a>
<a class="sourceLine" id="cb33-8" title="8"></a>
<a class="sourceLine" id="cb33-9" title="9"><span class="ot">    ab ::</span> <span class="dt">A</span> <span class="ot">-&gt;</span> <span class="dt">B</span></a>
<a class="sourceLine" id="cb33-10" title="10">    ab <span class="dt">A0</span> <span class="fu">=</span> <span class="dt">B0</span></a>
<a class="sourceLine" id="cb33-11" title="11">    ab <span class="dt">A1</span> <span class="fu">=</span> <span class="dt">B1</span></a>
<a class="sourceLine" id="cb33-12" title="12"></a>
<a class="sourceLine" id="cb33-13" title="13"><span class="ot">    ba ::</span> <span class="dt">B</span> <span class="ot">-&gt;</span> <span class="dt">A</span></a>
<a class="sourceLine" id="cb33-14" title="14">    ba <span class="dt">B0</span> <span class="fu">=</span> <span class="dt">A0</span></a>
<a class="sourceLine" id="cb33-15" title="15">    ba <span class="dt">B1</span> <span class="fu">=</span> <span class="dt">A1</span></a></code></pre></div>
<p>Explicit isomorphism may help reduce newtype boilerplate.</p>
<h3 id="what-4"><span class="section_number">14.6</span><span class="section_title">what</span></h3>
<p>A problem with current programming methodologies is that they don't capture the higher-level properties of software, such as the architecture. For example, how do we write, in a way that the computer can exploit, this statement: &quot;The fields of class C correspond one-to-one with the columns of database table T.&quot;?</p>
<ul>
<li><p>Other people's experiences</p>
<ul>
<li><a href="https://www.quora.com/If-you-were-to-design-a-programming-language-what-other-programming-language-would-it-evolve-from-and-what-aspect-of-that-language-would-you-do-differently">https://www.quora.com/If-you-were-to-design-a-programming-language-what-other-programming-language-would-it-evolve-from-and-what-aspect-of-that-language-would-you-do-differently</a></li>
<li><p><a href="http://beza1e1.tuxen.de/articles/proglang_mistakes.html">5 Mistakes in Programming Language Design ― Andreas Zwinkau</a></p>
<ul>
<li><a href="https://news.ycombinator.com/item?id=1500665">Mistakes in programming language design | Hacker News</a></li>
</ul></li>
<li><a href="https://softwareengineering.stackexchange.com/questions/55047/what-is-the-greatest-design-flaw-you-have-faced-in-any-programming-language">What is the greatest design flaw you have faced in any programming language? - Software Engineering Stack Exchange</a></li>
<li><a href="http://www.inquisition.ca/en/info/gepsypl/rules.htm">Programming Language Design Rules</a></li>
<li><p>1999 Steele article &quot;Growing a language&quot; <a href="http://www.catonmat.net/blog/growing-a-language-by-guy-steele/">html</a></p></li>
</ul></li>
</ul>
<p><a href="https://www.drmaciver.com/2009/01/criticizing-programming-languages/">https://www.drmaciver.com/2009/01/criticizing-programming-languages/</a></p>
<p>Lua design mistakes</p>
<p>Picking different syntax for the sake of being different</p>
<p>for elem in table surprisingly doesn't work, but this is for greater cause; the for syntax is surprisingly consistent (iterators, which are coroutines)</p>
<p>Distinguishing statements and expressions</p>
<p>Why do new language designers still repeat design mistakes?</p>
<h3 id="lisp-design-mistake-having-separate-data-and-function-cell"><span class="section_number">14.7</span><span class="section_title">Lisp design mistake: having separate data and function cell</span></h3>
<h2 id="total-mess"><span class="section_number">15</span><span class="section_title">Total mess</span></h2>
<div class="local_table_of_contents">
<ul>
<li><span class="section_number">15.1</span><span class="section_title"><a href="#literature-research">Literature research</a></span><span class="word_count">(223w~2m)</span></li>
<li><span class="section_number">15.2</span><span class="section_title"><a href="#philosophical-foundations">Philosophical foundations</a></span><span class="word_count">(752w~4m)</span></li>
<li><span class="section_number">15.3</span><span class="section_title"><a href="#catching-mistakes-checking-proving-reasoning-type-systems">Catching mistakes; checking; proving; reasoning; type systems</a></span><span class="word_count">(824w~5m)</span></li>
<li><span class="section_number">15.4</span><span class="section_title"><a href="#what-6">What</a></span><span class="word_count">(2104w~11m)</span></li>
</ul>
</div>
<h3 id="literature-research"><span class="section_number">15.1</span><span class="section_title">Literature research</span></h3>
<p>What literature exists for programming language design?</p>
<p>What can programming language researchers learn from the philosophy of language?</p>
<p>Things to summarize:</p>
<ul>
<li>1966 article &quot;The Next 700 Programming Languages&quot; <a href="http://www.math.bas.bg/bantchev/place/iswim/next700.pdf">http://www.math.bas.bg/bantchev/place/iswim/next700.pdf</a></li>
<li>1997 article &quot;Scripting: Higher Level Programming for the 21st Century&quot; <a href="http://artemisa.unicauca.edu.co/~lgarreta/elenguajes/readings/scripting.pdf">http://artemisa.unicauca.edu.co/~lgarreta/elenguajes/readings/scripting.pdf</a>
<ul>
<li>&quot;This article is an opinion piece that explains why scripting languages will handle many of the programming tasks of the next century better than system programming languages.&quot;</li>
</ul></li>
<li>Other people's opinions about designing programming languages:
<ul>
<li><a href="http://www.inquisition.ca/en/info/gepsypl/rules.htm">http://www.inquisition.ca/en/info/gepsypl/rules.htm</a></li>
<li>2015 dissertation &quot;Evidence-based programming language design: a philosophical and methodological exploration&quot;, <a href="https://jyx.jyu.fi/handle/123456789/47698">abstract</a>, <a href="https://jyx.jyu.fi/bitstream/handle/123456789/47698/978-951-39-6388-0_vaitos04122015.pdf">pdf</a>
<ul>
<li>It's mostly philosophy of what &quot;evidence-based&quot; means.</li>
<li>It doesn't design a programming language.</li>
<li>It could have been shorter.</li>
</ul></li>
<li><a href="https://www.reddit.com/r/ProgrammingLanguages/comments/9ep9xq/what_i_did_not_steal_from_perl_6/">https://www.reddit.com/r/ProgrammingLanguages/comments/9ep9xq/what_i_did_not_steal_from_perl_6/</a>
<ul>
<li>&quot;What's a character?&quot; <a href="https://www.perlmonks.org/?node_id=1214956">https://www.perlmonks.org/?node_id=1214956</a></li>
</ul></li>
<li><a href="https://www.reddit.com/r/ProgrammingLanguages/comments/9eqrfy/what_are_the_biggest_problems_with_programming/">https://www.reddit.com/r/ProgrammingLanguages/comments/9eqrfy/what_are_the_biggest_problems_with_programming/</a></li>
<li>2017 article &quot;The End of History? Using a Proof Assistant to Replace Language Design with Library Design&quot; <a href="https://www.cs.purdue.edu/homes/bendy/Fiat/fiat-snapl.pdf">pdf</a></li>
<li><a href="http://purduepl.github.io/index.html">Purdue university programming languages group</a></li>
</ul></li>
<li>Shopping for ideas:
<ul>
<li><a href="https://www.reddit.com/r/ProgrammingLanguages/comments/8vcrzb/what_are_some_interesting_language_features_that/">What are some interesting language features that may not be well known? : ProgrammingLanguages</a></li>
<li><a href="https://softwareengineering.stackexchange.com/questions/55047/what-is-the-greatest-design-flaw-you-have-faced-in-any-programming-language">https://softwareengineering.stackexchange.com/questions/55047/what-is-the-greatest-design-flaw-you-have-faced-in-any-programming-language</a></li>
<li><a href="https://www.reddit.com/r/ProgrammingLanguages/comments/9erq87/languages_with_separate_types_for_pointers_to_the/">https://www.reddit.com/r/ProgrammingLanguages/comments/9erq87/languages_with_separate_types_for_pointers_to_the/</a></li>
<li><a href="http://math.andrej.com/2009/05/29/mathematically-structured-but-not-necessarily-functional-programming/">http://math.andrej.com/2009/05/29/mathematically-structured-but-not-necessarily-functional-programming/</a></li>
<li>read, &quot;true sums of products&quot; <a href="http://hackage.haskell.org/package/generics-sop">http://hackage.haskell.org/package/generics-sop</a></li>
</ul></li>
<li>&quot;The Programming Languages Zoo […] demonstrates various concepts and techniques used in programming language design and implementation. It is a good starting point […]&quot; <a href="http://plzoo.andrej.com/">http://plzoo.andrej.com/</a></li>
</ul>
<p>Unanswered questions:</p>
<ul>
<li>Is there a homoiconic statically-typed language? Does type system hamper homoiconicity?</li>
<li>Can we make high-level declarative language without garbage collection?</li>
</ul>
<p>Making a programming language <a href="https://www.reddit.com/r/ProgrammingLanguages/comments/9ky7o6/writing_my_own_programming_language/e72qjll/">https://www.reddit.com/r/ProgrammingLanguages/comments/9ky7o6/writing_my_own_programming_language/e72qjll/</a> banzr: 'Racket is taught in universities to be used to write languages. Use &quot;match&quot; and &quot;cases&quot; to build the parser and interpreter. Good luck!'</p>
<p>2017 &quot;Language Oriented Modularity: From Theory to Practice&quot; <a href="http://programming-journal.org/2017/1/10/">http://programming-journal.org/2017/1/10/</a></p>
<p>2017 &quot;Classless Object Semantics&quot; <a href="http://researcharchive.vuw.ac.nz/handle/10063/6681">http://researcharchive.vuw.ac.nz/handle/10063/6681</a></p>
<h3 id="philosophical-foundations"><span class="section_number">15.2</span><span class="section_title">Philosophical foundations</span></h3>
<div class="local_table_of_contents">
<ul>
<li><span class="section_number">15.2.1</span><span class="section_title"><a href="#what-is-computation-computer-programming-language">What is computation, computer, programming, language?</a></span><span class="word_count">(45w~1m)</span></li>
<li><span class="section_number">15.2.2</span><span class="section_title"><a href="#who-use-programming-languages">Who use programming languages?</a></span><span class="word_count">(37w~1m)</span></li>
<li><span class="section_number">15.2.3</span><span class="section_title"><a href="#the-fundamental-reason-why-there-is-no-perfect-language-the-pigeonhole-principle-encoding-length-trade-off">The fundamental reason why there is no perfect language: The pigeonhole principle, encoding length trade-off</a></span><span class="word_count">(114w~1m)</span></li>
<li><span class="section_number">15.2.4</span><span class="section_title"><a href="#ontology-what-exists-in-a-programming-language">Ontology: what exists in a programming language?</a></span><span class="word_count">(9w~1m)</span></li>
<li><span class="section_number">15.2.5</span><span class="section_title"><a href="#philosophical-principles">Philosophical principles</a></span><span class="word_count">(464w~3m)</span></li>
<li><span class="section_number">15.2.6</span><span class="section_title"><a href="#a-lambda-abstraction-is-not-a-function">A lambda abstraction is not a function</a></span><span class="word_count">(65w~1m)</span></li>
<li><span class="section_number">15.2.7</span><span class="section_title"><a href="#the-philosophical-foundation-of-object-orientation">The philosophical foundation of object-orientation?</a></span><span class="word_count">(23w~1m)</span></li>
</ul>
</div>
<h4 id="what-is-computation-computer-programming-language"><span class="section_number">15.2.1</span><span class="section_title">What is computation, computer, programming, language?</span></h4>
<p>Programming is making a computer do what we want it to do.</p>
<p>Languages are divided into several categories:</p>
<ul>
<li>hardware programming, system programming</li>
<li>enterprise application programming</li>
<li>scripting? network administration</li>
<li>markup: XML, Markdown</li>
<li>data: JSON, YAML</li>
</ul>
<p>The question: What is the least-effort way to make a computer do X?</p>
<h4 id="who-use-programming-languages"><span class="section_number">15.2.2</span><span class="section_title">Who use programming languages?</span></h4>
<p>A programming language serves as a means of communication in three cases:</p>
<ul>
<li>human-to-human:</li>
<li>human-to-machine:</li>
<li>machine-to-machine:</li>
</ul>
<p>We advance technologically when we raise the bar for machines (we expect more from machines), not when we expect more from humans. (?)</p>
<h4 id="the-fundamental-reason-why-there-is-no-perfect-language-the-pigeonhole-principle-encoding-length-trade-off"><span class="section_number">15.2.3</span><span class="section_title">The fundamental reason why there is no perfect language: The pigeonhole principle, encoding length trade-off</span></h4>
<p>If we choose to encode something shorter in a language, then other things must be encoded longer. If we make it easier to do something, something else has to become harder.</p>
<p>A language is essentially a Huffman code, a compression scheme, where often-used concepts are encoded more shortly than rarely-used concepts.</p>
<p><em>Language encodes concept into symbols.</em></p>
<p>If there are only 26 letters and 1,000 concepts, then, by the pigeonhole principle, it is simply impossible to encode all those concepts using only 1-letter symbols.</p>
<p>The reason why there is no perfect language is simple: the pigeonhole principle precludes encoding all possible concepts into short words.</p>
<h4 id="ontology-what-exists-in-a-programming-language"><span class="section_number">15.2.4</span><span class="section_title">Ontology: what exists in a programming language?</span></h4>
<ul>
<li>numbers</li>
<li>byte strings</li>
<li>character strings</li>
<li>maps</li>
<li>functions</li>
<li>relations</li>
</ul>
<h4 id="philosophical-principles"><span class="section_number">15.2.5</span><span class="section_title">Philosophical principles</span></h4>
<ol>
<li><p>Philosophical principle, meta-thought, how to find essence</p>
<p>Everything (every language element) should have as few properties as possible. If something has as few properties as possible, then what is left is its essence. Example: In C, the name of a function is a property of that function. In JavaScript, the name of a function is not a property of that function. var add = function(x,y) { return x+y; }</p>
<p>Is the name &quot;x&quot; a property of the variable x in the lambda expression \ x -&gt; x + 1? We can have nameless parameters with de Bruijn indexes.</p></li>
<li><p>The essence of description and computation</p>
<p>The essence of description is the composition of primitives.</p>
<p>Computation is the execution of a computing description.</p>
<p>All computations have repetitions. Turing machine computation is repeated primitive computation. Lambda-calculus beta-normalization is repeated beta-reduction.</p>
<p>Computation is the normalization of an expression to a value.</p>
<p>A logical axiom corresponds to a computing primitive.</p>
<p>A proof corresponds to a computing description (program).</p></li>
<li><p>Programming</p>
<ol>
<li><p>What is a program?</p>
<ul>
<li>A program is represented by
<ul>
<li>a sequence of instructions (procedural programming)</li>
<li>a lambda expression (functional programming)</li>
</ul></li>
</ul></li>
<li><p>Metaprogramming</p>
<ul>
<li>JetBrains MPS</li>
<li><a href="http://txl.ca/index.html">TXL: source transformation by example</a>, what can it do?</li>
<li><a href="http://www.moserware.com/2008/06/ometa-who-what-when-where-why.html">http://www.moserware.com/2008/06/ometa-who-what-when-where-why.html</a></li>
</ul></li>
<li><p>Comparing Ocaml and SML</p>
<ul>
<li><a href="http://adam.chlipala.net/mlcomp/">Comparing Objective Caml and Standard ML</a>, Adam Chlipala
<ul>
<li><a href="https://people.mpi-sws.org/~rossberg/sml-vs-ocaml.html">https://people.mpi-sws.org/~rossberg/sml-vs-ocaml.html</a></li>
</ul></li>
</ul></li>
<li><p>Interoperation</p>
<ul>
<li>Programming languages don't work with each other very well.
<ul>
<li>What we need is not a new programming language, but a way for languages to work together?</li>
</ul></li>
<li><a href="https://mollyrocket.com/casey/stream_0019.html">compression-oriented programming</a></li>
<li>Lisp family/dialects
<ul>
<li>Scheme</li>
<li><a href="https://picolisp.com/wiki/?home">PicoLisp</a></li>
</ul></li>
<li>Undigested
<ul>
<li><a href="https://hakonrossebo.github.io/functional-programming-babelfish/">https://hakonrossebo.github.io/functional-programming-babelfish/</a></li>
<li><a href="https://github.com/rainbyte/haskell-ide-chart">https://github.com/rainbyte/haskell-ide-chart</a></li>
<li><a href="http://docs.mamedev.org/techspecs/luaengine.html">http://docs.mamedev.org/techspecs/luaengine.html</a></li>
</ul></li>
<li>The source code is a textual representation of the abstract syntax tree (AST).</li>
<li>The source code is unimportant cosmetics. We should care about the ASTs and transformations between ASTs. We should read, write, and edit ASTs directly, not text. The editor should not parse text into AST; it should generate text from AST.</li>
<li>Language-oriented programming? Data-first programming?
<ul>
<li>Data is the most important thing.
<ul>
<li>Because data is harder to back up than code?</li>
</ul></li>
<li>Program translates the shape of data.</li>
<li>Describe what you want, and write code that follows that description to call the lower-level implementation details.</li>
</ul></li>
<li>Programming language design
<ul>
<li>Which should we start with?
<ul>
<li>Semantics (high-level, top-down language design)</li>
<li>Machine code (low-level, bottom-up language design)</li>
</ul></li>
<li>Every enhancement reduces cognitive load.</li>
<li>Example of bottom-up language design and how each level reduces cognitive load:
<ul>
<li>Begin with machine code.</li>
<li>Provide mnemonics for instructions.</li>
<li>Provide the illusion of infinite custom-named registers and orthogonal operands.</li>
<li>Provide macros subroutines as extensible instructions.</li>
<li>Provide the illusion of infinite custom-named registers and orthogonal operands.</li>
<li>Provide macros and subroutines as extensible instructions.</li>
<li>Provide named locations.</li>
<li>Provide the illusion of infinite memory.</li>
<li>Abstract away processor registers.</li>
<li>Abstract away pointers.</li>
<li>Expression.</li>
<li>Infix expression syntax.</li>
<li>First-class functions.</li>
<li>The program itself is a procedural program that tells the interpreter what code to generate.</li>
<li>End up with something like Randall Hyde's High Level Assembly?</li>
</ul></li>
</ul></li>
<li>PL research
<ul>
<li><a href="https://www.microsoft.com/en-us/research/publication/implementing-functional-languages-a-tutorial/">1992, book, &quot;Implementing functional languages: a tutorial&quot;</a></li>
</ul></li>
<li>Improve an existing language instead of starting new?</li>
<li>What is this? <a href="http://reasonablypolymorphic.com/blog/elm-is-wrong">http://reasonablypolymorphic.com/blog/elm-is-wrong</a></li>
</ul></li>
<li><p>Interesting languages?</p>
<ol>
<li><p>Rebol? Rebol metaprogramming?</p>
<p><a href="https://en.m.wikipedia.org/wiki/REBOL">https://en.m.wikipedia.org/wiki/REBOL</a></p></li>
<li><p>Carp lisp dialect?</p></li>
</ol></li>
<li><p>Scheme vs Lisp:</p>
<ul>
<li>A Lisp implementation doesn't have to have proper tail calls.</li>
<li>A Scheme implementation must have proper tail calls.</li>
</ul></li>
<li><p>Type systems</p>
<ul>
<li>Types help computers help us.
<ul>
<li>Types prevent some mistakes.</li>
<li>Types are part of documentation.
<ul>
<li>Types help us write an IDE.</li>
</ul></li>
</ul></li>
</ul></li>
</ol></li>
</ol>
<h4 id="a-lambda-abstraction-is-not-a-function"><span class="section_number">15.2.6</span><span class="section_title">A lambda abstraction is not a function</span></h4>
<p>A mathematical function is a triple <span class="math inline">\((A,B,F)\)</span> where <span class="math inline">\(A\)</span> is the domain, <span class="math inline">\(B\)</span> is the codomain, and <span class="math inline">\(F \subseteq A \times B\)</span> is the mapping.</p>
<p>A lambda abstraction <span class="math inline">\( \lambda x. y \)</span> is not the <em>same</em> as a function <span class="math inline">\( x \mapsto y \)</span>.</p>
<p>The expression 1 + 2 is not the <em>same</em> as the number 3. That expression <em>evaluates</em> to that number.</p>
<h4 id="the-philosophical-foundation-of-object-orientation"><span class="section_number">15.2.7</span><span class="section_title">The philosophical foundation of object-orientation?</span></h4>
<p>Identity?</p>
<p>Properties?</p>
<p>What does &quot;X is a Y&quot; mean?</p>
<p>What does &quot;Every X is a Y&quot; mean?</p>
<p>First-order logical meaning of object-oriented definitions?</p>
<pre class="example"><code>Car my_car = new Car(); // my_car is a Car.
class What extends Car {} // Every What is a Car.
</code></pre>
<span class="math display">\[\begin{align*}
Car(my\_car)
\\
\forall x : What(x) \to Car(x)
\end{align*}
\]</span>
<h3 id="catching-mistakes-checking-proving-reasoning-type-systems"><span class="section_number">15.3</span><span class="section_title">Catching mistakes; checking; proving; reasoning; type systems</span></h3>
<div class="local_table_of_contents">
<ul>
<li><span class="section_number">15.3.1</span><span class="section_title"><a href="#curry-style-extrinsic-typing-instead-of-church-style-intrinsic-typing">Curry-style extrinsic typing instead of Church-style intrinsic typing</a></span><span class="word_count">(294w~2m)</span></li>
<li><span class="section_number">15.3.2</span><span class="section_title"><a href="#what-is-a-type-understanding-what-a-type-is-from-how-it-is-used">What is a type? Understanding what a type is from how it is used</a></span><span class="word_count">(199w~1m)</span></li>
<li><span class="section_number">15.3.3</span><span class="section_title"><a href="#church-types-and-curry-types">Church types and Curry types</a></span><span class="word_count">(35w~1m)</span></li>
<li><span class="section_number">15.3.4</span><span class="section_title"><a href="#row-polymorphism">Row polymorphism</a></span><span class="word_count">(53w~1m)</span></li>
<li><span class="section_number">15.3.5</span><span class="section_title"><a href="#what-5">what</a></span><span class="word_count">(54w~1m)</span></li>
<li><span class="section_number">15.3.6</span><span class="section_title"><a href="#parametricity">Parametricity</a></span><span class="word_count">(62w~1m)</span></li>
<li><span class="section_number">15.3.7</span><span class="section_title"><a href="#subtyping">Subtyping</a></span><span class="word_count">(29w~1m)</span></li>
<li><span class="section_number">15.3.8</span><span class="section_title"><a href="#type-checking">Type-checking</a></span><span class="word_count">(42w~1m)</span></li>
<li><span class="section_number">15.3.9</span><span class="section_title"><a href="#algebraic-subtyping">Algebraic subtyping?</a></span><span class="word_count">(58w~1m)</span></li>
</ul>
</div>
<h4 id="curry-style-extrinsic-typing-instead-of-church-style-intrinsic-typing"><span class="section_number">15.3.1</span><span class="section_title">Curry-style extrinsic typing instead of Church-style intrinsic typing</span></h4>
<p>Types help, but they are not the essence. Types are a means of writing better programs, not an end to be achieved for its own sake. Type should not be a property of an expression. Prefer Curry-style (domain-free) type system to Church-style (domainful) type system.</p>
<p>&quot;Domain-Free Pure Type Systems&quot; <a href="https://pdfs.semanticscholar.org/e638/74519839d4f2baf27f95078fc50ed0540fed.pdf">https://pdfs.semanticscholar.org/e638/74519839d4f2baf27f95078fc50ed0540fed.pdf</a></p>
<p>But, if we don't have types, how do we resolve overloading? We can't resolve overloading without context. The only context we have is what variable has what type.</p>
<p>For example, this is an example essence of a business logic:</p>
<pre class="example"><code>discount_percent P = 0
  + (if old P then 10 else 0)
  + (if student P then 10 else 0)
  + (if pregnant P then 10 else 0)
</code></pre>
<p>The meaning is as in mathematics: all numbers are real numbers. Realization then produces a restricted subset of that description that works for all numbers whose magnitude is smaller than 2^63. A program is a restricted (realized, finitized) mathematical description. Example: The mathematical description f x = x + 1 works with all real numbers. The program works with all natural numbers from 0 to 2^64-1. The realization of a mathematical function (A,B,F) is simply a finite subset of it: (A',B',F'), where A', B', and F' are finite. Even if you use arbitrary-precision arithmetic, you are still limited to the memory of the machine. For example, if the machine only has 1000 bytes of memory, then it can only realize number smaller than 2<sup>(1000 * 8)</sup>.</p>
<p>Ocaml has first-class modules, but can it import a file into a module? <a href="https://v1.realworldocaml.org/v1/en/html/first-class-modules.html">https://v1.realworldocaml.org/v1/en/html/first-class-modules.html</a></p>
<p>What JavaScript does right:</p>
<ul>
<li>a module is a plain JavaScript object</li>
<li>it is possible import a file into a module referred by a local variable</li>
</ul>
<p>What Ocaml does right:</p>
<ul>
<li>local import</li>
</ul>
<p>Ocaml design mistake: Tying module name to file name. &quot;Source files in OCaml are tied into the module system, with each file compiling down into a module whose name is derived from the name of the file.&quot; <a href="https://v1.realworldocaml.org/v1/en/html/files-modules-and-programs.html">https://v1.realworldocaml.org/v1/en/html/files-modules-and-programs.html</a></p>
<h4 id="what-is-a-type-understanding-what-a-type-is-from-how-it-is-used"><span class="section_number">15.3.2</span><span class="section_title">What is a type? Understanding what a type is from how it is used</span></h4>
<p>Mathematically, A type is a set whose membership is syntactically decidable.</p>
<p>Engineeringly, A type gives meaning to bit patterns.</p>
<p>A type encodes meaning into bit patterns.</p>
<ul>
<li>For example, consider the bit pattern 11111111.
<ul>
<li>It means -1 as an int8.</li>
<li>It means 127 as an uint8.</li>
</ul></li>
<li>Types help translate programs.</li>
</ul>
<p>Type system helps machines help us. We shouldn't focus on type systems. We should focus on logic. We should focus on making machines help us. The question is not how to make a good type system. The question is how to offload the job as much as possible from humans to machines.</p>
<p>A programming language is a formal system. A type system is a formal system. Therefore a type system is a formal system embedded in a bigger formal system that is a programming language.</p>
<p>Programming languages have semantics, even if it is implicit.</p>
<p>A type defines the memory layout (bit pattern) of its values.</p>
<p>A type constrains values and expressions.</p>
<p>A type determines what values a function can take/give.</p>
<p>There are also other uses of types.</p>
<p>The question is: What is a type? What principles should we follow when we design a language?</p>
<ul>
<li><a href="https://news.ycombinator.com/item?id=8045115">https://news.ycombinator.com/item?id=8045115</a>
<ul>
<li><a href="https://existentialtype.wordpress.com/2011/03/19/dynamic-languages-are-static-languages/">Dynamic Languages are Static Languages | Existential Type</a></li>
</ul></li>
</ul>
<h4 id="church-types-and-curry-types"><span class="section_number">15.3.3</span><span class="section_title">Church types and Curry types</span></h4>
<p>Things to read:</p>
<ul>
<li>2008, article, &quot;Church and Curry: Combining Intrinsic and Extrinsic Typing&quot;, Frank Pfenning <a href="https://www.cs.cmu.edu/~fp/papers/andrews08.pdf">https://www.cs.cmu.edu/~fp/papers/andrews08.pdf</a></li>
<li>Basic comparison between Church types and Curry types
<ul>
<li><a href="https://lispcast.com/church-vs-curry-types/">https://lispcast.com/church-vs-curry-types/</a></li>
<li><a href="https://www.reddit.com/r/programming/comments/2cavea/church_vs_curry_types_two_conflicting_perspectives/">Church vs Curry Types – Two conflicting perspectives : programming</a></li>
</ul></li>
</ul>
<h4 id="row-polymorphism"><span class="section_number">15.3.4</span><span class="section_title">Row polymorphism</span></h4>
<p>Why is it called row polymorphism? Where is the row? See &quot;Objects and Aspects: Row Polymorphism&quot;, Neel Krishnaswami <a href="https://www.cs.cmu.edu/~neelk/rows.pdf">pdf</a></p>
<p>In the following, the function <code>set_name_r</code> is row-polymorphic. The function <code>set_name_n</code> is not row-polymorphic.</p>
<pre class="example"><code>type Person = { name : String; age : Int; };
type Company = { name : String; location : String; };

set_name_r : String -&gt; {name:String; r;} -&gt; {name:String; r;};
set_name_r new_name {name=n; r;} = {name=new_name; r;};

set_name_n : String -&gt; {name:String;} -&gt; {name:String;};
set_name_n new_name {name=n;} = {name=new_name;};

john : Person;
john = { name=&quot;John&quot;; age = 20; }

joe : Person;
joe = set_name_r &quot;Joe&quot; john;

not_person : {name:String};
not_person = set_name_n &quot;What&quot; john;

abc = { name=&quot;ABC&quot;; location=&quot;1 ABC Way&quot;; };
def = set_name_r &quot;DEF&quot; abc;
</code></pre>
<p>Without row polymorphism, we would have to write set_name twice: once for each type.</p>
<ol>
<li><p>Row polymorphism vs subtyping</p>
<p><a href="https://cs.stackexchange.com/questions/53998/what-are-the-major-differences-between-row-polymorphism-and-subtyping">https://cs.stackexchange.com/questions/53998/what-are-the-major-differences-between-row-polymorphism-and-subtyping</a></p></li>
<li><p>Row polymorphism vs structural subtyping</p>
<p><a href="https://news.ycombinator.com/item?id=13047934">https://news.ycombinator.com/item?id=13047934</a></p></li>
</ol>
<h4 id="what-5"><span class="section_number">15.3.5</span><span class="section_title">what</span></h4>
<ul>
<li>Liquid Haskell <a href="https://ucsd-progsys.github.io/liquidhaskell-blog/">https://ucsd-progsys.github.io/liquidhaskell-blog/</a></li>
<li><a href="https://brianmckenna.org/blog/row_polymorphism_isnt_subtyping">Row Polymorphism Isn't Subtyping - BAM Weblog</a></li>
<li>recursive types <a href="http://ecee.colorado.edu/~siek/ecen5013/spring10/lecture15.pdf">http://ecee.colorado.edu/~siek/ecen5013/spring10/lecture15.pdf</a></li>
<li><a href="http://tomasp.net/coeffects/">http://tomasp.net/coeffects/</a></li>
<li>From Wadler home page
<ul>
<li><a href="http://groups.inf.ed.ac.uk/abcd/">From Data Types to Session Types: A Basis for Concurrency and Distribution</a></li>
</ul></li>
<li><a href="https://www.reddit.com/r/dependent_types/comments/8qig0u/vectors_are_records_too_pdf/">Vectors are records, too (pdf) : dependent_types</a></li>
<li><a href="https://wiki.haskell.org/Untypechecking">https://wiki.haskell.org/Untypechecking</a> is &quot;converting from a type to a term&quot;.</li>
<li>NOOL 2016 article &quot;Static Typing Without Static Types — Typing Inheritance from the Bottom Up&quot; <a href="http://www.it.uu.se/workshop/nool16/nool16-paper4.pdf">pdf</a></li>
<li><a href="https://en.wikipedia.org/wiki/Literate_programming">https://en.wikipedia.org/wiki/Literate_programming</a></li>
</ul>
<h4 id="parametricity"><span class="section_number">15.3.6</span><span class="section_title">Parametricity</span></h4>
<ul>
<li>Every recursive type can be written as `mu a. F a` where F is the associated free functor?
<ul>
<li>Example: `List a = Fix (F a)` where `F a b = 1 + a * b`.</li>
<li>`Fix F = F (Fix F)` is the least fixed point of F.</li>
</ul></li>
<li>Why should we care about parametricity?
<ul>
<li><a href="https://bartoszmilewski.com/2014/09/22/parametricity-money-for-nothing-and-theorems-for-free/">Parametricity: Money for Nothing and Theorems for Free - Bartosz Milewski's Programming Cafe</a></li>
</ul></li>
</ul>
<h4 id="subtyping"><span class="section_number">15.3.7</span><span class="section_title">Subtyping</span></h4>
<p>A subtyping relation is an ordering of types.</p>
<p>So what? That is technically correct but that doesn't give any insights.</p>
<p>A subtype is an ordering that follows the Liskov substitution principle?</p>
<h4 id="type-checking"><span class="section_number">15.3.8</span><span class="section_title">Type-checking</span></h4>
<ul>
<li>Every type checking algorithm is unification (logic programming).
<ul>
<li>If the programmer annotates a term, use that annotation.</li>
<li>If the a term is not annotated, annotate that term with a freshly generated variable.</li>
<li>Unify everything according to the typing rules.</li>
<li>See Algorithm W in <a href="https://en.wikipedia.org/wiki/Hindley%E2%80%93Milner_type_system">WP:Hindley–Milner type system</a>.</li>
</ul></li>
</ul>
<h4 id="algebraic-subtyping"><span class="section_number">15.3.9</span><span class="section_title">Algebraic subtyping?</span></h4>
<ul>
<li>subtyping
<ul>
<li>algebraic subtyping
<ul>
<li>2016, PhD thesis, &quot;Algebraic subtyping&quot;, Stephen Dolan <a href="https://www.cl.cam.ac.uk/~sd601/thesis.pdf">https://www.cl.cam.ac.uk/~sd601/thesis.pdf</a></li>
<li>&quot;Polymorphism, subtyping and type inference in MLsub&quot; <a href="http://www.cl.cam.ac.uk/~sd601/papers/mlsub-preprint.pdf">http://www.cl.cam.ac.uk/~sd601/papers/mlsub-preprint.pdf</a>
<ul>
<li>from <a href="http://lambda-the-ultimate.org/node/5393">http://lambda-the-ultimate.org/node/5393</a>
<ul>
<li>from <a href="https://contributors.scala-lang.org/t/algebraic-subtyping/577">https://contributors.scala-lang.org/t/algebraic-subtyping/577</a></li>
</ul></li>
</ul></li>
</ul></li>
</ul></li>
<li><a href="http://www.cl.cam.ac.uk/~sd601/papers/mlsub-preprint.pdf">http://www.cl.cam.ac.uk/~sd601/papers/mlsub-preprint.pdf</a></li>
<li><a href="https://www.cl.cam.ac.uk/~sd601/thesis.pdf">https://www.cl.cam.ac.uk/~sd601/thesis.pdf</a></li>
<li><a href="https://cs.stackexchange.com/questions/53998/what-are-the-major-differences-between-row-polymorphism-and-subtyping">https://cs.stackexchange.com/questions/53998/what-are-the-major-differences-between-row-polymorphism-and-subtyping</a></li>
<li><a href="https://www.cl.cam.ac.uk/teaching/1415/L28/rows.pdf">https://www.cl.cam.ac.uk/teaching/1415/L28/rows.pdf</a></li>
<li>2017, &quot;Introduction to homotopy type theory&quot;, <a href="http://www.cs.nott.ac.uk/~psztxa/ss-types-17/notes-summer17.pdf">http://www.cs.nott.ac.uk/~psztxa/ss-types-17/notes-summer17.pdf</a></li>
<li><a href="http://www.cs.nott.ac.uk/~psztxa/ss-types-17/">http://www.cs.nott.ac.uk/~psztxa/ss-types-17/</a></li>
<li><a href="https://homotopytypetheory.org/book/">https://homotopytypetheory.org/book/</a></li>
<li><a href="https://en.wikipedia.org/wiki/Subtyping">https://en.wikipedia.org/wiki/Subtyping</a></li>
<li><a href="https://en.wikipedia.org/wiki/Circle-ellipse_problem">https://en.wikipedia.org/wiki/Circle-ellipse_problem</a></li>
<li>What does &quot;X is a Y&quot; mean?</li>
</ul>
<p>It means P(X) =&gt; P(Y) for every predicate P. Liskov substitution principle. Does it mean &quot;X is a subclass of Y&quot; or &quot;X is an instance of Y&quot;?</p>
<h3 id="what-6"><span class="section_number">15.4</span><span class="section_title">What</span></h3>
<div class="local_table_of_contents">
<ul>
<li><span class="section_number">15.4.1</span><span class="section_title"><a href="#introduction-2">Introduction</a></span><span class="word_count">(115w~1m)</span></li>
<li><span class="section_number">15.4.2</span><span class="section_title"><a href="#functional-programming">Functional programming</a></span><span class="word_count">(16w~1m)</span></li>
<li><span class="section_number">15.4.3</span><span class="section_title"><a href="#what-we-do-when-we-understand-programs">What we do when we understand programs</a></span><span class="word_count">(53w~1m)</span></li>
<li><span class="section_number">15.4.4</span><span class="section_title"><a href="#modeling">Modeling</a></span><span class="word_count">(218w~2m)</span></li>
<li><span class="section_number">15.4.5</span><span class="section_title"><a href="#ramble-what-is-programming-language-expressivity">Ramble: What is programming language expressivity?</a></span><span class="word_count">(200w~1m)</span></li>
<li><span class="section_number">15.4.6</span><span class="section_title"><a href="#present-in-acm-sigplan-conferences">Present in ACM SIGPLAN conferences?</a></span><span class="word_count">(26w~1m)</span></li>
<li><span class="section_number">15.4.7</span><span class="section_title"><a href="#swi-prolog-stuff">SWI-Prolog stuff?</a></span><span class="word_count">(96w~1m)</span></li>
<li><span class="section_number">15.4.8</span><span class="section_title"><a href="#ideas">Ideas?</a></span><span class="word_count">(12w~1m)</span></li>
<li><span class="section_number">15.4.9</span><span class="section_title"><a href="#proglang-mess">Proglang mess</a></span><span class="word_count">(1338w~7m)</span></li>
<li><span class="section_number">15.4.10</span><span class="section_title"><a href="#how-many-arguments-does-id-have">How many arguments does id have?</a></span><span class="word_count">(39w~1m)</span></li>
</ul>
</div>
<h4 id="introduction-2"><span class="section_number">15.4.1</span><span class="section_title">Introduction</span></h4>
<ol>
<li><p>Goal</p>
<p>The goal is to build a usable formal language up from lambda calculus.</p>
<p>A <em>formal human language</em> is a formal language that humans use to precisely (unambiguously) communicate technicalities to other humans in a way that is also feasible to machine translation using classical compiler techniques.</p></li>
<li><p>Examples of extending lambda calculus</p>
<ul>
<li><a href="https://sites.ualberta.ca/~jhoover/325/CourseNotes/section/UntypedLambda.htm">Functional Programming - 12. The Extended Untyped lambda Calculus</a></li>
<li>STLC = simply-typed lambda calculus</li>
<li><a href="https://softwarefoundations.cis.upenn.edu/plf-current/MoreStlc.html">Extending STLC</a></li>
<li>1982 article &quot;A consistent extension of the lambda-calculus as a base for functional programming languages&quot;, <a href="https://www.sciencedirect.com/science/article/pii/S0019995882904582">https://www.sciencedirect.com/science/article/pii/S0019995882904582</a></li>
<li>&quot;Extending the Lambda Calculus: An Eager Functional Language&quot;, <a href="http://www.cs.yale.edu/homes/hudak/CS430F07/LectureSlides/Reynolds-ch11.pdf">pdf slides</a></li>
</ul>
<ol>
<li><p><span class="todo TODO">TODO</span> Study OCaml</p>
<p>Caml begets Caml Light begets OCaml.</p>
<ul>
<li><a href="https://ocaml.org/">https://ocaml.org/</a></li>
<li><a href="https://caml.inria.fr/pub/docs/manual-ocaml/coreexamples.html">https://caml.inria.fr/pub/docs/manual-ocaml/coreexamples.html</a></li>
<li><a href="https://caml.inria.fr/resources/doc/faq/core.en.html">https://caml.inria.fr/resources/doc/faq/core.en.html</a></li>
</ul></li>
</ol></li>
<li><p>Principles</p>
<ol>
<li><p>Refer to mathematics, logic, and English.</p></li>
<li><p>Solve the root cause; don't hack.</p></li>
<li><p>Interoperate with existing systems. Improve existing systems. Enable replacement, but don't require it.</p></li>
</ol></li>
</ol>
<h4 id="functional-programming"><span class="section_number">15.4.2</span><span class="section_title">Functional programming</span></h4>
<p>Every functional programming language is lambda calculus plus plus.</p>
<p>Functional programming is lambda calculus plus plus.</p>
<h4 id="what-we-do-when-we-understand-programs"><span class="section_number">15.4.3</span><span class="section_title">What we do when we understand programs</span></h4>
<p>When we are trying to understand a program, what we actually do is we run an <em>abstract interpretation</em> of the program in our head. We <em>model</em> the program in our internal language of thought: logic, most likely first-order logic. &quot;Abstract interpretation&quot; has a specific meaning; see <a href="https://en.wikipedia.org/wiki/Abstract_interpretation">Wikipedia</a>.</p>
<h4 id="modeling"><span class="section_number">15.4.4</span><span class="section_title">Modeling</span></h4>
<ol>
<li><p>Prolog meta-thinking: logic, language, query, and modeling: how many parameters should we use?</p>
<p>Consider these models:</p>
<pre class="example"><code>0 john_loves_mary
1 john_loves(mary)
2 loves(john,mary)
3 subject_verb_object(john,love,mary)
</code></pre>
<p>If we want to pattern match on it, or quantify it (existentially or universally), then it should be a parameter. Example:</p>
<ul>
<li>&quot;Who does John love&quot; can not be answered by 0.</li>
<li>&quot;Who loves who&quot; can not be answered by 1.</li>
<li>&quot;Who does what to whom&quot; can not be answered by 2.</li>
<li>&quot;Who does what to whom at what time&quot; can not be answered by 3.</li>
</ul>
<p>Thus the number of parameters in our model depends on the complexity of the queries that we anticipate. Thus when designing a logic program, we should begin with the <em>queries</em> that we want to anticipate.</p></li>
<li><p>Modeling everything = name-property-value + subject-verb-object + time</p>
<p>Model of everything Entity-attribute-value I call it &quot;name-property-value&quot; to get in line with the terms used in philosophy <a href="https://en.wikipedia.org/wiki/Entity%E2%80%93attribute%E2%80%93value_model">https://en.wikipedia.org/wiki/Entity%E2%80%93attribute%E2%80%93value_model</a></p>
<p>name-property-value</p>
<p>&quot;The color of mycar is black.&quot; :- multifile name_property_value/3. name_property_value(mycar, color, black). name_property_value(mydb, type, database). name_property_value(mydb, subtype, postgresql). name_property_value(mydb, is_a, database).</p>
<p>I think, if the knowledge base is big, it will be very confusing to trace which rule causes which name to have which property.</p>
<p>name_property_value(N, host, V) :- name_property_value(N, type, database), name_property_value(N, spec, Spec), member(host(V), Spec).</p>
<p>&quot;Show me all databases.&quot; ?- name_property_value(E, type, database). % press semicolon repeatedly</p>
<p>&quot;X is a database&quot; vs &quot;The type of X is database&quot; (The attribute &quot;type&quot; of X has the value &quot;database&quot;)</p></li>
</ol>
<h4 id="ramble-what-is-programming-language-expressivity"><span class="section_number">15.4.5</span><span class="section_title">Ramble: What is programming language expressivity?</span></h4>
<ul>
<li>Hierarchy of programming language semantics?
<ul>
<li><a href="https://en.wikipedia.org/wiki/Semantic_spectrum">https://en.wikipedia.org/wiki/Semantic_spectrum</a> ?</li>
</ul></li>
<li>Hierarchy of formal languages
<ul>
<li><a href="https://en.wikipedia.org/wiki/Chomsky_hierarchy">https://en.wikipedia.org/wiki/Chomsky_hierarchy</a></li>
<li>Hierarchy of machines recognizing those languages?
<ul>
<li><a href="https://www.reddit.com/r/compsci/comments/35w0du/a_question_about_formal_language_and_automata/">https://www.reddit.com/r/compsci/comments/35w0du/a_question_about_formal_language_and_automata/</a></li>
</ul></li>
<li><a href="https://en.wikipedia.org/wiki/Expressive_power_(computer_science)">https://en.wikipedia.org/wiki/Expressive_power_(computer_science)</a></li>
<li>1991, Felleisen, &quot;On the expressiveness of programming languages&quot;
<ul>
<li>1989, Hoare, &quot;The varieties of programming languages&quot;</li>
<li>1988, Williams, &quot;On the formalization of semantic conventions&quot;</li>
</ul></li>
</ul></li>
<li>Unread
<ul>
<li><a href="http://fsl.cs.illinois.edu/index.php/Programming_Language_Design_and_Semantics">http://fsl.cs.illinois.edu/index.php/Programming_Language_Design_and_Semantics</a></li>
<li>zig is better than go?
<ul>
<li><a href="https://news.ycombinator.com/item?id=12378922">HN: Zig: a system language which prioritizes optimality, safety, and readability</a></li>
</ul></li>
</ul></li>
</ul>
<p>What if we define language expressivity this way?</p>
<p>&quot;J-expressive&quot; means &quot;expressive with respect to language J (judge)&quot;</p>
<p>Language S (strong) is more J-expressive than language W (weak) iff the shortest interpreter for J in S is shorter than the shortest interpreter for J in W, without caring about speed.</p>
<p>Language A is more complex than language B iff A is more B-expressive than B is A-expressive.</p>
<p>Prolog is simple to reason but hard to implement? Java is hard to reason but simple to implement? It is easier to write Prolog interpreter in Java than to write Java interpreter in Prolog. But how does Prolog's simplicity enables us to write better programs? If a language is more complex, shouldn't it be more expressive/powerful? What is the relationship between complexity, expressivity, and power? What is expressivity?</p>
<p>I can make a language more complex without adding expressivity, by adding features that don't fit with the language?</p>
<h4 id="present-in-acm-sigplan-conferences"><span class="section_number">15.4.6</span><span class="section_title">Present in ACM SIGPLAN conferences?</span></h4>
<p>ACM SIGPLAN POPL/PLDI/SLE <a href="https://www.sigplan.org/Conferences/">https://www.sigplan.org/Conferences/</a> seem to be the right conferences to disseminate this idea, but I should clean up this article first.</p>
<h4 id="swi-prolog-stuff"><span class="section_number">15.4.7</span><span class="section_title">SWI-Prolog stuff?</span></h4>
<ol>
<li><p>What should SWI-Prolog modules be?</p>
<p>We want these to separate names and referents:</p>
<ul>
<li>anonymous modules</li>
<li>anonymous predicates</li>
<li>load file content into an anonymous module</li>
</ul>
<p>consult(++FilePath, –Module)</p>
<p>SWI-Prolog module/1 option of load_files/2 enables the caller to separate a name and a module. A module still has to be named, but now the module user decides the name.</p>
<p>A module is a dictionary.</p>
<p>SWI-Prolog dynamic module may be saving grace.</p>
<p>Prolog has dynamic scoping. Dynamic scoping is a mistake. Prolog should have lexical scoping.</p>
<p>Explicit linking directive modulename_filepath(foo, library(mylib/foo))</p></li>
<li><p>Prolog module clash = game over? Can logtalk save the day?</p>
<p><a href="https://logtalk.org/rationale.html">https://logtalk.org/rationale.html</a></p>
<ul>
<li>comparison of the module systems of various Prolog implementations</li>
</ul></li>
</ol>
<h4 id="ideas"><span class="section_number">15.4.8</span><span class="section_title">Ideas?</span></h4>
<p>The problem of C++ is that it tries to do too much.</p>
<h4 id="proglang-mess"><span class="section_number">15.4.9</span><span class="section_title">Proglang mess</span></h4>
<p>A Logic Programming Language with Lambda-Abstraction, Function Variables, and Simple Unification</p>
<p><a href="https://pdfs.semanticscholar.org/8935/8a00317f9e380abe02b9f0d04536a6cd3121.pdf">https://pdfs.semanticscholar.org/8935/8a00317f9e380abe02b9f0d04536a6cd3121.pdf</a></p>
<p><a href="https://www.google.co.id/amp/s/amp.reddit.com/r/ProgrammingLanguages/comments/6gsacs/any_info_on_compiling_lambda_calculus_to_other/">https://www.google.co.id/amp/s/amp.reddit.com/r/ProgrammingLanguages/comments/6gsacs/any_info_on_compiling_lambda_calculus_to_other/</a> Compiling without continuations</p>
<p>Prolog dcg vs Haskell happy vs parsec <a href="https://www.quora.com/Is-Prolog-still-the-best-logic-programming-language-as-of-2016">https://www.quora.com/Is-Prolog-still-the-best-logic-programming-language-as-of-2016</a></p>
<p><a href="https://www.mercurylang.org/documentation/papers.html">https://www.mercurylang.org/documentation/papers.html</a> <a href="http://www.cse.chalmers.se/~oloft/Papers/wm96/node2.html">http://www.cse.chalmers.se/~oloft/Papers/wm96/node2.html</a> Google search pure log. pro.</p>
<p>Purifying prolog IO using state threading Sequential print(W0,M0,W1), print(W1,M1,W2) Parallel print(W0,M0,W1), print(W0,M1,W2), join(W1,W2,W3)</p>
<p><a href="http://batsov.com/articles/2012/02/19/package-management-in-emacs-the-good-the-bad-and-the-ugly/">http://batsov.com/articles/2012/02/19/package-management-in-emacs-the-good-the-bad-and-the-ugly/</a> <a href="http://milkbox.net/">http://milkbox.net/</a></p>
<p>Transforming AST to ASG by hashing every syntax element.</p>
<p>The one devops tool to rule them all</p>
<p>DADL is what we want for devops?</p>
<p>Extracting Instruction Semantics via Symbolic Execution of Code <a href="https://github.com/trailofbits/codereason">https://github.com/trailofbits/codereason</a> &quot;CodeReason is a semantic binary code analysis framework and toolset.&quot;</p>
<p>Opalang's database support is interesting.</p>
<p><a href="https://opensource.com/tools/supply-chain-management">https://opensource.com/tools/supply-chain-management</a></p>
<p>2006 article &quot;Poitín: Distilling Theorems From Conjectures&quot; <a href="https://www.sciencedirect.com/science/article/pii/S1571066106001149">https://www.sciencedirect.com/science/article/pii/S1571066106001149</a></p>
<p>1984 publication &quot;A Logic for the Russell Programming Language&quot; <a href="https://ecommons.cornell.edu/handle/1813/6433">https://ecommons.cornell.edu/handle/1813/6433</a></p>
<p>ICSE 1982 article &quot;Capturing more world knowledge in the requirements specification&quot; <a href="https://dl.acm.org/citation.cfm?id=800254.807765">https://dl.acm.org/citation.cfm?id=800254.807765</a></p>
<p>ICSE 1987 article &quot;Process models, process programs, programming support&quot; <a href="https://dl.acm.org/citation.cfm?id=41765.41767">https://dl.acm.org/citation.cfm?id=41765.41767</a></p>
<p>On the power-series expansion of a rational function <a href="http://matwbn.icm.edu.pl/ksiazki/aa/aa62/aa6233.pdf">http://matwbn.icm.edu.pl/ksiazki/aa/aa62/aa6233.pdf</a></p>
<ul>
<li>Example of ontology for accomodation; related to data modeling:</li>
</ul>
<p><a href="http://ontologies.sti-innsbruck.at/acco/ns.html#overview">http://ontologies.sti-innsbruck.at/acco/ns.html#overview</a></p>
<p>Should we just use Opa or Ur/Web? Which should we use, Opa or Ur/Web? <a href="https://en.wikipedia.org/wiki/Opa_(programming_language)">https://en.wikipedia.org/wiki/Opa_(programming_language)</a> &quot;It can be used for both client-side and server-side scripting, where complete programs are written in Opa and subsequently compiled to Node.js on the server and JavaScript on the client, <strong>with the compiler automating all communication between the two</strong>.&quot; (emphasis mine) <a href="https://en.wikipedia.org/wiki/Ur_(programming_language)">https://en.wikipedia.org/wiki/Ur_(programming_language)</a> &quot;[…] from a single program produces server code, browser client code and SQL code specific for the chosen database backend.&quot;</p>
<p>Inspired by English, XQuery, and ML.</p>
<p>Use Landin offside rule to infer closing tags:</p>
<pre class="example"><code>let page title body =
  &lt;html&gt;
    &lt;head&gt;
      &lt;title&gt;{title}&lt;/title&gt;
    &lt;/head&gt;
    &lt;body&gt;{body}&lt;/body&gt;
  &lt;/html&gt;
in
if subpath begins with /url1/url2 {
  if subpath begins with /url3 {
    if request method is GET { (* This handles GET /url1/url2/url3 *)
      let strong text = &lt;strong&gt;{text}&lt;/strong&gt; in
      page &quot;Hello&quot; &lt;div&gt;{strong &quot;Hello&quot;}&lt;/div&gt;
      &lt;html&gt;
        &lt;body&gt;
          {strong Hello}
    }
  }
}

&lt;html&gt;
  &lt;body&gt;
    {strong Hello}

+ GET /url1/url2/url3 {page &quot;title&quot; &lt;strong&gt;hello&lt;/strong&gt;}
+ GET /url1/url2/url4 {page &quot;url4&quot; &lt;strong&gt;what&lt;/strong&gt;}
</code></pre>
<p>We don't need to create a new surface syntax. We can shallow-embed the DSL in Ocaml.</p>
<p>We need a new surface syntax if we want to generate routing data structure at compile time. The choice for the data structures are:</p>
<ul>
<li>We can use a hash table.</li>
<li>We can use a prefix tree.</li>
</ul>
<pre class="example"><code>match-criteria { what-to-do-if-match }

expr returning node

Program ::= if Condition { Program } | serve PageExp
Condition ::= true | subpath begins with String | client accepts Accept | request method is String
String ::= &lt;non-space&gt;+ | Quote &lt;non-quote&gt;+ Quote
PageExp ::= Node | { MLNodeExp }
</code></pre>
<ul>
<li><p><a href="https://stackoverflow.com/questions/26379582/difference-between-munch-and-many-satisfy-p">https://stackoverflow.com/questions/26379582/difference-between-munch-and-many-satisfy-p</a></p></li>
<li><p><a href="https://github.com/jozefg/learn-tt">https://github.com/jozefg/learn-tt</a></p></li>
</ul>
<ul>
<li>&quot;Scala by example&quot; online book</li>
</ul>
<p>I think most people believe &quot;I don't really understand what my coworkers do but I believe they're doing it well.&quot;</p>
<ul>
<li>Stages of academic productivity:
<ul>
<li>You don't build on any past work. You start things and abandon them soon after. You redo your own work. You redo others' work without knowing it.</li>
<li>You know other people' work, but pride prevents you from even considering to study that work. You want to reinvent everything.</li>
<li>You learn to build on your past work.</li>
<li>You study other people's work, but you think you can do better.</li>
<li>You learn to build on other people's work.</li>
<li>You look for others who might share your interests.</li>
<li>You don't care whether it's you or someone else who solves the research problem. All you want is to see it solved.</li>
</ul></li>
</ul>
<p>You write a parser in C. You rewrite the parser in Scheme. You rewrite the parser again in Haskell. Then you search for the essence of programming. Then you stop writing parsers. Now you write the grammar instead, and find a way to generate the parser from the grammar. You also look for a way to generate the pretty printer from the grammar. You find Prolog.</p>
<ul>
<li>citizen researcher, &quot;academic spelunker&quot;</li>
</ul>
<p><a href="https://lptk.github.io/programming/2018/10/04/comprehending-monoids-with-class.html">https://lptk.github.io/programming/2018/10/04/comprehending-monoids-with-class.html</a></p>
<p><a href="http://hazel.org/">http://hazel.org/</a> &quot;Hazel is a live functional programming environment featuring typed holes.&quot;</p>
<p><a href="http://tomasp.net/blog/2018/programming-interaction/">http://tomasp.net/blog/2018/programming-interaction/</a></p>
<p>1999 article &quot;Essence—An LR Parser Generator for Scheme&quot; <a href="http://s48.org/essence/doc/essence.pdf">http://s48.org/essence/doc/essence.pdf</a> &quot;The generated parsers result from the general parser by an automatic program transformation called <em>partial evaluation</em>.&quot; Holy shit.</p>
<p><a href="https://mortoray.com/2012/07/20/why-i-dont-use-a-parser-generator/">https://mortoray.com/2012/07/20/why-i-dont-use-a-parser-generator/</a></p>
<ul>
<li>&quot;One key aspect that bothers me with many of the tools is the requirement to have a distinct first lexing phase.&quot; I agree. That requirement is an unnecessary restriction for 2018 computers.</li>
</ul>
<p>2018 article &quot;SweetPea: A Language for Designing Experiments&quot;</p>
<p>polymorphism 2018 article &quot;A Principled approach to Ornamentation in ML&quot;</p>
<p>POPL 2018 talk &quot;Formal Methods and the Law&quot;: formalizing code-based law &quot;[…] computational analysis of these formalizations may discover previously overlooked tax avoidance techniques.&quot;</p>
<p>can ocaml polymorphic variants be used for row-polymorphic record types?</p>
<p>2015 article &quot;A Crash Course on ML Modules&quot; <a href="https://jozefg.bitbucket.io/posts/2015-01-08-modules.html">https://jozefg.bitbucket.io/posts/2015-01-08-modules.html</a></p>
<p>mapping between Haskell type classes and ML modules 2006 article &quot;Modular Type Classes&quot;:</p>
<ul>
<li>&quot;We present a smooth integration of type classes and modules that provides a foundation for future work on incorporating type classes into ML and a proper module system into Haskell&quot;</li>
</ul>
<p><a href="https://people.mpi-sws.org/~dreyer/papers/mtc/main-long.pdf">https://people.mpi-sws.org/~dreyer/papers/mtc/main-long.pdf</a></p>
<ul>
<li>&quot;Introduction&quot; <a href="http://maude.cs.illinois.edu/maude2-manual/html/maude-manualch1.html">http://maude.cs.illinois.edu/maude2-manual/html/maude-manualch1.html</a></li>
<li>&quot;Maude is a high-performance reflective language and system supporting both equational and rewriting logic specification and programming for a wide range of applications.&quot; <a href="http://maude.cs.illinois.edu/w/index.php/Maude_Overview">http://maude.cs.illinois.edu/w/index.php/Maude_Overview</a></li>
<li>&quot;Functional Modules&quot; <a href="http://maude.cs.illinois.edu/maude2-manual/html/maude-manualch4.html">http://maude.cs.illinois.edu/maude2-manual/html/maude-manualch4.html</a></li>
</ul>
<p>&quot;Code of ethics doesn't influence decisions of software developers&quot; <a href="https://www.reddit.com/r/programming/comments/9myr6a/code_of_ethics_doesnt_influence_decisions_of/">https://www.reddit.com/r/programming/comments/9myr6a/code_of_ethics_doesnt_influence_decisions_of/</a></p>
<p>miniKanren for compilers? Relational programming for compiler writing/</p>
<p>2013 article Spoofax vs Xtext <a href="http://msdl.cs.mcgill.ca/people/hv/teaching/MSBDesign/201314/projects/Leonard.Elezi/report/reading_report.pdf">http://msdl.cs.mcgill.ca/people/hv/teaching/MSBDesign/201314/projects/Leonard.Elezi/report/reading_report.pdf</a></p>
<p><a href="http://flint.cs.yale.edu/cs421/case-for-ml.html">http://flint.cs.yale.edu/cs421/case-for-ml.html</a> <a href="http://troydm.github.io/blog/2014/03/29/writing-micro-compiler-in-ocaml/">http://troydm.github.io/blog/2014/03/29/writing-micro-compiler-in-ocaml/</a> <a href="https://stackoverflow.com/questions/14632870/creating-a-compiler-learn-ocaml-or-stick-with-java-c-c">https://stackoverflow.com/questions/14632870/creating-a-compiler-learn-ocaml-or-stick-with-java-c-c</a></p>
<p><a href="https://people.mpi-sws.org/~rossberg/sml-vs-ocaml.html#exceptions">https://people.mpi-sws.org/~rossberg/sml-vs-ocaml.html#exceptions</a></p>
<p>OCaml looks good ML language family: Why 'a tree instead of tree a?</p>
<p>Spoofax vs Xtext vs MPS?</p>
<p><a href="https://www.metaborg.org/en/latest/">https://www.metaborg.org/en/latest/</a></p>
<ul>
<li>What you give Spoofax: language definitions.</li>
<li>What Spoofax gives you: the IDE for the languages.</li>
</ul>
<p>!!! Write program transformation systems in Prolog or Mercury.</p>
<p>Clear <a href="https://www.metalevel.at/prolog/data">https://www.metalevel.at/prolog/data</a></p>
<p>Logic programming is natural match for program checking.</p>
<p>Transform</p>
<p>entity(Name, Fields) entity(what,[ [id,int32,nullable], [name,varchar(byte(60))] ]). each(sql_java_type_eqv, [(int32,int), (int64,long)]). let(F = long_pred_name, F(int32,int)).</p>
<p>into</p>
<p>field(Entity_name, Field_name, Sql_type,</p>
<p><a href="https://stackoverflow.com/questions/50512673/prolog-variable-as-functor">https://stackoverflow.com/questions/50512673/prolog-variable-as-functor</a></p>
<p>entity_field(Entity, [Name, Type | Opts]) one_to_many(A, B) relation_1_n_entity_entity(Rel, A, B)</p>
<p>We can change Prolog's search strategy by using metapredicates? Cite?</p>
<p>Prolog record type? Prolog beta reduction? SWI-Prolog has IDEs</p>
<p>&quot;The power of Prolog&quot; <a href="https://www.metalevel.at/prolog">https://www.metalevel.at/prolog</a> Timeline: Prolog, miniKanren, Godel, Mercury?</p>
<p><a href="https://www.researchgate.net/publication/221266897_A_Compiler_Written_in_Prolog_The_Veda_Experience">https://www.researchgate.net/publication/221266897_A_Compiler_Written_in_Prolog_The_Veda_Experience</a> <a href="http://faculty.cooper.edu/smyth/cs225/ch7/prolog.htm">http://faculty.cooper.edu/smyth/cs225/ch7/prolog.htm</a> <a href="https://dtai.cs.kuleuven.be/projects/ALP/newsletter/archive_93_96/net/grammars/compiler2.html">https://dtai.cs.kuleuven.be/projects/ALP/newsletter/archive_93_96/net/grammars/compiler2.html</a> <a href="https://docs.racket-lang.org/reference/match.html">https://docs.racket-lang.org/reference/match.html</a> <a href="http://esumii.github.io/min-caml/index-e.html">http://esumii.github.io/min-caml/index-e.html</a> <a href="http://adam.chlipala.net/mlcomp/">http://adam.chlipala.net/mlcomp/</a></p>
<p>External type checking in the style of Erlang Dialyzer.</p>
<p>A type checker is a function from AST to Extended AST.</p>
<p>Resource should be freed as soon as it is not used.</p>
<p>How should we think of compile-time checking?</p>
<ul>
<li>Compile-time errors <em>predicts</em> runtime errors.</li>
<li>Compile-time errors <em>preclude</em> runtime errors.</li>
</ul>
<p>Type checking is a special case of program checking.</p>
<p><a href="https://medium.com/@daveford/what-i-want-in-a-type-system-1316a78365b">https://medium.com/@daveford/what-i-want-in-a-type-system-1316a78365b</a></p>
<p>Compile-time is a model of runtime. We don't model hardware errors.</p>
<p>Using DCG to parse CST</p>
<p>The principle: the rules must incorporate the parsed input. Don't remove information.</p>
<p>I changed my mind. Write a DCG metainterpreter that adds location data to the token stream. Separate the concerns.</p>
<p>&quot;Separating concerns with metainterpreters&quot; may be a worthy talk.</p>
<p>&quot;Separating cross-cutting concerns with Prolog metainterpreters&quot;</p>
<p>A CST node is either F(Code) or F(Child1, …, ChildN) where F is a functor and each ChildK is a CST node and Code is a character code An error node is error(Message, A, B) It means that the parser encounters an error and resyncs to B A is the offending subinput</p>
<p>exp(plus(M, N)) :- … exp(number(F,R)) :- … exp(digit(D)) :- …</p>
<p>Use [plus,M,N] instead of plus(M,N) Comments</p>
<p>data CST = Space Char | Digit Char | Number CST CST | Plus CST CST | Error Msg CST CST</p>
<p>exp :: String -&gt; CST</p>
<p>It is possible to reconstruct the input string from the CST.</p>
<p>What is the difference between Scheme match library and ML pattern matching?</p>
<p>Experiment</p>
<p>A=[1,2],append(A,B,C) infinite B=[1,2],append(A,B,C) infinite C=[1,2],append(A,B,C) infinite In order for C to be length-ground when append/3 exits:</p>
<ul>
<li>A and B are length-ground, or</li>
<li>C is length-ground.</li>
</ul>
<p>append(A,B,C)</p>
<p>S ::= &lt;empty&gt; | S a s(A) :- append([S0,[0'a],S1],A), s(S0), s(S1).</p>
<ul>
<li>A terminal cannot be empty.</li>
<li>Each right-hand side must contain at least one terminal. We require that every rule consume at least one character. This is so that the recursion is always decreasing.</li>
<li>The generated parser requires that the input be length-ground. If the input is not length-ground, the parser may not terminate.</li>
</ul>
<p>number ::= digit ; digit, number.</p>
<p>expression ::= number ; expression, &quot;+&quot;, expression.</p>
<p>% Preprocessing.</p>
<p>% Terminal. translate(STRING, t(CODES)) :- string(STRING), string_codes(STRING, CODES).</p>
<p>% Sequence. translate((A, B), s(TA, TB)) :- translate(A, TA), translate(B, TB).</p>
<p>% Choice. translate((A; B), c(TA, TB)) :- translate(A, TA), translate(B, TB).</p>
<p>% Nonterminal. translate(CALL, n(CALL)) :- callable(CALL), functor(CALL, Name, _), \+ member(Name, [',', ';']).</p>
<p>% TODO</p>
<p>% Terminal.</p>
<p>translate(Input, Before, After, STRING, append([Before, CODES, After], Input)) :- string(STRING), string_codes(STRING, CODES).</p>
<p>translate(V_Input, V_Before, V_After, Call, Phrase) :- compound_name_arguments(Call, Functor, Args), compound_name_arguments(Phrase, Functor, Args_1),</p>
<p>rule_body__clause_body(Var_Input, Rule_body, Phrase) :- true , compound_name_arguments(Rule_body, Functor, Args) ,</p>
<p>TODO handle newline code_location_effect(Code, A, B) :- location_right(A, B).</p>
<p>node(Loc_before, Loc_after, Input, Remain)</p>
<p>The location can be inferred from the difference list.</p>
<p>node(Input, Remain) :- …, append(Parsed, Remain, Input). // codes_location(Parsed, Loc0, Loc1)</p>
<p>Embed P in H Embed H in P op let 1200 op val 1200</p>
<p>let x = 1. x(1). let f(X) = X + 1. f(X, X + 1).</p>
<p>Extend SWI Prolog checker library Erlang-Dialyzer-style checker for Prolog</p>
<p>Prolog for computing taxes.</p>
<ul>
<li><a href="https://github.com/cbbrowne/canadiantaxes">https://github.com/cbbrowne/canadiantaxes</a>
<ul>
<li>It uses dynamic predicates.</li>
</ul></li>
</ul>
<p><a href="http://www.swi-prolog.org/pack/list?p=func">http://www.swi-prolog.org/pack/list?p=func</a></p>
<p><a href="https://github.com/SWI-Prolog/issues/issues/14">https://github.com/SWI-Prolog/issues/issues/14</a></p>
<p>&quot;Prolog's Control Constructs in a Functional Setting — Axioms and Implementation&quot; <a href="https://www.cs.ox.ac.uk/publications/publication1149-abstract.html">https://www.cs.ox.ac.uk/publications/publication1149-abstract.html</a></p>
<p>Example of using Xtext, MPS, Spoofax <a href="http://voelter.de/dslbook/markusvoelter-dslengineering-1.0.pdf">http://voelter.de/dslbook/markusvoelter-dslengineering-1.0.pdf</a></p>
<p>Software requirement does not change? It is we who failed to discover the requirement? It is we who failed to discover the underlying reality? But how do we distinguish between design and overengineering?</p>
<p>Functional query expression language all_rows_of(Table) all(Table) from(Table) Table (just Table) project(Columns, InTable) = OutTable join(T1,T2)</p>
<p>Relational query formula language table_row(Table, R) table_columns_projected(T,C,R)</p>
<p><a href="https://dtai.cs.kuleuven.be/projects/ALP/newsletter/archive_93_96/net/exts/monad.html">https://dtai.cs.kuleuven.be/projects/ALP/newsletter/archive_93_96/net/exts/monad.html</a></p>
<p>Prolog gui in logtalk?</p>
<p><a href="https://stackoverflow.com/questions/19832464/what-are-the-minimum-maximum-integers-in-gprolog">https://stackoverflow.com/questions/19832464/what-are-the-minimum-maximum-integers-in-gprolog</a> <a href="http://www.swi-prolog.org/pack/list?p=plgi">http://www.swi-prolog.org/pack/list?p=plgi</a> <a href="http://lambda-the-ultimate.org/node/3813">http://lambda-the-ultimate.org/node/3813</a></p>
<p>Picat language?</p>
<p>Dbpure similar to plspec</p>
<p>&quot;(Parnas, Shore &amp; Weiss 1976) identified five definitions of a 'type'&quot; <a href="https://en.wikipedia.org/wiki/Data_type">https://en.wikipedia.org/wiki/Data_type</a></p>
<ul>
<li>Old content to be reorganized
<ul>
<li>Functional programming research
<ul>
<li>Functional programming in the real world
<ul>
<li>Philip Wadler's list <a href="http://homepages.inf.ed.ac.uk/wadler/realworld/">Functional Programming in the Real World</a></li>
</ul></li>
</ul></li>
</ul></li>
</ul>
<h4 id="how-many-arguments-does-id-have"><span class="section_number">15.4.10</span><span class="section_title">How many arguments does id have?</span></h4>
<p>Iceland_jack asked: <a href="https://twitter.com/ErikDominikus/status/1074009681553707008">https://twitter.com/ErikDominikus/status/1074009681553707008</a></p>
<p>0 in SKI combinator calculus</p>
<p>1 in Haskell / ML / Ocaml / F# / Scheme / JavaScript / untyped lambda-calculus</p>
<p>2 in Idris / Lean / GHC Core / System F / Coq</p>
<h2 id="implementing-programming-languages"><span class="section_number">16</span><span class="section_title">Implementing programming languages</span></h2>
<div class="local_table_of_contents">
<ul>
<li><span class="section_number">16.1</span><span class="section_title"><a href="#choosing-an-underlying-technology-prolog">Choosing an underlying technology: Prolog</a></span><span class="word_count">(116w~1m)</span></li>
<li><span class="section_number">16.2</span><span class="section_title"><a href="#principles-1">Principles</a></span><span class="word_count">(5w~1m)</span></li>
</ul>
</div>
<h3 id="choosing-an-underlying-technology-prolog"><span class="section_number">16.1</span><span class="section_title">Choosing an underlying technology: Prolog</span></h3>
<p>We should prototype our language in Prolog.</p>
<p>We should implement our language in Prolog.</p>
<ul>
<li>2004, parsing in Prolog, &quot;Parsing and Semantics in DCGs&quot; <a href="http://www.inf.ed.ac.uk/teaching/courses/aipp/lecture_slides/11_PS_DCGs.pdf">http://www.inf.ed.ac.uk/teaching/courses/aipp/lecture_slides/11_PS_DCGs.pdf</a></li>
<li>Prolog DCG (definite clause grammar) facilitates writing an attribute grammar.</li>
<li><a href="https://en.wikipedia.org/wiki/Definite_clause_grammar">https://en.wikipedia.org/wiki/Definite_clause_grammar</a></li>
</ul>
<p>Erlang started out as a DSL in Prolog. See 1992 article &quot;Use of Prolog for developing a new programming language&quot;.</p>
<p>&lt;2018-10-20&gt; Change of opinion: we should write the language in Prolog instead of Haskell.</p>
<ul>
<li>&quot;Ott is a tool for writing definitions of programming languages and calculi. It takes as input a definition of a language syntax and semantics, in a concise and readable ASCII notation that is close to what one would write in informal mathematics.&quot; <a href="https://www.cl.cam.ac.uk/~pes20/ott/">https://www.cl.cam.ac.uk/~pes20/ott/</a></li>
</ul>
<p>&lt;2018-12-11&gt; My current answer: Prolog.</p>
<p>My previous answers:</p>
<ul>
<li>Haskell</li>
<li>Racket</li>
<li>Scheme</li>
<li>Java</li>
<li>C</li>
<li>C++</li>
</ul>
<p>Other people?</p>
<ul>
<li><a href="https://hackernoon.com/the-programming-language-im-looking-for-948d93f7a396">https://hackernoon.com/the-programming-language-im-looking-for-948d93f7a396</a></li>
</ul>
<h3 id="principles-1"><span class="section_number">16.2</span><span class="section_title">Principles</span></h3>
<ul>
<li>Fast build time is important.</li>
</ul>
<h2 id="meta-programming"><span class="section_number">17</span><span class="section_title">Meta-programming?</span></h2>
<p>The Racket manifesto<a href="#fn11" class="footnote-ref" id="fnref11"><sup>11</sup></a>: programming-language programming language</p>
<p>miniKanren, scheme logic programming <a href="http://minikanren.org/">http://minikanren.org/</a> <a href="https://github.com/clojure/core.logic/wiki/A-Core.logic-Primer">https://github.com/clojure/core.logic/wiki/A-Core.logic-Primer</a></p>
<p>2000 article &quot;Domain Specific Meta Languages&quot; <a href="https://www-users.cs.umn.edu/~evw/pubs/vanwyk00sac/vanwyk00sac.pdf">https://www-users.cs.umn.edu/~evw/pubs/vanwyk00sac/vanwyk00sac.pdf</a></p>
<p>1996 book &quot;Advanced programming language design&quot; 2008 article &quot;Position paper: Practical foundations for programming languages&quot; 2012 book &quot;Practical Foundations for Programming Languages&quot; Version 1.32 of 05.15.2012 <a href="http://profs.sci.univr.it/~merro/files/harper.pdf">http://profs.sci.univr.it/~merro/files/harper.pdf</a></p>
<p>University of Arizona, Spring 2006, CS 520 Principles of Programming Languages - Lecture 04: Types and Polymorphism <a href="https://www2.cs.arizona.edu/classes/cs520/spring06/04types.pdf">https://www2.cs.arizona.edu/classes/cs520/spring06/04types.pdf</a> from &quot;Lecture 4: higher polymorphism&quot; <a href="https://blog.inf.ed.ac.uk/apl16/archives/178/comment-page-1">https://blog.inf.ed.ac.uk/apl16/archives/178/comment-page-1</a></p>
<p>Programming Language Foundations in Agda <a href="https://plfa.github.io/">https://plfa.github.io/</a></p>
<p>2018 article &quot;Logic Programming as a Service&quot; <a href="https://arxiv.org/abs/1806.02577">https://arxiv.org/abs/1806.02577</a></p>
<p>Liber amicorum for Doaitse Swierstra <a href="https://www.reddit.com/r/haskell/comments/1hmc9t/pdf_liber_a_for_doaitse_swierstra_read_free/">https://www.reddit.com/r/haskell/comments/1hmc9t/pdf_liber_a_for_doaitse_swierstra_read_free/</a></p>
<p>1994 article &quot;Efficient Self-Interpretation in Lambda Calculus&quot; <a href="http://citeseerx.ist.psu.edu/viewdoc/download?doi=10.1.1.56.4382&amp;rep=rep1&amp;type=pdf">http://citeseerx.ist.psu.edu/viewdoc/download?doi=10.1.1.56.4382&amp;rep=rep1&amp;type=pdf</a></p>
<p>Lambda the Ultimate: Meta-programming <a href="http://lambda-the-ultimate.org/taxonomy/term/15">http://lambda-the-ultimate.org/taxonomy/term/15</a></p>
<p>2009 article &quot;Directly Reflective Meta-Programming&quot; <a href="http://homepage.divms.uiowa.edu/~astump/papers/archon.pdf">http://homepage.divms.uiowa.edu/~astump/papers/archon.pdf</a></p>
<h2 id="enterprise-applications-model-extrinsic-properties"><span class="section_number">18</span><span class="section_title">Enterprise applications model extrinsic properties</span></h2>
<p>Specification language Attempto Controlled English</p>
<p>Parsing with Prolog DCGs</p>
<p><a href="https://philpapers.org/browse/ontology-of-mathematics">https://philpapers.org/browse/ontology-of-mathematics</a></p>
<p>&quot;Advances in a DSL for Application Integration&quot;</p>
<p><a href="https://www.itu.int/ITU-D/tech/OLD_TND_WEBSITE/network-infrastructure_OLD/Bangkok-02/5-5_Demo.pdf">https://www.itu.int/ITU-D/tech/OLD_TND_WEBSITE/network-infrastructure_OLD/Bangkok-02/5-5_Demo.pdf</a> <a href="http://www.inquisition.ca/en/info/gepsypl/rules.htm">http://www.inquisition.ca/en/info/gepsypl/rules.htm</a></p>
<p>Enterprise applications model extrinsic properties. The name of a person is an extrinsic property.</p>
<p>Google search of software modeling language <a href="https://en.wikipedia.org/wiki/Modeling_language">https://en.wikipedia.org/wiki/Modeling_language</a> <a href="https://en.wikipedia.org/wiki/EXPRESS_(data_modeling_language)">https://en.wikipedia.org/wiki/EXPRESS_(data_modeling_language)</a> <a href="https://www.martinfowler.com/articles/languageWorkbench.html">https://www.martinfowler.com/articles/languageWorkbench.html</a></p>
<h2 id="growing-a-programming-language"><span class="section_number">19</span><span class="section_title">Growing a programming language?</span></h2>
<p>2006, &quot;A growable language&quot; &quot;programming language designers should plan for such growth, along with the growth of a user community&quot; <a href="https://dl.acm.org/citation.cfm?id=1176621">https://dl.acm.org/citation.cfm?id=1176621</a></p>
<h2 id="functions-as-semantics-of-lambda-calculus"><span class="section_number">20</span><span class="section_title">Functions as semantics of lambda calculus?</span></h2>
<p>Key idea: A lambda abstraction is not a function, but a function can be the semantics of a lambda abstraction.</p>
<p>A semantic of a lambda abstraction is a function, that is, a triple <span class="math inline">\((A,B,M)\)</span> where <span class="math inline">\(A\)</span> is the domain, <span class="math inline">\(B\)</span> is the codomain, and <span class="math inline">\(M\)</span> is the mapping.</p>
<p>What is the semantic of <span class="math inline">\( \lambda x . x x \)</span>? What is the semantic of <span class="math inline">\( (\lambda x . x x) (\lambda x . x x) \)</span>?</p>
<p>For every set <span class="math inline">\(A\)</span>:</p>
<span class="math display">\[\begin{align*}
(A,A,I_A) \models \lambda x. x
\end{align*}
\]</span>
<p>where <span class="math inline">\(I_A = \{ (x,x) ~|~ x \in A \}\)</span>.</p>
<span class="math display">\[\begin{align*}
(X,Y,A) \models \lambda x y. x y
\end{align*}
\]</span>
<p>Let <span class="math inline">\(F = (A,B,f)\)</span> be a function.</p>
<p>Let <span class="math inline">\(G = (F \times A, B, g)\)</span> be a function where <span class="math inline">\( g(f,x) = f(x) \)</span>.</p>
<h2 id="object-lambda-record-mutation"><span class="section_number">21</span><span class="section_title">object = lambda + record + mutation?</span></h2>
<pre class="example"><code>let self = {
        prop = 1;
        foo = \ () -&gt; self.prop + 1;
}; in self
</code></pre>
<h2 id="unifying-functional-and-logic-programming-as-a-rewriting-system"><span class="section_number">22</span><span class="section_title">Unifying functional and logic programming as a rewriting system</span></h2>
<p>It is easier to add nondeterminism to lambda calculus than it is to add lambda-expression to Horn clauses? There are at least two camps of the declarative programming languages: First: Start from Prolog, move toward Haskell. Second: Start from Haskell, move toward Prolog. Example of second camp is Curry.</p>
<p>Both SLD-resolution and normal-order beta-reduction can be seen as term-rewriting systems.</p>
<p>All we have to do is add non-determinism to Pure<a href="#fn12" class="footnote-ref" id="fnref12"><sup>12</sup></a>, and we have a Prolog-Haskell hybrid.</p>
<p>A Horn clause translates to several rewrite rules. with disjunctive-normal-form body is <code>A :- B1 ; ... ; Bn</code> is the rewrite rule <span class="math inline">\(A \to B_1 \vee A \to B_2 \vee \ldots \vee A \to B_n\)</span>.</p>
<p>A function definition translates to one rewrite rule. <code>A = B</code> is the rewrite rule <span class="math inline">\(A \to B\)</span>.</p>
<pre class="example"><code>prolog {
    a(X) :- b(X), c(X).
    parent(dad,kid).
    parent(daddy,kiddo).
}

haskell {
    what n = \exists x y : parent x y &amp;&amp; length + length y == n
}
</code></pre>
<div class="local_table_of_contents">
<ul>
<li><span class="section_number">22.1</span><span class="section_title"><a href="#lambda-calculus-with-choicedisjunction">Lambda-calculus with choice/disjunction</a></span><span class="word_count">(220w~2m)</span></li>
</ul>
</div>
<h3 id="lambda-calculus-with-choicedisjunction"><span class="section_number">22.1</span><span class="section_title">Lambda-calculus with choice/disjunction</span></h3>
<p>Nondeterministic programming: Prolog, Amb, Alisp<a href="#fn13" class="footnote-ref" id="fnref13"><sup>13</sup></a>. Other nondeterminstic extensions to lambda calculus are already in the literature: 1998 <span class="citation" data-cites="kutzner1998non">[<a href="#ref-kutzner1998non">6</a>]</span>, 2009 <span class="citation" data-cites="fischer2009purely">[<a href="#ref-fischer2009purely">4</a>]</span>.</p>
<p>&quot;Lambda logic is the union of first order logic and lambda calculus.&quot;<span class="citation" data-cites="beeson2004lambda">[<a href="#ref-beeson2004lambda">1</a>]</span></p>
<p>Nondeterminism-by-backtracking may be implemented in Scheme with continuations.</p>
<p>How do we combine lambda-calculus beta-reduction and Prolog unification?</p>
<p><span class="citation" data-cites="kfoury1999beta">[<a href="#ref-kfoury1999beta">5</a>]</span></p>
<p>Here we describe <span class="math inline">\(\lambda_|\)</span>-calculus (lambda-calculus with choice; that is a vertical bar). Other names:</p>
<ul>
<li>lambda-calculus with nondeterminism</li>
<li>lambda-calculus with disjunction</li>
</ul>
<p>We add expression syntax for disjunction. Thus the syntax becomes:</p>
<ol>
<li>Every name is an expression.</li>
<li>If <span class="math inline">\(x\)</span> is a name and <span class="math inline">\(y\)</span> is an expression, then <span class="math inline">\(\lambda x.y\)</span> is an expression (abstraction).</li>
<li>If <span class="math inline">\(x\)</span> is an expression and <span class="math inline">\(y\)</span> is an expression, then <span class="math inline">\(xy\)</span> is an expression (application).</li>
<li>If <span class="math inline">\(x\)</span> is an expression and <span class="math inline">\(y\)</span> is an expression, then <span class="math inline">\(x | y\)</span> is an expression (choice). For consistency with Prolog's <code>;</code> operator (disjunction), the choice operator <span class="math inline">\(|\)</span> associates to the <em>right</em>: <span class="math inline">\(x | y | z = x | (y | z)\)</span>.</li>
</ol>
<p>We add two rules to beta-reduction. Thus the beta-reduction now consists of three rules. The last two rules makes the beta-reduction ambiguous.</p>
<span class="math display">\[\begin{align*}
(\lambda x. y) z &amp;\to y[x := z]
\\ x | y &amp;\to x
\\ x | y &amp;\to y
\end{align*}
\]</span>
<p>We define two constant expressions: <span class="math inline">\(false\)</span> and <span class="math inline">\(true\)</span>.</p>
<p>Now we define a ternary logic mapping from expression to <span class="math inline">\(\{false,unknown,true\}\)</span>.</p>
<span class="math display">\[\begin{align*}
T(false) &amp;= false
\\ T(true) &amp;= true
\\ T(\lambda x. y) &amp;= true
\\ T((\lambda x. y) z) &amp;= T(y[x := z])
\\ T(A = B) &amp;= unknown
\end{align*}
\]</span>
<p>A Prolog-like operational semantics:</p>
<span class="math display">\[\begin{align*}
x | y &amp;\to x \text{ if \(x\) succeeds}
\\ x | y &amp;\to y \text{ if \(x\) fails}
\end{align*}
\]</span>
<p>We define one constant <span class="math inline">\(false\)</span>.</p>
<p>We define that an expression <em>fails</em> iff it reduces to the constant <span class="math inline">\(false\)</span>. We define that an expression <em>succeeds</em> if it does not fail.</p>
<span class="math display">\[\begin{align*}
fail | x &amp;\to x
\\ x | fail &amp;\to x
\end{align*}
\]</span>
<h2 id="logic-programming-with-explicit-side-effects-with-force-predicate"><span class="section_number">23</span><span class="section_title">Logic programming with explicit side-effects with force-predicate</span></h2>
<p>The meaning of force(X) is that force(X) succeeds iff it has changed the world such that X will succeed after force(X) returns. Thus the interpreter has to check for race conditions? Is this requirement too difficult?</p>
<pre class="example"><code>?- file_content(&#39;foo&#39;, A). -- unify A with the contents of file &#39;foo&#39;

?- force(file_content(&#39;foo&#39;, [1,2,3])). -- replace the content of file &#39;foo&#39; with [1,2,3]
</code></pre>
<h2 id="prolog-as-a-term-rewriting-meta-interpreter"><span class="section_number">24</span><span class="section_title">Prolog as a term-rewriting meta-interpreter</span></h2>
<p>The Prolog rule &quot;A :- B&quot; can be interpreted in two ways. The first is the well-known proof-theoretic interpretation &quot;to prove A, prove B&quot;. The second is the <em>rewriting-system interpretation</em> &quot;rewrite A to B&quot;.</p>
<h2 id="write-abstract-interpreters-not-compilers"><span class="section_number">25</span><span class="section_title">Write abstract interpreters, not compilers?</span></h2>
<p>&lt;2018-12-30&gt;</p>
<p>The same code fragment can be interpreted in several ways.</p>
<p>The most common interpreter executes the program with the intended semantics. Example: a Python interpreter interprets the Python program &quot;print 'foo'&quot; as printing the string.</p>
<p>Write an abstract interpreter that emits code when interpreting. An interpreter that interprets the Python program &quot;print 'foo'&quot; as &quot;emit a Ruby statement that prints 'foo' to screen when executed&quot;.</p>
<h2 id="bibliography" class="unnumbered"><span class="section_number">26</span><span class="section_title">Bibliography</span></h2>
<div id="refs" class="references">
<div id="ref-beeson2004lambda">
<p>[1] Beeson, M. 2004. Lambda logic. <em>International joint conference on automated reasoning</em> (2004), 460–474. url: &lt;<a href="https://pdfs.semanticscholar.org/9721/c012782ef25023ac300e33d6ce34ffed7e18.pdf">https://pdfs.semanticscholar.org/9721/c012782ef25023ac300e33d6ce34ffed7e18.pdf</a>&gt;.</p>
</div>
<div id="ref-cartwright2013inheritance">
<p>[2] Cartwright, R. and Moez, A.A. 2013. Inheritance is subtyping. <em>The 25th nordic workshop on programming theory (nwpt)</em> (2013).</p>
</div>
<div id="ref-DBLP:conf/popl/CookHC90">
<p>[3] Cook, W.R. et al. 1990. Inheritance is not subtyping. <em>Conference record of the seventeenth annual ACM symposium on principles of programming languages, san francisco, california, usa, january 1990</em> (1990), 125–135. url: &lt;<a href="http://doi.acm.org/10.1145/96709.96721">http://doi.acm.org/10.1145/96709.96721</a>&gt;.</p>
</div>
<div id="ref-fischer2009purely">
<p>[4] Fischer, S. et al. 2009. Purely functional lazy non-deterministic programming. <em>ACM sigplan notices</em> (2009), 11–22. url: &lt;<a href="http://users.eecs.northwestern.edu/~clk800/rand-test-study/_pflnp/pflnp-2009-10-8-12-02-00.pdf">http://users.eecs.northwestern.edu/~clk800/rand-test-study/_pflnp/pflnp-2009-10-8-12-02-00.pdf</a>&gt;.</p>
</div>
<div id="ref-kfoury1999beta">
<p>[5] Kfoury, A. 1999. Beta-reduction as unification. <em>Banach Center Publications</em>. 46, 1 (1999), 137–158. url: &lt;<a href="http://matwbn.icm.edu.pl/ksiazki/bcp/bcp46/bcp4617.pdf">http://matwbn.icm.edu.pl/ksiazki/bcp/bcp46/bcp4617.pdf</a>&gt;.</p>
</div>
<div id="ref-kutzner1998non">
<p>[6] Kutzner, A. and Schmidt-Schauß, M. 1998. <em>A non-deterministic call-by-need lambda calculus</em>. ACM. url: &lt;<a href="http://citeseerx.ist.psu.edu/viewdoc/download?doi=10.1.1.590.8440&amp;rep=rep1&amp;type=pdf">http://citeseerx.ist.psu.edu/viewdoc/download?doi=10.1.1.590.8440&amp;rep=rep1&amp;type=pdf</a>&gt;.</p>
</div>
</div>
<section class="footnotes">
<hr />
<ol>
<li id="fn1"><p><a href="https://en.wikipedia.org/w/index.php?title=Side_effect_(computer_science)&amp;oldid=855461052">https://en.wikipedia.org/w/index.php?title=Side_effect_(computer_science)&amp;oldid=855461052</a><a href="#fnref1" class="footnote-back">↩</a></p></li>
<li id="fn2"><p><a href="https://softwareengineering.stackexchange.com/questions/40297/what-is-a-side-effect">https://softwareengineering.stackexchange.com/questions/40297/what-is-a-side-effect</a><a href="#fnref2" class="footnote-back">↩</a></p></li>
<li id="fn3"><p><a href="https://en.wikipedia.org/w/index.php?title=Side_effect&amp;oldid=875244456">https://en.wikipedia.org/w/index.php?title=Side_effect&amp;oldid=875244456</a><a href="#fnref3" class="footnote-back">↩</a></p></li>
<li id="fn4"><p><a href="https://www.etymonline.com/word/error">https://www.etymonline.com/word/error</a><a href="#fnref4" class="footnote-back">↩</a></p></li>
<li id="fn5"><p><a href="http://joeduffyblog.com/2015/11/03/blogging-about-midori/">http://joeduffyblog.com/2015/11/03/blogging-about-midori/</a><a href="#fnref5" class="footnote-back">↩</a></p></li>
<li id="fn6"><p><a href="http://joeduffyblog.com/2016/02/07/the-error-model/">http://joeduffyblog.com/2016/02/07/the-error-model/</a><a href="#fnref6" class="footnote-back">↩</a></p></li>
<li id="fn7"><p><a href="https://en.wikipedia.org/wiki/Symmetric_difference">https://en.wikipedia.org/wiki/Symmetric_difference</a><a href="#fnref7" class="footnote-back">↩</a></p></li>
<li id="fn8"><p><a href="https://www.mercurylang.org/information/doc-latest/mercury_trans_guide/AssertRetract.html">https://www.mercurylang.org/information/doc-latest/mercury_trans_guide/AssertRetract.html</a><a href="#fnref8" class="footnote-back">↩</a></p></li>
<li id="fn9"><p><a href="ftp://obaluae.inf.puc-rio.br/pub/docs/Publications/88_AI_Furtado_SINPLAN.Not.pdf">ftp://obaluae.inf.puc-rio.br/pub/docs/Publications/88_AI_Furtado_SINPLAN.Not.pdf</a><a href="#fnref9" class="footnote-back">↩</a></p></li>
<li id="fn10"><p><a href="http://www.mtome.com/Publications/PNLA/prolog-digital.pdf">http://www.mtome.com/Publications/PNLA/prolog-digital.pdf</a><a href="#fnref10" class="footnote-back">↩</a></p></li>
<li id="fn11"><p><a href="http://felleisen.org/matthias/manifesto/index.html">http://felleisen.org/matthias/manifesto/index.html</a><a href="#fnref11" class="footnote-back">↩</a></p></li>
<li id="fn12"><p><a href="https://en.wikipedia.org/wiki/Pure_(programming_language)">https://en.wikipedia.org/wiki/Pure_(programming_language)</a><a href="#fnref12" class="footnote-back">↩</a></p></li>
<li id="fn13"><p><a href="https://en.wikipedia.org/wiki/Nondeterministic_programming">https://en.wikipedia.org/wiki/Nondeterministic_programming</a><a href="#fnref13" class="footnote-back">↩</a></p></li>
</ol>
</section>
                </div>
            </div>
        </main>
                        <div id="disqus_thread"></div>
<script>
/**
*  RECOMMENDED CONFIGURATION VARIABLES: EDIT AND UNCOMMENT THE SECTION BELOW TO INSERT DYNAMIC VALUES FROM YOUR PLATFORM OR CMS.
*  LEARN WHY DEFINING THESE VARIABLES IS IMPORTANT: https://disqus.com/admin/universalcode/#configuration-variables*/
var disqus_config = function () {
    this.page.url = "https://edom.github.io/proglang.html";  // Replace PAGE_URL with your page's canonical URL variable
    this.page.identifier = "https://edom.github.io/proglang.html"; // Replace PAGE_IDENTIFIER with your page's unique identifier variable
};
(function() { // DON'T EDIT BELOW THIS LINE
var d = document, s = d.createElement('script');
s.src = 'https://edom-github-io.disqus.com/embed.js';
s.setAttribute('data-timestamp', +new Date());
(d.head || d.body).appendChild(s);
})();
</script>
<noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
                        <footer class="site-footer h-card">
            <data class="u-url" href="/"></data>
            <div class="wrapper">
                <p>This page was created on 2018-12-15 01:35 +0700.</p>
                <p class="rss-subscribe">There is an
                    <a href="/feed.xml">RSS feed</a>, but it's unused because this site is a wiki, not a blog.</p>
                <p>Stop writing books, papers, and blogs!
                    Write a personal wiki instead!
                    Or, even better, contribute to a community wiki.
                </p>
            </div>
        </footer>
    </body>
</html>
