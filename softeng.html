<!DOCTYPE html>
<html lang="">
    <head>
        <meta charset="UTF-8"/>
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <title>Software Engineering Research Group</title>
        <link rel="stylesheet" href="/assets/main.css"/>
        <script>
// Help the reader estimate how much time the reading is going to take.
// Show word count and reading time estimation in TOC entry.
//
// TOC = table of contents
//
// Known issue: This janks: this DOM manipulation is done after the page is rendered.
// If we don't want jank, we have to manipulate the HTML source before it reaches the browser.
// We assume that the user doesn't refresh the page while reading.
// The benefit of fixing that jank is not enough for me to justify trying to fix it.
document.addEventListener("DOMContentLoaded", function () {
    function count_word (string) {
        return string.trim().split(/\s+/).length;
    }
    function show_quantity (count, singular) {
        let plural = singular + "s"; // For this script only.
        return count + " " + ((count == 1) ? singular : plural);
    }
    function create_length_indicator (word, minute) {
        let e = document.createElement("span");
        e.className = "toc_entry__length_indicator";
        e.textContent = " (" + show_quantity(word, "word") + " ~ " + show_quantity(minute, "minute") + ")";
        return e;
    }
    // We assume that readers read this many words per minute with 100% comprehension.
    // This assumption may not hold for dense texts such as philosophy and mathematics.
    const wpm_assumption = 200;
    // We assume a certain Jekyll template.
    let page = document.querySelector("main.page-content");
    if (page === null) {
        console.log("toc_generate_estimate: Impossible: CSS selector \"main.page-content\" does not match anything");
        return;
    }
    let page_title = document.querySelector("header.post-header h1.post-title");
    if (page_title === null) {
        console.log("toc_generate_estimate: Impossible: CSS selector \"header.post-header h1.post-title\" does not match anything");
        return;
    }
    let page_word = count_word(page.textContent);
    let page_minute = Math.ceil(page_word / wpm_assumption);
    page_title.insertAdjacentElement("afterend", create_length_indicator(page_word, page_minute));
    // We violate the HTML specification.
    // The page may have several elements with the same ID.
    // We assume that Org HTML Export generates a DIV element with ID "table-of-contents".
    // We assume that Jekyll Markdown-to-HTML generates a UL element with ID "markdown-toc".
    // This only works for Org HTML Export's TOC.
    let toc_entries = document.querySelectorAll("#table-of-contents a, #text-table-of-contents a");
    toc_entries.forEach((toc_entry_a) => {
        let href = toc_entry_a.getAttribute("href"); // We assume that this is a string like "#org0123456".
        if (href.charAt(0) !== '#') {
            console.log("toc_generate_estimate: Impossible: " + href + " does not begin with hash sign");
            return;
        }
        // We can't just document.querySelector(href) because target_id may contain invalid ID characters such as periods.
        let target_id = href.substring(1);
        let id_escaped = target_id.replace("\"", "\\\"");
        let h_elem = document.querySelector("[id=\"" + id_escaped + "\"]"); // We assume that this is the h1/h2/h3 element referred by the TOC entry.
        if (h_elem === null) { // We assume that this is impossible.
            console.log("toc_generate_estimate: Impossible: " + href + " does not refer to anything");
            return;
        }
        let section = h_elem.parentNode;
        let section_word = count_word(section.textContent);
        let section_minute = Math.ceil(section_word / wpm_assumption);
        toc_entry_a.insertAdjacentElement("afterend", create_length_indicator(section_word, section_minute));
    });
});
        </script>

        <script async src="https://www.googletagmanager.com/gtag/js?id=UA-12628443-6"></script>
<script>
  window['ga-disable-UA-12628443-6'] = window.doNotTrack === "1" || navigator.doNotTrack === "1" || navigator.doNotTrack === "yes" || navigator.msDoNotTrack === "1";
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());
  gtag('config', 'UA-12628443-6');
</script>
        
        <script type="text/x-mathjax-config">
        MathJax.Hub.Config({
            jax: ["input/TeX","input/MathML","input/AsciiMath",
            "output/CommonHTML"
            ],
            extensions: ["tex2jax.js","mml2jax.js","asciimath2jax.js","MathMenu.js","MathZoom.js","AssistiveMML.js", "a11y/accessibility-menu.js"],
            TeX: {
                extensions: ["AMSmath.js","AMSsymbols.js","noErrors.js","noUndefined.js"]
                , equationNumbers: {
                    autoNumber: "AMS"
                }
            },
            "CommonHTML": {
                scale: 100
            },
            "fast-preview": {
                disabled: true,
            }
        });
        </script>
        <style>
            /*
            PreviewHTML produces small Times New Roman text.
            PreviewHTML scale doesn't work.
            */
            .MathJax_PHTML { font-size: 110%; }
        </style>
        <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js" async defer></script>
    </head>
    <body>
        <header class="site-header" role="banner">
            <div class="wrapper">
                <a class="site-title" rel="author" href="/">Erik Dominikus Research Group</a>
            </div>
        </header>
    <div style="display:none;">\(
    \renewcommand\emptyset{\varnothing}
    \newcommand\abs[1]{\left|#1\right|}
    \newcommand\dom{\textrm{dom}}
    \newcommand\cod{\textrm{cod}}
    \newcommand\Bernoulli{\textrm{Bernoulli}}
    \newcommand\Binomial{\textrm{Binomial}}
    \newcommand\Expect[1]{\mathbb{E}[#1]}
    \newcommand\Nat{\mathbb{N}}
    \newcommand\Integers{\mathbb{Z}}
    \newcommand\Real{\mathbb{R}}
    \newcommand\Rational{\mathbb{Q}}
    \newcommand\Complex{\mathbb{C}}
    \newcommand\Pr{\mathrm{P}}
    \newcommand\Time{\text{Time}}
    \newcommand\DTime{\text{DTime}}
    \newcommand\NTime{\text{NTime}}
    \newcommand\TimeP{\text{P}}
    \newcommand\TimeNP{\text{NP}}
    \newcommand\TimeExp{\text{ExpTime}}
    \newcommand\norm[1]{\left\lVert#1\right\rVert}
    \newcommand\bbA{\mathbb{A}}
    \newcommand\bbC{\mathbb{C}}
    \newcommand\bbD{\mathbb{D}}
    \newcommand\bbE{\mathbb{E}}
    \newcommand\bbN{\mathbb{N}}
    \newcommand\frakI{\mathfrak{I}}
    % deprecated; use TimeExp
    \newcommand\ExpTime{\text{ExpTime}}
    \newcommand\Compute{\text{Compute}}
    \newcommand\Search{\text{Search}}
    % model theory structure
    \newcommand\struc[1]{\mathcal{#1}}
    \newcommand\SetBuilder[2]{\{#1 ~|~ #2\}}
    \newcommand\Set[1]{\{#1\}}
    \newcommand\semantics[1]{\langle #1 \rangle}
    \newcommand\bigsemantics[1]{S\left(#1\right)}
    \)</div>
        <main class="page-content" aria-label="Content">
            <div class="wrapper">
                <article class="post">
                    <header class="post-header">
                        <h1 class="post-title">Software Engineering Research Group</h1>
                    </header>
                </article>
                <div class="post-content">
<div class="local_table_of_contents">
<ul>
<li><span class="section_number">1</span><span class="section_title"><a href="#what-is-software-engineering">What is software engineering?</a></span><span class="word_count">(652w~4m)</span></li>
<li><span class="section_number">2</span><span class="section_title"><a href="#building-big-software">Building big software</a></span><span class="word_count">(513w~3m)</span></li>
<li><span class="section_number">3</span><span class="section_title"><a href="#management-hiring-culture-anarchy">Management, hiring, culture, anarchy</a></span><span class="word_count">(283w~2m)</span></li>
<li><span class="section_number">4</span><span class="section_title"><a href="#maintaining-software">Maintaining software</a></span><span class="word_count">(531w~3m)</span></li>
<li><span class="section_number">5</span><span class="section_title"><a href="#raw-stuff-dont-read">Raw stuff; don't read?</a></span><span class="word_count">(8248w~42m)</span></li>
<li><span class="section_number">6</span><span class="section_title"><a href="#bibliography">Bibliography</a></span><span class="word_count">(27w~1m)</span></li>
</ul>
</div>
<h2 id="what-is-software-engineering"><span class="section_number">1</span><span class="section_title">What is software engineering?</span></h2>
<div class="local_table_of_contents">
<ul>
<li><span class="section_number">1.1</span><span class="section_title"><a href="#fundamental-questions">Fundamental questions</a></span><span class="word_count">(410w~3m)</span></li>
<li><span class="section_number">1.2</span><span class="section_title"><a href="#what-does-a-software-engineer-do">What does a software engineer do?</a></span><span class="word_count">(161w~1m)</span></li>
<li><span class="section_number">1.3</span><span class="section_title"><a href="#programming-model-and-reality">Programming, model, and reality</a></span><span class="word_count">(30w~1m)</span></li>
<li><span class="section_number">1.4</span><span class="section_title"><a href="#most-bugs-are-actually-programming-errors.">Most &quot;bugs&quot; are actually &quot;programming errors&quot;.</a></span><span class="word_count">(51w~1m)</span></li>
</ul>
</div>
<h3 id="fundamental-questions"><span class="section_number">1.1</span><span class="section_title">Fundamental questions</span></h3>
<p>In the spirit of analytic philosophy:</p>
<ul>
<li>What is engineering? What does an engineer do?</li>
<li>What is software?</li>
<li>What does a software engineer do?</li>
<li>What is programming?</li>
<li>What is software engineering?</li>
<li>How far can the civil-engineering analogy stretch before it breaks?</li>
</ul>
<p>&quot;X engineering&quot; is like &quot;philosophy of X&quot;?</p>
<p>Software is program, documents, configuration, and so on. Programs, laws, and recipes are software. Minds are software. Software is abstract object. Software is executable mathematics.</p>
<p>Engineering consists of design, modeling, calculation, application of science, and turning all those plans into reality.</p>
<p>A civil engineer plans the materials according to the physical load that the structure is expected to withstand. The software engineer's analog is capacity planning of the computational resources according to the computational load that the software is expected to withstand.</p>
<p>Architect–bricklayer analogy. Bricklayer is less prestigious than architect, but they require a different skill set, and building requires both. Without the architect, the building would be shit. Without the bricklayer, the building would not exist at all in the first place.</p>
<p>What is the difference between a programmer and a software engineer? The difference between bricklayer and an architect. A bricklayer can build a wall, or even a house, but not a skyscraper. A programmer can build a calculator, or a small game, but not a Microsoft Windows.</p>
<p>Of course there are incompetent architects who build buildings despised by tenants, as there are incompetent software engineers who build software despised by users.</p>
<p>But software is much more complex than bridges and skyscrapers.</p>
<p>What is the science of software engineering? Classical physics is the science of civil engineering, and civil engineers understand physics well enough to predict everything they need to predict. If computer science is to be the science of software engineering, software engineers don't know computer science well enough to predict everything they need to predict. Worse, what if software is not predictable? What if the complexity is essential and irreducible?</p>
<p>Engineers have to combat ignorant management decisions that harm people. Do you want to have blood on your hands?</p>
<p>Accidents happen. Buildings fall. Programs crash. People make mistakes, mostly honest.</p>
<p>When I get on an airplane, I want to get on one made by engineers, not business people. I want engineers to make the final decision.</p>
<p>If software is a pure art, then its construction should not be time-limited. A painter does not paint with deadlines. A painting is finished when the painter feels that it is finished. However, a painter, when asked to paint a very specific painting, can estimate how many days it will take.</p>
<h3 id="what-does-a-software-engineer-do"><span class="section_number">1.2</span><span class="section_title">What does a software engineer do?</span></h3>
<div class="local_table_of_contents">
<ul>
<li><span class="section_number">1.2.1</span><span class="section_title"><a href="#slave-drivers">Slave drivers</a></span><span class="word_count">(24w~1m)</span></li>
<li><span class="section_number">1.2.2</span><span class="section_title"><a href="#formalization">Formalization</a></span><span class="word_count">(60w~1m)</span></li>
<li><span class="section_number">1.2.3</span><span class="section_title"><a href="#programming-as-progressive-relaxation-of-simplifying-assumptions">Programming as progressive relaxation of simplifying assumptions</a></span><span class="word_count">(74w~1m)</span></li>
</ul>
</div>
<h4 id="slave-drivers"><span class="section_number">1.2.1</span><span class="section_title">Slave drivers</span></h4>
<p><em>Programmers play the same role as ancient slave drivers.</em> They translate and impose the master's will into the slaves.</p>
<p>Do programmers have god complex?<a href="#fn1" class="footnote-ref" id="fnref1"><sup>1</sup></a></p>
<h4 id="formalization"><span class="section_number">1.2.2</span><span class="section_title">Formalization</span></h4>
<p>One job of the programmer is to formalize the end-user's implicit ontology into the corresponding formal ontology that can be manipulated by machines. The programmer's job is to formalize the end-users' mental model into a formal ontology.</p>
<p>Requirement gathering and analysis.</p>
<p>Semantic-preserving translation from user syntax (natural language) to computer syntax (programming language).</p>
<p>Will controlled natural languages enable everyone to program the computer?</p>
<h4 id="programming-as-progressive-relaxation-of-simplifying-assumptions"><span class="section_number">1.2.3</span><span class="section_title">Programming as progressive relaxation of simplifying assumptions</span></h4>
<p>Programming is progressive relaxation of simplifying assumptions.</p>
<p>But has that activity already has another name: <em>modeling</em>.</p>
<p>We start with the assumption that the system does nothing.</p>
<p>Then we relax the assumption that all state is stored in memory.</p>
<p>Then we relax the assumption that errors do not happen.</p>
<p>Then we relax the assumption that the network latency is zero.</p>
<p>Then we relax the assumption that the user is willing to wait forever.</p>
<p>And so on.</p>
<h3 id="programming-model-and-reality"><span class="section_number">1.3</span><span class="section_title">Programming, model, and reality</span></h3>
<ul>
<li>When we write a program, we are actually creating a <em>mathematical model</em> of reality, creating an implicit ontology, defining what exist, making simplifying assumptions, discarding irrelevant aspects.</li>
</ul>
<h3 id="most-bugs-are-actually-programming-errors."><span class="section_number">1.4</span><span class="section_title">Most &quot;bugs&quot; are actually &quot;programming errors&quot;.</span></h3>
<p>Programmers need to own up their mistakes, and call an error an error, not a bug. A bug is something the programmer cannot control. A cosmic ray strike flipping a bit in RAM is a bug. A typo in the source code is not a bug.</p>
<h2 id="building-big-software"><span class="section_number">2</span><span class="section_title">Building big software</span></h2>
<div class="local_table_of_contents">
<ul>
<li><span class="section_number">2.1</span><span class="section_title"><a href="#how-should-we-build-software-especially-big-software">How should we build software, especially big software?</a></span><span class="word_count">(303w~2m)</span></li>
<li><span class="section_number">2.2</span><span class="section_title"><a href="#why-people-dont-adopt-metaprogramming-tools-and-model-driven-engineering">Why people don't adopt metaprogramming tools (and model-driven engineering?)</a></span><span class="word_count">(66w~1m)</span></li>
<li><span class="section_number">2.3</span><span class="section_title"><a href="#specialization-of-programmers-into-business-programmers-and-language-programmers">Specialization of programmers into business programmers and language programmers</a></span><span class="word_count">(144w~1m)</span></li>
</ul>
</div>
<h3 id="how-should-we-build-software-especially-big-software"><span class="section_number">2.1</span><span class="section_title">How should we build software, especially big software?</span></h3>
<p>For big enterprise software, we should at least use model-driven engineering. See <a href="enterprise.html">file:enterprise.html</a>: Enterprise software engineering with ontologies, models, meta-models, and Prolog</p>
<p>For a throw-away shell script, just open a text editor and be done with it.</p>
<p>For critical software, perhaps formal methods?</p>
<p>Brooks &amp; Kugler 1987 <span class="citation" data-cites="brooks1987no">[<a href="#ref-brooks1987no">1</a>]</span> have warned us about the essential irreducible complexity of software. Dijkstra 1972 <span class="citation" data-cites="dijkstra1972humble">[<a href="#ref-dijkstra1972humble">2</a>]</span> has warned us to control complexity with meaningful abstractions. We must understand what we do, and do what we understand. Model-driven engineering should be able to minimize the accidental complexity. The essential complexity of a software system is the minimum information required by software engineers to make the system. For example, &quot;an online shop&quot; is insufficient information: There are too many possibilities. What are we going to sell? How much traffic do we expect? What about the operations?</p>
<p>Some software is so big that we cannot finish it in two weeks. But in two weeks we are already a different person. Thus we should think of ourselves as <em>three</em> people: our past self, our present self, and our future self. How can these three people cooperate? If we keep feeling that our past self is stupid, if we don't trust the decision made by our past self, how can we progress at all, how can we build on something, how can we grow something? Our two-week-ago self did think that it was the best decision. If we cannot respect our past decisions, we are condemned to eternal refactoring. Software engineering, self-trust, self-peace?</p>
<p>The relationship between programming and past self?</p>
<p>The key to being a good programmer is being someone that our future self can trust.</p>
<p>When we change a program, we are trusting our past self. We assume that our past self did not plant time-bombs that will surprise our current assumptions.</p>
<h3 id="why-people-dont-adopt-metaprogramming-tools-and-model-driven-engineering"><span class="section_number">2.2</span><span class="section_title">Why people don't adopt metaprogramming tools (and model-driven engineering?)</span></h3>
<p>I fear that the tool doesn't perfectly fit my use case. When that happens, I want to drop down to the lower layer. Generated code is usually inflexible. I could maintain a patch, but isn't it (patching generated code) rather hacky and brittle? The right way is to design the metalanguage so that it can express such transformation.</p>
<p><a href="https://www.eclipse.org/epsilon/doc/articles/eugenia-patching/">https://www.eclipse.org/epsilon/doc/articles/eugenia-patching/</a></p>
<h3 id="specialization-of-programmers-into-business-programmers-and-language-programmers"><span class="section_number">2.3</span><span class="section_title">Specialization of programmers into business programmers and language programmers</span></h3>
<p>In 2019 it is common to divide programmers into frontend programmers and backend programmers. I think this is wrong. It is like slicing a cake into layers instead of sectors, as if the cake were a tree: One person eats all the topping, another one the butter, another one eats the flour. However, if we talk about <em>making</em> instead of eating a cake, then it makes sense to specialize the chefs into topping specialists and dough specialists. Thus, is software engineering more like eating cakes or making cakes?</p>
<p>We should divide programmers into <em>business programmer</em> and <em>language programmer</em> instead. The language programmer creates a DSL (domain-specific language). The business programmer captures user requirements into a program (a specification) in that DSL. The language programmer writes a metaprogram that translates the business programmer's declarative program into something efficient.</p>
<h2 id="management-hiring-culture-anarchy"><span class="section_number">3</span><span class="section_title">Management, hiring, culture, anarchy</span></h2>
<div class="local_table_of_contents">
<ul>
<li><span class="section_number">3.1</span><span class="section_title"><a href="#management">Management</a></span><span class="word_count">(158w~1m)</span></li>
<li><span class="section_number">3.2</span><span class="section_title"><a href="#how-should-we-build-freelibre-open-source-software">How should we build free/libre open-source software?</a></span><span class="word_count">(32w~1m)</span></li>
<li><span class="section_number">3.3</span><span class="section_title"><a href="#what-is-the-difference-between-the-10000-indonesian-citizen-programmer-and-the-100000-american-citizen-programmer">What is the difference between the $10,000 Indonesian-citizen programmer and the $100,000 American-citizen programmer?</a></span><span class="word_count">(92w~1m)</span></li>
</ul>
</div>
<h3 id="management"><span class="section_number">3.1</span><span class="section_title">Management</span></h3>
<p>I tried to think about <a href="engman.html">managing software engineers</a>.</p>
<p>&quot;When hiring senior engineers, you’re not buying, you’re selling.&quot; (Alexander von Franqué)<a href="#fn2" class="footnote-ref" id="fnref2"><sup>2</sup></a></p>
<p>&quot;Why Developers Become Frustrated And Companies Can’t Find Talent&quot;<a href="#fn3" class="footnote-ref" id="fnref3"><sup>3</sup></a>: &quot;In order to survive, a software project needs to sacrifice quality for money and time. In order to exist, a software project needs to sacrifice money and time for quality.&quot;</p>
<p>Is it just myself, or are engineers generally anarchists?</p>
<p>Market information, compensation, salary, wage:</p>
<p>&lt;2019-01-15&gt; Haskell tutelage $75/hour <a href="https://twitter.com/luqui/status/1084837990877327360">https://twitter.com/luqui/status/1084837990877327360</a></p>
<p>I thought about <a href="salary.html">software engineer salary</a>.</p>
<p>A guy is charging €639 for a two-day F# course<a href="#fn4" class="footnote-ref" id="fnref4"><sup>4</sup></a></p>
<p>A person is a unbreakable bundle. When you hire a man, you can't just get the good: you get the good, the bad. When you hire a fast coder who is also a drunkard, a gambler, and a thief, you get not only the fast coder, but also the drunkard, the gambler, and the thief. You get all aspects/dimensions/faces/sides of the person. And teaching skills is easier than changing habits or characters.</p>
<h3 id="how-should-we-build-freelibre-open-source-software"><span class="section_number">3.2</span><span class="section_title">How should we build free/libre open-source software?</span></h3>
<p>I am thinking about open-source. I prefer cooperation to competition. I write <a href="opensrc.html">Making contributable open-source projects</a>, <a href="community.html">Building online communities</a>. I am thinking about maintaining open-source projects.</p>
<h3 id="what-is-the-difference-between-the-10000-indonesian-citizen-programmer-and-the-100000-american-citizen-programmer"><span class="section_number">3.3</span><span class="section_title">What is the difference between the $10,000 Indonesian-citizen programmer and the $100,000 American-citizen programmer?</span></h3>
<p>Is it location? Will a $10,000 Indonesian-citizen programmer suddenly become a $100,000 Indonesian-citizen programmer just by moving to America? Are American companies simply able/willing to pay more?</p>
<p>The average Indonesian does not know English. Not all computer science undergraduates can write code, let alone think abstractly. This seems to afflict all countries.</p>
<p>Is it skill/ability? Is the $100,000 American-citizen programmer more capable than the $10,000 Indonesian-citizen programmer?</p>
<p>Inconclusive discussion <a href="https://marginalrevolution.com/marginalrevolution/2012/01/why-are-some-programmers-paid-more-than-others.html">https://marginalrevolution.com/marginalrevolution/2012/01/why-are-some-programmers-paid-more-than-others.html</a></p>
<p>The world is so broken that we don't know where to begin fixing.</p>
<h2 id="maintaining-software"><span class="section_number">4</span><span class="section_title">Maintaining software</span></h2>
<div class="local_table_of_contents">
<ul>
<li><span class="section_number">4.1</span><span class="section_title"><a href="#backward-compatibility-complicates-development-but-simplifies-maintenance">Backward-compatibility complicates development but simplifies maintenance</a></span><span class="word_count">(380w~2m)</span></li>
<li><span class="section_number">4.2</span><span class="section_title"><a href="#forward-compatibility">Forward-compatibility?</a></span><span class="word_count">(1w~1m)</span></li>
<li><span class="section_number">4.3</span><span class="section_title"><a href="#logging">Logging</a></span><span class="word_count">(80w~1m)</span></li>
<li><span class="section_number">4.4</span><span class="section_title"><a href="#maintainability">Maintainability</a></span><span class="word_count">(27w~1m)</span></li>
<li><span class="section_number">4.5</span><span class="section_title"><a href="#how-do-you-know-a-software-is-maintainable">How do you know a software is maintainable?</a></span><span class="word_count">(46w~1m)</span></li>
</ul>
</div>
<h3 id="backward-compatibility-complicates-development-but-simplifies-maintenance"><span class="section_number">4.1</span><span class="section_title">Backward-compatibility complicates development but simplifies maintenance</span></h3>
<p>Reasons for maintaining backward-compatibility:</p>
<ul>
<li>If you maintain your library's backward-compatibility, you only need to maintain the latest version of the library.</li>
<li>Compatibility reduces dependency hell and bit rot.</li>
<li>The root cause of dependency hell / DLL hell / JAR hell is short-sighted incompetent library developers who don't care about compatibility.</li>
</ul>
<p>Reasons for breaking backward-compatibility?</p>
<ul>
<li>Backward-compatibility hampers changing the interface (including fixing interface mistakes). But you can always introduce a new interface and deprecate the old one. But you will then collect junk.</li>
</ul>
<div class="local_table_of_contents">
<ul>
<li><span class="section_number">4.1.1</span><span class="section_title"><a href="#defining-interfaces-and-backward-compatibility">Defining interfaces and backward-compatibility</a></span><span class="word_count">(74w~1m)</span></li>
<li><span class="section_number">4.1.2</span><span class="section_title"><a href="#the-key-of-library-writing-is-empathy.">The key of library-writing is empathy.</a></span><span class="word_count">(44w~1m)</span></li>
<li><span class="section_number">4.1.3</span><span class="section_title"><a href="#choosing-a-versioning-policy">Choosing a versioning policy</a></span><span class="word_count">(36w~1m)</span></li>
<li><span class="section_number">4.1.4</span><span class="section_title"><a href="#following-haskell-package-versioning-policy">Following Haskell package versioning policy</a></span><span class="word_count">(40w~1m)</span></li>
<li><span class="section_number">4.1.5</span><span class="section_title"><a href="#backward-compatibility-hall-of-fame">Backward-compatibility hall of fame</a></span><span class="word_count">(55w~1m)</span></li>
<li><span class="section_number">4.1.6</span><span class="section_title"><a href="#respect-legacy-code-because-it-works-but-dont-get-too-attached-to-anything.">Respect legacy code because it works, but don't get too attached to anything.</a></span><span class="word_count">(55w~1m)</span></li>
</ul>
</div>
<h4 id="defining-interfaces-and-backward-compatibility"><span class="section_number">4.1.1</span><span class="section_title">Defining interfaces and backward-compatibility</span></h4>
<p>An interface is something that users depend on.</p>
<p>Your library's interface is what breaks your users' code if that interface changes.</p>
<p>Examples of interface:</p>
<ul>
<li>Function parameters.</li>
<li>Performance. Example: Replacing an algorithm with a slower one may stop your users from satisfying their non-functional requirements.</li>
</ul>
<p>A backward-compatible change is a change that doesn't annoy the people who depend on you. Such change doesn't require those people to react. Such change doesn't break those people's works.</p>
<ol>
<li><p>Backward-compatibility obviates backporting.</p></li>
</ol>
<h4 id="the-key-of-library-writing-is-empathy."><span class="section_number">4.1.2</span><span class="section_title">The key of library-writing is empathy.</span></h4>
<p>Think about your users. Don't break their stuffs.</p>
<p>See <a href="https://wiki.haskell.org/The_Monad.Reader/Issue2/EternalCompatibilityInTheory">Eternal compatibility in theory</a>.</p>
<p>Making only backward-compatible changes simplifies the lives of people who depend on you.</p>
<p>Library authors must maintain some backward compatibility. They can't just make arbitrary changes and break things.</p>
<ul>
<li><a href="https://plan99.net/~mike/writing-shared-libraries.html">https://plan99.net/~mike/writing-shared-libraries.html</a></li>
</ul>
<h4 id="choosing-a-versioning-policy"><span class="section_number">4.1.3</span><span class="section_title">Choosing a versioning policy</span></h4>
<p>Use what everybody else is already using in your ecosystem: <a href="https://github.com/dhall-lang/dhall-lang/blob/master/VERSIONING.md">Dhall versioning policy</a>, <a href="https://pvp.haskell.org/">Haskell PVP Specification</a>, <a href="https://semver.org/">Semantic Versioning</a>, etc.</p>
<p>If everybody followed eternal compatibility, versioning policies would be irrelevant and upgrades would be smoother.</p>
<h4 id="following-haskell-package-versioning-policy"><span class="section_number">4.1.4</span><span class="section_title">Following Haskell package versioning policy</span></h4>
<ul>
<li><a href="https://gist.github.com/snoyberg/f6f10cdbea4b9e22d1b83e490ec59a10">Michael Snoyman's personal take on PVP version upper bounds</a>.</li>
<li><p>The alternative to Cabal PVP is compile error, or, even worse, logic error and runtime failure?</p>
<ul>
<li>Cabal PVP depends on library authors/maintainers to test and update their dependency bounds.</li>
</ul></li>
</ul>
<h4 id="backward-compatibility-hall-of-fame"><span class="section_number">4.1.5</span><span class="section_title">Backward-compatibility hall of fame</span></h4>
<p>These systems may be too backward-compatible.</p>
<p>2018-09-01: <a href="https://www.ibm.com/support/knowledgecenter/en/linuxonibm/liaag/wkvm/wkvm_c_overview.htm">IBM Z mainframes</a>. The page says that the 2018 system is mostly backwards-compatible to the 1964 system.</p>
<ul>
<li>2014: <a href="http://www.longpelaexpertise.com.au/ezine/IBMBackwardCompatibility.php">Are IBM Mainframes Really Backward Compatible? - LongEx Mainframe Quarterly</a></li>
</ul>
<p>Windows 95: <a href="https://news.ycombinator.com/item?id=2281932">Much more than you would ever know.. The original version of Sim City was writt… | Hacker News</a></p>
<h4 id="respect-legacy-code-because-it-works-but-dont-get-too-attached-to-anything."><span class="section_number">4.1.6</span><span class="section_title">Respect legacy code because it works, but don't get too attached to anything.</span></h4>
<p>It may be ugly, but <em>it works</em>.</p>
<ul>
<li>Is the code really ugly?
<ul>
<li>Are you refusing to read it because it doesn't fit your taste? Indent size? Snake case vs camel case?
<ul>
<li>Is the code truly unreadable, or are you just an asshole?
<ul>
<li>How hard have you tried?</li>
</ul></li>
</ul></li>
</ul></li>
</ul>
<h3 id="forward-compatibility"><span class="section_number">4.2</span><span class="section_title">Forward-compatibility?</span></h3>
<h3 id="logging"><span class="section_number">4.3</span><span class="section_title">Logging</span></h3>
<ul>
<li>Before logging something, think how it would be read.</li>
<li>If you can't read the log, you shouldn't write the log.</li>
<li>Only log important things. Keep logging volume low. Minimize retention; only retain important logs. Don't retain debugging logs.</li>
<li>Storage is cheap. Rotate your logs and buy more storage.</li>
<li>If you're looking for things to do, maybe you can try using Amazon SDK and log your events to CloudWatch or CloudTrail (or perhaps even SNS). Treat a log as an event stream, not a file.</li>
<li><a href="http://jasonwilder.com/blog/2013/07/16/centralized-logging-architecture/">http://jasonwilder.com/blog/2013/07/16/centralized-logging-architecture/</a></li>
<li><a href="http://jasonwilder.com/blog/2012/01/03/centralized-logging/">http://jasonwilder.com/blog/2012/01/03/centralized-logging/</a></li>
</ul>
<h3 id="maintainability"><span class="section_number">4.4</span><span class="section_title">Maintainability</span></h3>
<ul>
<li>2017-05-20
<ul>
<li>What helps writing maintainable software?
<ul>
<li>Minimize duplication? The programming language limits deduplication?</li>
<li>Facilitate change, minimize ripple due to change</li>
<li>Flexibility of a component is proportional to its risk of changing?</li>
</ul></li>
</ul></li>
</ul>
<h3 id="how-do-you-know-a-software-is-maintainable"><span class="section_number">4.5</span><span class="section_title">How do you know a software is maintainable?</span></h3>
<ul>
<li>Change all the programmers. If the new programmers can handle it, it's maintainable.</li>
<li>The only way to ensure software maintainability is periodic rotation of programmers?
<ul>
<li>Yegor agrees: we should rotate programmers, no less frequent than every year, for software maintainability <a href="https://www.yegor256.com/2015/12/29/turnover-is-good-for-maintainability.html">https://www.yegor256.com/2015/12/29/turnover-is-good-for-maintainability.html</a></li>
</ul></li>
</ul>
<h2 id="raw-stuff-dont-read"><span class="section_number">5</span><span class="section_title">Raw stuff; don't read?</span></h2>
<div class="local_table_of_contents">
<ul>
<li><span class="section_number">5.1</span><span class="section_title"><a href="#rant">Rant?</a></span><span class="word_count">(38w~1m)</span></li>
<li><span class="section_number">5.2</span><span class="section_title"><a href="#how-do-we-reverse-engineer-software">How do we reverse-engineer software?</a></span><span class="word_count">(107w~1m)</span></li>
<li><span class="section_number">5.3</span><span class="section_title"><a href="#fix-this-incoherent-java-ramble-dont-read"><span class="todo TODO">TODO</span> Fix this incoherent Java ramble; don't read</a></span><span class="word_count">(1921w~10m)</span></li>
<li><span class="section_number">5.4</span><span class="section_title"><a href="#functional-programming-research">Functional programming research</a></span><span class="word_count">(1403w~8m)</span></li>
<li><span class="section_number">5.5</span><span class="section_title"><a href="#how-do-we-write-correct-software">How do we write correct software?</a></span><span class="word_count">(722w~4m)</span></li>
<li><span class="section_number">5.6</span><span class="section_title"><a href="#ramblings-wish-lists-too-speculative-unclear-goalreason-condemned-to-oblivion">Ramblings? Wish lists? Too speculative? Unclear goal/reason? Condemned to oblivion?</a></span><span class="word_count">(2916w~15m)</span></li>
<li><span class="section_number">5.7</span><span class="section_title"><a href="#what-is-software-engineering-1">What is software engineering?</a></span><span class="word_count">(1144w~6m)</span></li>
</ul>
</div>
<h3 id="rant"><span class="section_number">5.1</span><span class="section_title">Rant?</span></h3>
<p>&lt;2018-10-28&gt; Systemd programmers are not competent enough for what they are doing.<a href="#fn5" class="footnote-ref" id="fnref5"><sup>5</sup></a><a href="#fn6" class="footnote-ref" id="fnref6"><sup>6</sup></a></p>
<p>Computers feel slow not because hardware sucks, but because programmers tell it to do stupid things. Ever-stronger hardware lets more programmers get away with writing ever-shittier software.</p>
<h3 id="how-do-we-reverse-engineer-software"><span class="section_number">5.2</span><span class="section_title">How do we reverse-engineer software?</span></h3>
<p>Sometimes I think about <a href="reveng.html">reverse software engineering</a>.</p>
<p>I wanted to automate stock trading with my broker which has a stock trading application written in Java 6. Thus I wrote <a href="rejava.html">Reverse engineering the network protocol used by a Java desktop application</a>. But now I think financial economy is just a big Ponzi scheme full of rent-seeking, full of people who want to get a slice of the pie of real economy without growing the pie of real economy, full of people who just want to extract value from society without creating value, people who only take but don't give, people who only shuffle money around.</p>
<h3 id="fix-this-incoherent-java-ramble-dont-read"><span class="section_number">5.3</span><span class="section_title"><span class="todo TODO">TODO</span> Fix this incoherent Java ramble; don't read</span></h3>
<ul>
<li>Make it work</li>
<li>Make it maintainable</li>
<li>Make it efficient (only if needed)</li>
<li>Make it reusable (only if there is demand)</li>
<li>You Are Not Gonna Need It until proven otherwise, but this does not mean you do not need to anticipate.</li>
<li>There are many ways to write code that do the same thing. Prefer the way that is the easiest to read and change and needs the least maintenance.</li>
<li>Don't write getters and setters. Move the computation into the class, or use public fields.</li>
<li>Corollary: Use public fields for your DTOs (or move the computation there). <a href="http://stackoverflow.com/questions/10240372/jackson-field-based-serialization">http://stackoverflow.com/questions/10240372/jackson-field-based-serialization</a></li>
<li>Make value classes have final fields and a constructor.</li>
<li>Use Java wisely (&quot;Object-assisted procedural programming&quot;). <a href="https://www.quora.com/In-Object-Oriented-design-are-void-methods-bad">https://www.quora.com/In-Object-Oriented-design-are-void-methods-bad</a></li>
<li>OBPP (&quot;Object-based procedural programming&quot;), term coined by Peter DiSalvo.</li>
<li>Java is not OOP; Java is OBPP.</li>
</ul>
<p>The Java language is the C language with automatic memory management and without preprocessor.</p>
<p>C:</p>
<div class="sourceCode" id="cb1" data-org-language="C"><pre class="sourceCode c"><code class="sourceCode c"><a class="sourceLine" id="cb1-1" title="1"><span class="co">/* file MyClass.h */</span></a>
<a class="sourceLine" id="cb1-2" title="2"></a>
<a class="sourceLine" id="cb1-3" title="3"><span class="pp">#ifdef _MyClass_h_INCLUDED_</span></a>
<a class="sourceLine" id="cb1-4" title="4"><span class="pp">#define _MyClass_h_INCLUDED_</span></a>
<a class="sourceLine" id="cb1-5" title="5"></a>
<a class="sourceLine" id="cb1-6" title="6"><span class="kw">struct</span> _MyClass;</a>
<a class="sourceLine" id="cb1-7" title="7"><span class="kw">typedef</span> <span class="kw">struct</span> _MyClass MyClass;</a>
<a class="sourceLine" id="cb1-8" title="8"></a>
<a class="sourceLine" id="cb1-9" title="9">MyClass* MyClass_new ();</a>
<a class="sourceLine" id="cb1-10" title="10"></a>
<a class="sourceLine" id="cb1-11" title="11"><span class="dt">int</span> MyClass_myMethod (MyClass* this, Arg* arg);</a>
<a class="sourceLine" id="cb1-12" title="12"></a>
<a class="sourceLine" id="cb1-13" title="13"><span class="pp">#endif</span></a>
<a class="sourceLine" id="cb1-14" title="14"></a>
<a class="sourceLine" id="cb1-15" title="15"></a>
<a class="sourceLine" id="cb1-16" title="16"><span class="co">/* file MyClass.c */</span></a>
<a class="sourceLine" id="cb1-17" title="17"></a>
<a class="sourceLine" id="cb1-18" title="18"><span class="pp">#include </span><span class="im">&lt;MyClass.h&gt;</span></a>
<a class="sourceLine" id="cb1-19" title="19"></a>
<a class="sourceLine" id="cb1-20" title="20"><span class="dt">static</span> <span class="dt">const</span> <span class="dt">int</span> ONE = <span class="dv">1</span>;</a>
<a class="sourceLine" id="cb1-21" title="21"></a>
<a class="sourceLine" id="cb1-22" title="22"><span class="kw">struct</span> _MyClass {</a>
<a class="sourceLine" id="cb1-23" title="23">    <span class="dt">int</span> myField;</a>
<a class="sourceLine" id="cb1-24" title="24">};</a>
<a class="sourceLine" id="cb1-25" title="25"></a>
<a class="sourceLine" id="cb1-26" title="26">MyClass* MyClass_new () {</a>
<a class="sourceLine" id="cb1-27" title="27">    <span class="dt">const</span> <span class="dt">int</span> size = <span class="kw">sizeof</span>(MyClass);</a>
<a class="sourceLine" id="cb1-28" title="28">    MyClass* this = malloc(size);</a>
<a class="sourceLine" id="cb1-29" title="29">    memset(this, <span class="dv">0</span>, size);</a>
<a class="sourceLine" id="cb1-30" title="30">    <span class="cf">return</span> this;</a>
<a class="sourceLine" id="cb1-31" title="31">}</a>
<a class="sourceLine" id="cb1-32" title="32"></a>
<a class="sourceLine" id="cb1-33" title="33"><span class="dt">int</span> MyClass_myMethod (MyClass* this, Arg* arg) {</a>
<a class="sourceLine" id="cb1-34" title="34">    this-&gt;myField = ONE + Arg_getField(arg);</a>
<a class="sourceLine" id="cb1-35" title="35">    <span class="cf">return</span> ONE;</a>
<a class="sourceLine" id="cb1-36" title="36">}</a></code></pre></div>
<p>Java:</p>
<div class="sourceCode" id="cb2"><pre class="sourceCode java"><code class="sourceCode java"><a class="sourceLine" id="cb2-1" title="1"><span class="co">/* file MyClass.java */</span></a>
<a class="sourceLine" id="cb2-2" title="2"><span class="kw">class</span> MyClass {</a>
<a class="sourceLine" id="cb2-3" title="3">    <span class="kw">private</span> <span class="dt">static</span> <span class="dt">final</span> <span class="dt">int</span> ONE = <span class="dv">1</span>;</a>
<a class="sourceLine" id="cb2-4" title="4">    <span class="kw">private</span> <span class="dt">int</span> <span class="fu">myMethod</span> (Arg arg) {</a>
<a class="sourceLine" id="cb2-5" title="5">        <span class="kw">this</span>.<span class="fu">myField</span> = ONE + arg.<span class="fu">getField</span>();</a>
<a class="sourceLine" id="cb2-6" title="6">        <span class="kw">return</span> ONE;</a>
<a class="sourceLine" id="cb2-7" title="7">    }</a>
<a class="sourceLine" id="cb2-8" title="8">}</a></code></pre></div>
<p>The essence is the same, but Java reduces the accidental complexity.</p>
<p>Method chaining vs fluent Method chaining transforms the dot (method invocation) into semicolon (sequence point).</p>
<p>Fluent is embedded DSL.</p>
<ul>
<li>Don't use TestNG's <strong>???</strong> for SomethingExample? Write a main method in a SomethingExample class instead?</li>
<li>Other stuffs <a href="https://github.com/jhalterman/failsafe">https://github.com/jhalterman/failsafe</a></li>
<li><a href="http://blog.ploeh.dk/2014/03/10/solid-the-next-step-is-functional/">http://blog.ploeh.dk/2014/03/10/solid-the-next-step-is-functional/</a></li>
<li><a href="http://martinfowler.com/bliki/RoleInterface.html">http://martinfowler.com/bliki/RoleInterface.html</a></li>
<li><a href="http://blog.ploeh.dk/2011/06/07/SOLIDCodeisnt/">http://blog.ploeh.dk/2011/06/07/SOLIDCodeisnt/</a></li>
<li><a href="https://www.jetbrains.com/help/idea/2016.2/code-inspection.html">https://www.jetbrains.com/help/idea/2016.2/code-inspection.html</a></li>
<li>object is closure; closure is object</li>
<li>LLVM is procedural core.</li>
</ul>
<p>Candidate solution: source-to-source translation</p>
<p>Candidate solution: binary interoperability</p>
<p>Translate Java class to LLVM IR.</p>
<p>Translate Haskell to LLVM IR.</p>
<p>Translate C to LLVM IR.</p>
<p>Java has JNI.</p>
<p>Constraints:</p>
<ul>
<li>ABI-compatible with JNI: JNI C libraries works without recompilation.</li>
</ul>
<p>Foreign.</p>
<p>What's wrong: I want to edit the syntax tree. I don't care about spacing.</p>
<p>The name is <em>structural editor</em>. projectional editor.</p>
<p><a href="https://www.facebook.com/notes/kent-beck/prune-a-code-editor-that-is-not-a-text-editor/1012061842160013/">https://www.facebook.com/notes/kent-beck/prune-a-code-editor-that-is-not-a-text-editor/1012061842160013/</a></p>
<p><a href="http://www.lamdu.org/">http://www.lamdu.org/</a></p>
<p><a href="http://projectured.org/">http://projectured.org/</a></p>
<div class="local_table_of_contents">
<ul>
<li><span class="section_number">5.3.1</span><span class="section_title"><a href="#improving-the-java-language">Improving the Java language</a></span><span class="word_count">(12w~1m)</span></li>
<li><span class="section_number">5.3.2</span><span class="section_title"><a href="#metaprogramming">Metaprogramming</a></span><span class="word_count">(1w~1m)</span></li>
<li><span class="section_number">5.3.3</span><span class="section_title"><a href="#old">Old</a></span><span class="word_count">(190w~1m)</span></li>
<li><span class="section_number">5.3.4</span><span class="section_title"><a href="#example-of-namespacing">Example of namespacing</a></span><span class="word_count">(43w~1m)</span></li>
<li><span class="section_number">5.3.5</span><span class="section_title"><a href="#another-example">Another example</a></span><span class="word_count">(2w~1m)</span></li>
<li><span class="section_number">5.3.6</span><span class="section_title"><a href="#mixin">Mixin</a></span><span class="word_count">(26w~1m)</span></li>
<li><span class="section_number">5.3.7</span><span class="section_title"><a href="#unrelated">Unrelated</a></span><span class="word_count">(199w~1m)</span></li>
<li><span class="section_number">5.3.8</span><span class="section_title"><a href="#can-process-fix-incompetent-people">Can process fix incompetent people?</a></span><span class="word_count">(5w~1m)</span></li>
<li><span class="section_number">5.3.9</span><span class="section_title"><a href="#java-haskell-interoperation">Java-Haskell interoperation</a></span><span class="word_count">(45w~1m)</span></li>
<li><span class="section_number">5.3.10</span><span class="section_title"><a href="#haskell-to-java">Haskell-to-Java</a></span><span class="word_count">(117w~1m)</span></li>
<li><span class="section_number">5.3.11</span><span class="section_title"><a href="#architecture">Architecture</a></span><span class="word_count">(23w~1m)</span></li>
<li><span class="section_number">5.3.12</span><span class="section_title"><a href="#understanding-factoring">Understanding factoring</a></span><span class="word_count">(81w~1m)</span></li>
<li><span class="section_number">5.3.13</span><span class="section_title"><a href="#oop-as-a-special-case-of-fp">OOP as a special case of FP</a></span><span class="word_count">(17w~1m)</span></li>
<li><span class="section_number">5.3.14</span><span class="section_title"><a href="#functional-multimethod">Functional multimethod</a></span><span class="word_count">(3w~1m)</span></li>
<li><span class="section_number">5.3.15</span><span class="section_title"><a href="#java">Java</a></span><span class="word_count">(168w~1m)</span></li>
<li><span class="section_number">5.3.16</span><span class="section_title"><a href="#extract-covariant-expressions-into-variables">Extract covariant expressions into variables</a></span><span class="word_count">(30w~1m)</span></li>
<li><span class="section_number">5.3.17</span><span class="section_title"><a href="#extract-covariant-blocks-into-method">Extract covariant blocks into method</a></span><span class="word_count">(55w~1m)</span></li>
<li><span class="section_number">5.3.18</span><span class="section_title"><a href="#implications-of-architecture-on-security">Implications of architecture on security</a></span><span class="word_count">(195w~1m)</span></li>
<li><span class="section_number">5.3.19</span><span class="section_title"><a href="#mitigating-the-risk-of-changing-code">Mitigating the risk of changing code</a></span><span class="word_count">(26w~1m)</span></li>
<li><span class="section_number">5.3.20</span><span class="section_title"><a href="#maintainable-code">Maintainable code</a></span><span class="word_count">(93w~1m)</span></li>
<li><span class="section_number">5.3.21</span><span class="section_title"><a href="#writing-program-backwards">Writing program backwards</a></span><span class="word_count">(324w~2m)</span></li>
<li><span class="section_number">5.3.22</span><span class="section_title"><a href="#crucial-question">Crucial question</a></span><span class="word_count">(20w~1m)</span></li>
<li><span class="section_number">5.3.23</span><span class="section_title"><a href="#use-snake-case">Use snake case</a></span><span class="word_count">(33w~1m)</span></li>
</ul>
</div>
<h4 id="improving-the-java-language"><span class="section_number">5.3.1</span><span class="section_title">Improving the Java language</span></h4>
<p>Too much software is written in Java.</p>
<p>Xtend</p>
<p>Kotlin</p>
<p>IDE support</p>
<p>Top-level methods.</p>
<h4 id="metaprogramming"><span class="section_number">5.3.2</span><span class="section_title">Metaprogramming</span></h4>
<pre class="example"><code>{% raw %}
    msg = &quot;Hello&quot;;
    c = Class.new;
    c += {{ int foo; }};
    c += {{
        void sayHello ()
        {
            System.out.println($msg);
        }
    }};
{% endraw %}
</code></pre>
<h4 id="old"><span class="section_number">5.3.3</span><span class="section_title">Old</span></h4>
<p>This is my opinion on how to best use Java.</p>
<p>Java, when used properly, should not be more verbose than C. <strong>Java should be thought as enhanced C</strong>. It adds these features:</p>
<ul>
<li>namespacing</li>
<li>garbage collection</li>
<li>exception</li>
<li>limited functional programming</li>
<li>reflection (should be documented thoroughly when used)</li>
</ul>
<p>and it removes these features:</p>
<ul>
<li>preprocessor</li>
<li>separate header files</li>
</ul>
<p>Java sucks least when used as a <strong>mainly procedural</strong> programming language.</p>
<p>Subclassing, public fields, getters, setters, statics, mutability, and big classes are not evil in and of themselves. What is evil is <em>writing code without understanding <strong>why</strong> you write it that way</em>. The key to good programming is understanding why the code is the way it is.</p>
<p>With documentation, understanding data is easier than understanding control flow.</p>
<p><strong>A maintenance engineer translates requirement changes to software changes.</strong> Software consists of program code, database schema, documentation, and so on. A software is maintainable iff a reasonable requirement change translates to a reasonable software change.</p>
<p>For example, an application may now have to handle ten times the traffic it was designed for.</p>
<p>If, in 10 years, your application will never handle more than 10 requests per second, but you split your application into 10 JVMs communicating with JSON-RPC, you're wasting too many resources.</p>
<h4 id="example-of-namespacing"><span class="section_number">5.3.4</span><span class="section_title">Example of namespacing</span></h4>
<p>This is a module in C. Note that each procedure name is prefixed with <code>point_</code>.</p>
<div class="sourceCode" id="cb4" data-org-language="C"><pre class="sourceCode c"><code class="sourceCode c"><a class="sourceLine" id="cb4-1" title="1"><span class="pp">#include </span><span class="im">&lt;math.h&gt;</span></a>
<a class="sourceLine" id="cb4-2" title="2"></a>
<a class="sourceLine" id="cb4-3" title="3"><span class="kw">typedef</span> <span class="kw">struct</span></a>
<a class="sourceLine" id="cb4-4" title="4">{</a>
<a class="sourceLine" id="cb4-5" title="5">    <span class="dt">double</span> x;</a>
<a class="sourceLine" id="cb4-6" title="6">    <span class="dt">double</span> y;</a>
<a class="sourceLine" id="cb4-7" title="7">}</a>
<a class="sourceLine" id="cb4-8" title="8">Point;</a>
<a class="sourceLine" id="cb4-9" title="9"></a>
<a class="sourceLine" id="cb4-10" title="10"><span class="dt">void</span> point_init (Point* self, <span class="dt">double</span> x, <span class="dt">double</span> y)</a>
<a class="sourceLine" id="cb4-11" title="11">{</a>
<a class="sourceLine" id="cb4-12" title="12">    self-&gt;x = x;</a>
<a class="sourceLine" id="cb4-13" title="13">    self-&gt;y = y;</a>
<a class="sourceLine" id="cb4-14" title="14">}</a>
<a class="sourceLine" id="cb4-15" title="15"></a>
<a class="sourceLine" id="cb4-16" title="16"><span class="dt">double</span> point_distance (Point* a, Point* b)</a>
<a class="sourceLine" id="cb4-17" title="17">{</a>
<a class="sourceLine" id="cb4-18" title="18">    <span class="cf">return</span> sqrt(square(b-&gt;x - a-&gt;x) + square(b-&gt;y - a-&gt;y));</a>
<a class="sourceLine" id="cb4-19" title="19">}</a>
<a class="sourceLine" id="cb4-20" title="20"></a>
<a class="sourceLine" id="cb4-21" title="21"><span class="dt">static</span> <span class="dt">double</span> square (<span class="dt">double</span> x)</a>
<a class="sourceLine" id="cb4-22" title="22">{</a>
<a class="sourceLine" id="cb4-23" title="23">    <span class="cf">return</span> x * x;</a>
<a class="sourceLine" id="cb4-24" title="24">}</a></code></pre></div>
<p>This is the module in Java. Note that now you don't have to prefix your method names with <code>point_</code> because it already lives in the class <code>Point</code>.</p>
<div class="sourceCode" id="cb5"><pre class="sourceCode java"><code class="sourceCode java"><a class="sourceLine" id="cb5-1" title="1"><span class="kw">package</span><span class="im"> com.example;</span></a>
<a class="sourceLine" id="cb5-2" title="2"></a>
<a class="sourceLine" id="cb5-3" title="3"><span class="dt">final</span> <span class="kw">class</span> <span class="bu">Point</span></a>
<a class="sourceLine" id="cb5-4" title="4">{</a>
<a class="sourceLine" id="cb5-5" title="5">    <span class="dt">final</span> <span class="dt">double</span> x;</a>
<a class="sourceLine" id="cb5-6" title="6">    <span class="dt">final</span> <span class="dt">double</span> y;</a>
<a class="sourceLine" id="cb5-7" title="7"></a>
<a class="sourceLine" id="cb5-8" title="8">    <span class="bu">Point</span> (<span class="dt">double</span> x, <span class="dt">double</span> y)</a>
<a class="sourceLine" id="cb5-9" title="9">    {</a>
<a class="sourceLine" id="cb5-10" title="10">        <span class="kw">this</span>.<span class="fu">x</span> = x;</a>
<a class="sourceLine" id="cb5-11" title="11">        <span class="kw">this</span>.<span class="fu">y</span> = y;</a>
<a class="sourceLine" id="cb5-12" title="12">    }</a>
<a class="sourceLine" id="cb5-13" title="13"></a>
<a class="sourceLine" id="cb5-14" title="14">    <span class="dt">double</span> <span class="fu">distance</span> (<span class="bu">Point</span> that)</a>
<a class="sourceLine" id="cb5-15" title="15">    {</a>
<a class="sourceLine" id="cb5-16" title="16">        <span class="kw">return</span> <span class="fu">distance</span>(<span class="kw">this</span>, that);</a>
<a class="sourceLine" id="cb5-17" title="17">    }</a>
<a class="sourceLine" id="cb5-18" title="18"></a>
<a class="sourceLine" id="cb5-19" title="19">    <span class="dt">static</span> <span class="dt">double</span> <span class="fu">distance</span> (<span class="bu">Point</span> a, <span class="bu">Point</span> b)</a>
<a class="sourceLine" id="cb5-20" title="20">    {</a>
<a class="sourceLine" id="cb5-21" title="21">        <span class="kw">return</span> <span class="bu">Math</span>.<span class="fu">sqrt</span>(<span class="fu">square</span>(b.<span class="fu">x</span> - a.<span class="fu">x</span>) + <span class="fu">square</span>(b.<span class="fu">y</span> - a.<span class="fu">y</span>));</a>
<a class="sourceLine" id="cb5-22" title="22">    }</a>
<a class="sourceLine" id="cb5-23" title="23"></a>
<a class="sourceLine" id="cb5-24" title="24">    <span class="kw">private</span> <span class="dt">static</span> <span class="dt">double</span> <span class="fu">square</span> (<span class="dt">double</span> x)</a>
<a class="sourceLine" id="cb5-25" title="25">    {</a>
<a class="sourceLine" id="cb5-26" title="26">        <span class="kw">return</span> x * x;</a>
<a class="sourceLine" id="cb5-27" title="27">    }</a>
<a class="sourceLine" id="cb5-28" title="28">}</a></code></pre></div>
<h4 id="another-example"><span class="section_number">5.3.5</span><span class="section_title">Another example</span></h4>
<div class="sourceCode" id="cb6"><pre class="sourceCode java"><code class="sourceCode java"><a class="sourceLine" id="cb6-1" title="1"><span class="kw">class</span> Exchange</a>
<a class="sourceLine" id="cb6-2" title="2">{</a>
<a class="sourceLine" id="cb6-3" title="3">    <span class="dt">final</span> HttpServletRequest request;</a>
<a class="sourceLine" id="cb6-4" title="4">    <span class="dt">final</span> HttpServletResponse response;</a>
<a class="sourceLine" id="cb6-5" title="5">}</a></code></pre></div>
<h4 id="mixin"><span class="section_number">5.3.6</span><span class="section_title">Mixin</span></h4>
<p>Use extend or mixin if and only if you want all subclasses to benefit from enhancements of the base class.</p>
<p>A tradeoff is that <code>unsafeSetHp</code> is public.</p>
<div class="sourceCode" id="cb7"><pre class="sourceCode java"><code class="sourceCode java"><a class="sourceLine" id="cb7-1" title="1"><span class="kw">interface</span> GameObject</a>
<a class="sourceLine" id="cb7-2" title="2">{</a>
<a class="sourceLine" id="cb7-3" title="3">    <span class="dt">long</span> <span class="fu">getId</span> ();</a>
<a class="sourceLine" id="cb7-4" title="4">}</a>
<a class="sourceLine" id="cb7-5" title="5"></a>
<a class="sourceLine" id="cb7-6" title="6"><span class="kw">interface</span> Health</a>
<a class="sourceLine" id="cb7-7" title="7">{</a>
<a class="sourceLine" id="cb7-8" title="8">    <span class="dt">int</span> <span class="fu">getMaxHp</span> ();</a>
<a class="sourceLine" id="cb7-9" title="9">    <span class="dt">int</span> <span class="fu">getHp</span> ();</a>
<a class="sourceLine" id="cb7-10" title="10">    <span class="dt">void</span> <span class="fu">unsafeSetHp</span> (<span class="dt">int</span> x);</a>
<a class="sourceLine" id="cb7-11" title="11">    <span class="kw">default</span> <span class="dt">void</span> <span class="fu">setHp</span> (<span class="dt">int</span> x)</a>
<a class="sourceLine" id="cb7-12" title="12">    {</a>
<a class="sourceLine" id="cb7-13" title="13">        <span class="dt">final</span> <span class="dt">int</span> maxHp = <span class="fu">getMaxHp</span>();</a>
<a class="sourceLine" id="cb7-14" title="14">        <span class="kw">if</span> (x &lt; <span class="dv">0</span>) { <span class="fu">setHp</span>(<span class="dv">0</span>); <span class="kw">return</span>; }</a>
<a class="sourceLine" id="cb7-15" title="15">        <span class="kw">if</span> (x &gt;= maxHp) { <span class="fu">setHp</span>(maxHp); <span class="kw">return</span>; }</a>
<a class="sourceLine" id="cb7-16" title="16">        <span class="fu">setHp</span>(x);</a>
<a class="sourceLine" id="cb7-17" title="17">    }</a>
<a class="sourceLine" id="cb7-18" title="18">    <span class="kw">default</span> <span class="dt">boolean</span> <span class="fu">isDead</span> ()</a>
<a class="sourceLine" id="cb7-19" title="19">    {</a>
<a class="sourceLine" id="cb7-20" title="20">        <span class="kw">return</span> <span class="fu">getHp</span>() &lt;= <span class="dv">0</span>;</a>
<a class="sourceLine" id="cb7-21" title="21">    }</a>
<a class="sourceLine" id="cb7-22" title="22">    <span class="kw">default</span> <span class="dt">void</span> <span class="fu">addHp</span> (<span class="dt">int</span> x)</a>
<a class="sourceLine" id="cb7-23" title="23">    {</a>
<a class="sourceLine" id="cb7-24" title="24">        <span class="fu">setHp</span>(<span class="fu">getHp</span>() + x);</a>
<a class="sourceLine" id="cb7-25" title="25">    }</a>
<a class="sourceLine" id="cb7-26" title="26">}</a>
<a class="sourceLine" id="cb7-27" title="27"></a>
<a class="sourceLine" id="cb7-28" title="28"><span class="kw">class</span> Chara <span class="kw">implements</span> GameObject, Health</a>
<a class="sourceLine" id="cb7-29" title="29">{</a>
<a class="sourceLine" id="cb7-30" title="30">    <span class="dt">final</span> <span class="dt">long</span> id;</a>
<a class="sourceLine" id="cb7-31" title="31"></a>
<a class="sourceLine" id="cb7-32" title="32">    <span class="dt">int</span> maxHp;</a>
<a class="sourceLine" id="cb7-33" title="33">    <span class="dt">int</span> hp;</a>
<a class="sourceLine" id="cb7-34" title="34"></a>
<a class="sourceLine" id="cb7-35" title="35">    <span class="fu">Chara</span> (<span class="dt">long</span> id, <span class="dt">int</span> maxHp)</a>
<a class="sourceLine" id="cb7-36" title="36">    {</a>
<a class="sourceLine" id="cb7-37" title="37">        <span class="kw">this</span>.<span class="fu">id</span> = id;</a>
<a class="sourceLine" id="cb7-38" title="38">        <span class="kw">this</span>.<span class="fu">maxHp</span> = maxHp;</a>
<a class="sourceLine" id="cb7-39" title="39">        <span class="kw">this</span>.<span class="fu">hp</span> = maxHp;</a>
<a class="sourceLine" id="cb7-40" title="40">    }</a>
<a class="sourceLine" id="cb7-41" title="41"></a>
<a class="sourceLine" id="cb7-42" title="42">    <span class="at">@Override</span> <span class="kw">public</span> <span class="dt">long</span> <span class="fu">getId</span> () { <span class="kw">return</span> id; }</a>
<a class="sourceLine" id="cb7-43" title="43">    <span class="at">@Override</span> <span class="kw">public</span> <span class="dt">int</span> <span class="fu">getMaxHp</span> () { <span class="kw">return</span> maxHp; }</a>
<a class="sourceLine" id="cb7-44" title="44">    <span class="at">@Override</span> <span class="kw">public</span> <span class="dt">int</span> <span class="fu">getHp</span> () { <span class="kw">return</span> hp; }</a>
<a class="sourceLine" id="cb7-45" title="45">    <span class="at">@Override</span> <span class="kw">public</span> <span class="dt">void</span> <span class="fu">unsafeSetHp</span> (<span class="dt">int</span> x) { <span class="kw">this</span>.<span class="fu">hp</span> = x; }</a>
<a class="sourceLine" id="cb7-46" title="46">}</a></code></pre></div>
<h4 id="unrelated"><span class="section_number">5.3.7</span><span class="section_title">Unrelated</span></h4>
<p>Field stores data. Method does work. Classes groups fields and methods.</p>
<p><em>A class groups methods that share parameters.</em> The fields are those shared parameters.</p>
<p>A Java class is equivalent to a C struct and the functions whose first parameter is that struct. In C, those things are usually grouped into one C file, so a Java class is practically equivalent to a C file. Static field in Java is global variable in C, but without the name conflict.</p>
<p>C <code>#include</code> translates to Java <code>import</code>, <code>extends</code>, and <code>implements</code>. <code>implements X</code> imports X's default methods into this module. <code>extends X</code> imports X's fields and methods into this module. <code>import static</code> imports X's static methods into this module.</p>
<p>Java 8 interfaces can be used as mixins. Use default methods.</p>
<p>A mixin is a contract &quot;if you give me X, I'll give you Y.&quot;</p>
<p>Every method is a contract: If you give me X, I'll give you Y.</p>
<p>Getters and setters provide &quot;lazy fields&quot; and &quot;computed fields&quot;.</p>
<p>Java can be used with edit-compile-reload-refresh. Java can hotswap.</p>
<p>IDE makes navigation easy.</p>
<p>A class is an instantiable module.</p>
<p>The aim is to maximize understandability and minimize duplication. Sometimes, reducing duplication makes the code incomprehensible.</p>
<p><code>a.b(c)</code> is a syntactic sugar for <code>b(a,c)</code>. Implicit first argument.</p>
<p>Exception is structured goto.</p>
<p><a href="https://www.reddit.com/r/learnprogramming/comments/1f0g2b/eli5_the_main_differences_between_oop_and/">https://www.reddit.com/r/learnprogramming/comments/1f0g2b/eli5_the_main_differences_between_oop_and/</a></p>
<p><a href="https://www.reddit.com/r/learnprogramming/comments/tocjf/procedural_programmer_me_needs_help_making_the_oo/">https://www.reddit.com/r/learnprogramming/comments/tocjf/procedural_programmer_me_needs_help_making_the_oo/</a></p>
<h4 id="can-process-fix-incompetent-people"><span class="section_number">5.3.8</span><span class="section_title">Can process fix incompetent people?</span></h4>
<h4 id="java-haskell-interoperation"><span class="section_number">5.3.9</span><span class="section_title">Java-Haskell interoperation</span></h4>
<p><a href="https://wiki.haskell.org/GHC/FAQ">https://wiki.haskell.org/GHC/FAQ</a></p>
<p><a href="https://wiki.haskell.org/HaskellImplementorsWorkshop/2016">https://wiki.haskell.org/HaskellImplementorsWorkshop/2016</a></p>
<ol>
<li><p>State of the art</p>
<p>LLJVM?</p>
<p><a href="https://github.com/Frege/frege">https://github.com/Frege/frege</a> Haskell-like language</p>
<p><a href="http://eta-lang.org/">http://eta-lang.org/</a> port GHC primitives to Java?</p>
<p>Sorted from the most desirable (highest level):</p>
<ul>
<li><p>Source-to-source translation.</p>
<ul>
<li>Write a Java source interpreter in Haskell.</li>
<li>Map Haskell code to Java.</li>
</ul></li>
</ul>
<p>Write a JVM in Haskell.</p>
<p>Translate both Java and Haskell to a common lower-level language such as LLVM.</p>
<p>Core-to-bytecode.</p>
<p>JNI-to-FFI.</p></li>
</ol>
<h4 id="haskell-to-java"><span class="section_number">5.3.10</span><span class="section_title">Haskell-to-Java</span></h4>
<p><a href="http://mmhelloworld.github.io/blog/2013/07/10/frege-hello-java/">http://mmhelloworld.github.io/blog/2013/07/10/frege-hello-java/</a></p>
<p>The Frege language. The Eta language.</p>
<p>Haskell =&gt; Java?</p>
<p>Core =&gt; Java?</p>
<p>Module =&gt; Class</p>
<p>Data type =&gt; Static inner class</p>
<p>Value <code>&gt; instance of =Thunk</code></p>
<p>Data constructor =&gt; Class extending the class corresponding to the data type</p>
<p>A value definition in a module =&gt; a static final Thunk field in the class</p>
<p>A class =&gt; A class</p>
<p>A member of a class <code>&gt; An instance field of the Class; the type of the field is =Thunk</code></p>
<p>A class constraint =&gt; A dictionary argument whose type is the class</p>
<p>Case match =&gt; if instanceof</p>
<div class="sourceCode" id="cb8"><pre class="sourceCode java"><code class="sourceCode java"><a class="sourceLine" id="cb8-1" title="1"><span class="kw">interface</span> Thunk</a>
<a class="sourceLine" id="cb8-2" title="2">{</a>
<a class="sourceLine" id="cb8-3" title="3">    <span class="bu">Object</span> <span class="fu">force</span> ();</a>
<a class="sourceLine" id="cb8-4" title="4">    Thunk <span class="fu">apply</span> (Thunk x);</a>
<a class="sourceLine" id="cb8-5" title="5">}</a>
<a class="sourceLine" id="cb8-6" title="6"></a>
<a class="sourceLine" id="cb8-7" title="7"><span class="kw">class</span> Atom</a>
<a class="sourceLine" id="cb8-8" title="8">{</a>
<a class="sourceLine" id="cb8-9" title="9">    <span class="bu">Object</span> value;</a>
<a class="sourceLine" id="cb8-10" title="10">    Supplier x;</a>
<a class="sourceLine" id="cb8-11" title="11">    <span class="fu">Atom</span> (Supplier x) { <span class="kw">this</span>.<span class="fu">x</span> = x; }</a>
<a class="sourceLine" id="cb8-12" title="12">    <span class="bu">Object</span> <span class="fu">force</span> ()</a>
<a class="sourceLine" id="cb8-13" title="13">    {</a>
<a class="sourceLine" id="cb8-14" title="14">        <span class="kw">if</span> (value == <span class="kw">null</span>) { value = x.<span class="fu">get</span>(); }</a>
<a class="sourceLine" id="cb8-15" title="15">        <span class="kw">return</span> value;</a>
<a class="sourceLine" id="cb8-16" title="16">    }</a>
<a class="sourceLine" id="cb8-17" title="17">}</a></code></pre></div>
<div class="sourceCode" id="cb9"><pre class="sourceCode haskell"><code class="sourceCode haskell"><a class="sourceLine" id="cb9-1" title="1"><span class="kw">module</span> <span class="dt">M</span> <span class="kw">where</span></a>
<a class="sourceLine" id="cb9-2" title="2"></a>
<a class="sourceLine" id="cb9-3" title="3"><span class="ot">a ::</span> <span class="dt">Int</span></a>
<a class="sourceLine" id="cb9-4" title="4">a <span class="fu">=</span> <span class="dv">1</span></a>
<a class="sourceLine" id="cb9-5" title="5"></a>
<a class="sourceLine" id="cb9-6" title="6"><span class="ot">f ::</span> <span class="dt">Int</span> <span class="ot">-&gt;</span> <span class="dt">Int</span></a>
<a class="sourceLine" id="cb9-7" title="7">f x <span class="fu">=</span> x <span class="fu">+</span> <span class="dv">1</span></a>
<a class="sourceLine" id="cb9-8" title="8"></a>
<a class="sourceLine" id="cb9-9" title="9"><span class="ot">g ::</span> (a <span class="ot">-&gt;</span> b) <span class="ot">-&gt;</span> a <span class="ot">-&gt;</span> b</a>
<a class="sourceLine" id="cb9-10" title="10">g f x <span class="fu">=</span> f x</a></code></pre></div>
<p>Map <code>Int</code> and <code>Int32</code> to a <code>Thunk</code> producing a <code>java.lang.Integer</code>. A Haskell program assumes that <code>Int</code> is a two's complement signed integer <em>at least</em> 30 bits wide.</p>
<div class="sourceCode" id="cb10"><pre class="sourceCode haskell"><code class="sourceCode haskell"><a class="sourceLine" id="cb10-1" title="1"><span class="kw">class</span> <span class="dt">M</span></a>
<a class="sourceLine" id="cb10-2" title="2">{</a>
<a class="sourceLine" id="cb10-3" title="3">    static final <span class="dt">Thunk</span> a <span class="fu">=</span> new <span class="dt">Atom</span>(() <span class="ot">-&gt;</span> <span class="dv">1</span>);</a>
<a class="sourceLine" id="cb10-4" title="4">    static final <span class="dt">Thunk</span> f <span class="fu">=</span> new <span class="dt">Lambda</span>(x <span class="ot">-&gt;</span> (<span class="dt">Integer</span>) x <span class="fu">+</span> <span class="dv">1</span>);</a>
<a class="sourceLine" id="cb10-5" title="5">    static final <span class="dt">Thunk</span> g <span class="fu">=</span> new <span class="dt">Lambda</span>(f <span class="ot">-&gt;</span> new <span class="dt">Lambda</span>(x <span class="ot">-&gt;</span> f<span class="fu">.</span>apply(x)));</a>
<a class="sourceLine" id="cb10-6" title="6">}</a></code></pre></div>
<ol>
<li><p>Java-to-Haskell</p>
<p><a href="https://github.com/Frege/frege/wiki/Calling-Frege-Code-from-Java">https://github.com/Frege/frege/wiki/Calling-Frege-Code-from-Java</a></p>
<p>Java method -&gt; foreign import</p>
<div class="sourceCode" id="cb11"><pre class="sourceCode haskell"><code class="sourceCode haskell"><a class="sourceLine" id="cb11-1" title="1"><span class="co">-- Foreign.Java</span></a>
<a class="sourceLine" id="cb11-2" title="2"></a>
<a class="sourceLine" id="cb11-3" title="3"><span class="kw">data</span> <span class="dt">JByte</span></a>
<a class="sourceLine" id="cb11-4" title="4"><span class="kw">data</span> <span class="dt">JInt</span></a>
<a class="sourceLine" id="cb11-5" title="5"><span class="kw">data</span> <span class="dt">JShort</span></a>
<a class="sourceLine" id="cb11-6" title="6"><span class="kw">data</span> <span class="dt">JLong</span></a>
<a class="sourceLine" id="cb11-7" title="7"><span class="kw">data</span> <span class="dt">JObject</span></a>
<a class="sourceLine" id="cb11-8" title="8"></a>
<a class="sourceLine" id="cb11-9" title="9">foreign <span class="kw">import</span> java package.<span class="dt">Class</span> <span class="dt">Method</span> :: <span class="dt">ArgType0</span> <span class="dt">ArgType1</span> ... <span class="kw">as</span> haskellName</a>
<a class="sourceLine" id="cb11-10" title="10"></a>
<a class="sourceLine" id="cb11-11" title="11">foreign <span class="kw">import</span> java java.lang.<span class="dt">Integer</span> parseInt :: <span class="dt">String</span> -&gt; <span class="dt">Int32</span> <span class="kw">as</span> jParseInt</a></code></pre></div>
<p>Message-passing view of Java objects</p>
<div class="sourceCode" id="cb12"><pre class="sourceCode haskell"><code class="sourceCode haskell"><a class="sourceLine" id="cb12-1" title="1">s <span class="ot">&lt;-</span> call object <span class="st">&quot;toString&quot;</span> []</a>
<a class="sourceLine" id="cb12-2" title="2"></a>
<a class="sourceLine" id="cb12-3" title="3"><span class="fu">...</span></a>
<a class="sourceLine" id="cb12-4" title="4"></a>
<a class="sourceLine" id="cb12-5" title="5">jls <span class="ot">&lt;-</span> getClass <span class="st">&quot;java.lang.System&quot;</span></a>
<a class="sourceLine" id="cb12-6" title="6">out <span class="ot">&lt;-</span> getField jls <span class="st">&quot;out&quot;</span></a>
<a class="sourceLine" id="cb12-7" title="7">call out <span class="st">&quot;println&quot;</span> [<span class="st">&quot;Hello world&quot;</span>]</a></code></pre></div></li>
</ol>
<h4 id="architecture"><span class="section_number">5.3.11</span><span class="section_title">Architecture</span></h4>
<p>Every Java program is a sequence of statements.</p>
<p>Every Java program is equivalent to one long main class?</p>
<p>A block is a sequence of statements.</p>
<pre class="example"><code>class Name
    int prop
    // Generates:
    // int prop
    // int getProp ()
    // void setProp (int)
end
</code></pre>
<h4 id="understanding-factoring"><span class="section_number">5.3.12</span><span class="section_title">Understanding factoring</span></h4>
<p>Imagine writing your program as one long main method. It is almost certain that you will find duplicate blocks.</p>
<p>Two duplicate blocks can be factored into a method. Two methods with the same parameters can be factored into a class.</p>
<p>What is an optimal factoring of that program? The factoring is wrong iff the same change needs to be performed more than once. A program can also suffer from modification anomaly.</p>
<p>There are prime fragments: fragments that cannot be factored into smaller parts.</p>
<h4 id="oop-as-a-special-case-of-fp"><span class="section_number">5.3.13</span><span class="section_title">OOP as a special case of FP</span></h4>
<p>Object and closure are equivalent.</p>
<p><code>o.m(a0,a1,...) -&gt; m o a0 a1 ...</code></p>
<h4 id="functional-multimethod"><span class="section_number">5.3.14</span><span class="section_title">Functional multimethod</span></h4>
<p>Statically checked.</p>
<pre class="example"><code>collide (a : Asteroid) (b : Asteroid) = ...
collide (a : Asteroid) (s : Spaceship) = ...
collide (s : Spaceship) (a : Asteroid) = collide a s
collide (s : Spaceship) (t : Spaceship) = ...

True : Bool.

False : Bool.

Ord Bool.

Bool x, Bool y |-
    Equal x y =
        match x y in
            False False -&gt; True;;
            True True -&gt; True;;
            _ _ -&gt; False.

LessThan False False = False.
LessThan False True = True.
LessThan True False = False.
LessThan True True = False.

IfElse False t f = f.
IfElse True t f = t.

And False x = False.
And True x = x.

Or False x = x.
Or True x = True.

Not False = True.
Not True = False.

Min x y = IfElse (LessThan x y) x y.
Max x y = IfElse (LessThan x y) y x.

Table Employee.

Column Id Employee |- Bigint Id.
Column Name Employee |- String Name.

Column name Employee, type name |- Read name From resultSet = Get type name From resultSet.

Column name Employee |-
    Member
        (Tuple name (Read name From resultSet))
        (Read Employee From resultSet).

Main |-
    source = Connect &quot;jdbc:postgresql://127.0.0.1/test&quot;,
    resultSet = ExecuteQuery source &quot;SELECT * FROM employee&quot;,
    Member tuple (Read Employee From resultSet),
    Print tuple.

?- Main.

Ord a, Ord b |- min a b = if lt a b then a else b

a : Asteroid, b : Asteroid |- collide a b = ...
IF
    a, b : Asteroid
    AND
    s, t : Spaceship
THEN
    collide a b = ...
    collide a s = ...
    collide s t = ...

define multimethod collide with parameters
    a, b : Asteroid
    s, t : Spaceship
where case parameters matching
    a b -&gt; ...
    a s -&gt; ...
    s a -&gt; ...
    s t -&gt; ...
</code></pre>
<h4 id="java"><span class="section_number">5.3.15</span><span class="section_title">Java</span></h4>
<p><code>a.m(b)</code> and <code>m(a,b)</code> are equivalent. The dot is a syntactic sugar for implicit first argument, plus virtual dispatch.</p>
<p>The changes that must be made to implement a feature. The program is well-factored if no change is duplicated.</p>
<p>A maintainable software does not have to be object-oriented, but it has to be well-factored. A well-factored program <em>prevents the same modification from being duplicated.</em></p>
<p>Factorization reduces information duplication.</p>
<p>Depending on dependable things simplify your program. I know someone who used a SQL database but didn't want to depend on it, so he wrote application-level joins everywhere.</p>
<p>A software is maintainable iff it is simple to change. Being able to start, stop, and restart quickly (in just a few seconds) also helps.</p>
<ol>
<li><p>SQL</p>
<p>Mutable fields.</p>
<pre class="example"><code>Column a
    name : String
    read : a -&gt; ResultSet -&gt; ()
    write : ResultSet -&gt; a -&gt; ()

Table a = [Column a]

read : Table a -&gt; a -&gt; ResultSet -&gt; ()
write : Table a -&gt; ResultSet -&gt; a -&gt; ()

interface SqlCallable2&lt;A, B&gt;
{
    void call (A a, B b) throws SQLException;
}

class Column&lt;E&gt;
{
    String name;
    SqlCallable2&lt;E, ResultSet&gt; read;
    SqlCallable2&lt;ResultSet, E&gt; write;
}
</code></pre></li>
<li><p>Annoyances of local variables</p>
<ul>
<li>Java can't infer the type of local variables</li>
<li>Local variables aren't final by default</li>
</ul>
<div class="sourceCode" id="cb16"><pre class="sourceCode java"><code class="sourceCode java"><a class="sourceLine" id="cb16-1" title="1"><span class="dt">final</span> Something something = <span class="kw">new</span> <span class="fu">Something</span>();</a></code></pre></div></li>
<li><p>Example of under-factored program</p>
<div class="sourceCode" id="cb17"><pre class="sourceCode java"><code class="sourceCode java"><a class="sourceLine" id="cb17-1" title="1"><span class="kw">class</span> Employee</a>
<a class="sourceLine" id="cb17-2" title="2">{</a>
<a class="sourceLine" id="cb17-3" title="3">    <span class="bu">List</span>&lt;A&gt; <span class="fu">getById</span> (<span class="dt">long</span> id)</a>
<a class="sourceLine" id="cb17-4" title="4">    {</a>
<a class="sourceLine" id="cb17-5" title="5">        <span class="kw">... </span><span class="st">&quot;SELECT * FROM my_schema.employee WHERE id = ?&quot;</span> ...</a>
<a class="sourceLine" id="cb17-6" title="6">    }</a>
<a class="sourceLine" id="cb17-7" title="7"></a>
<a class="sourceLine" id="cb17-8" title="8">    <span class="bu">List</span>&lt;A&gt; <span class="fu">getByName</span> (<span class="bu">String</span> name)</a>
<a class="sourceLine" id="cb17-9" title="9">    {</a>
<a class="sourceLine" id="cb17-10" title="10">        <span class="kw">... </span><span class="st">&quot;SELECT * FROM my_schema.employee WHERE name = ?&quot;</span> ...</a>
<a class="sourceLine" id="cb17-11" title="11">    }</a>
<a class="sourceLine" id="cb17-12" title="12">}</a></code></pre></div>
<p>What if <code>my_schema</code> or <code>employee</code> change?</p>
<div class="sourceCode" id="cb18"><pre class="sourceCode java"><code class="sourceCode java"><a class="sourceLine" id="cb18-1" title="1"><span class="kw">class</span> Employee</a>
<a class="sourceLine" id="cb18-2" title="2">{</a>
<a class="sourceLine" id="cb18-3" title="3">    <span class="kw">private</span> <span class="dt">static</span> <span class="bu">String</span> TABLE = <span class="st">&quot;my_schema.employee&quot;</span>;</a>
<a class="sourceLine" id="cb18-4" title="4"></a>
<a class="sourceLine" id="cb18-5" title="5">    <span class="bu">List</span>&lt;A&gt; <span class="fu">getById</span> (<span class="dt">long</span> id)</a>
<a class="sourceLine" id="cb18-6" title="6">    {</a>
<a class="sourceLine" id="cb18-7" title="7">        <span class="kw">... </span><span class="st">&quot;SELECT * FROM &quot;</span> + TABLE + <span class="st">&quot; WHERE id = ?&quot;</span> ...</a>
<a class="sourceLine" id="cb18-8" title="8">    }</a>
<a class="sourceLine" id="cb18-9" title="9"></a>
<a class="sourceLine" id="cb18-10" title="10">    <span class="bu">List</span>&lt;A&gt; <span class="fu">getByName</span> (<span class="bu">String</span> name)</a>
<a class="sourceLine" id="cb18-11" title="11">    {</a>
<a class="sourceLine" id="cb18-12" title="12">        <span class="kw">... </span><span class="st">&quot;SELECT * FROM &quot;</span> + TABLE + <span class="st">&quot; WHERE name = ?&quot;</span> ...</a>
<a class="sourceLine" id="cb18-13" title="13">    }</a>
<a class="sourceLine" id="cb18-14" title="14">}</a></code></pre></div>
<p>What if SQL syntax changes; for example, what if a committee decides to change SQL <code>SELECT</code> to <code>CHOOSE</code>? We assume it's unlikely, so we don't design our program to anticipate that.</p></li>
</ol>
<h4 id="extract-covariant-expressions-into-variables"><span class="section_number">5.3.16</span><span class="section_title">Extract covariant expressions into variables</span></h4>
<div class="sourceCode" id="cb19"><pre class="sourceCode java"><code class="sourceCode java"><a class="sourceLine" id="cb19-1" title="1"><span class="bu">System</span>.<span class="fu">out</span>.<span class="fu">println</span>(<span class="st">&quot;John&#39;s salary is &quot;</span> + employee.<span class="fu">computeSalary</span>());</a>
<a class="sourceLine" id="cb19-2" title="2"><span class="kw">if</span> (employee.<span class="fu">computeSalary</span>() &gt;= <span class="dv">1000</span>)</a>
<a class="sourceLine" id="cb19-3" title="3">{</a>
<a class="sourceLine" id="cb19-4" title="4">    <span class="bu">System</span>.<span class="fu">out</span>.<span class="fu">println</span>(<span class="st">&quot;It&#39;s over one thousand&quot;</span>);</a>
<a class="sourceLine" id="cb19-5" title="5">}</a></code></pre></div>
<p>What if <code>employee.computeSalary</code> changes?</p>
<div class="sourceCode" id="cb20"><pre class="sourceCode java"><code class="sourceCode java"><a class="sourceLine" id="cb20-1" title="1"><span class="dt">final</span> <span class="dt">long</span> salary = employee.<span class="fu">computeSalary</span>();</a>
<a class="sourceLine" id="cb20-2" title="2"><span class="bu">System</span>.<span class="fu">out</span>.<span class="fu">println</span>(<span class="st">&quot;John&#39;s salary is &quot;</span> + salary);</a>
<a class="sourceLine" id="cb20-3" title="3"><span class="kw">if</span> (salary &gt;= <span class="dv">1000</span>)</a>
<a class="sourceLine" id="cb20-4" title="4">{</a>
<a class="sourceLine" id="cb20-5" title="5">    <span class="bu">System</span>.<span class="fu">out</span>.<span class="fu">println</span>(<span class="st">&quot;It&#39;s over one thousand&quot;</span>);</a>
<a class="sourceLine" id="cb20-6" title="6">}</a></code></pre></div>
<p>What if we want to print to <code>aPrintStream</code> instead of <code>System.out</code>?</p>
<div class="sourceCode" id="cb21"><pre class="sourceCode java"><code class="sourceCode java"><a class="sourceLine" id="cb21-1" title="1"><span class="dt">final</span> <span class="dt">long</span> salary = employee.<span class="fu">computeSalary</span>();</a>
<a class="sourceLine" id="cb21-2" title="2"><span class="dt">final</span> <span class="bu">StringBuilder</span> message = <span class="kw">new</span> <span class="bu">StringBuilder</span>();</a>
<a class="sourceLine" id="cb21-3" title="3">message.<span class="fu">append</span>(<span class="st">&quot;John&#39;s salary is &quot;</span>).<span class="fu">append</span>(salary).<span class="fu">append</span>(<span class="ch">&#39;\n&#39;</span>)</a>
<a class="sourceLine" id="cb21-4" title="4">    .<span class="fu">append</span>(salary &gt;= <span class="dv">1000</span> ? <span class="st">&quot;It&#39;s over one thousand&quot;</span> : <span class="st">&quot;&quot;</span>);</a>
<a class="sourceLine" id="cb21-5" title="5">aPrintStream.<span class="fu">println</span>(message);</a></code></pre></div>
<p>What if <code>salary</code> type changes from <code>long</code> to <code>BigInteger</code>? We assume it's unlikely.</p>
<h4 id="extract-covariant-blocks-into-method"><span class="section_number">5.3.17</span><span class="section_title">Extract covariant blocks into method</span></h4>
<p>Two blocks that must change together.</p>
<div class="sourceCode" id="cb22"><pre class="sourceCode java"><code class="sourceCode java"><a class="sourceLine" id="cb22-1" title="1"><span class="dt">static</span> Y <span class="fu">m</span> (A a, B b, ...);</a></code></pre></div>
<div class="sourceCode" id="cb23"><pre class="sourceCode java"><code class="sourceCode java"><a class="sourceLine" id="cb23-1" title="1"><span class="dt">static</span> Y <span class="fu">m0</span> (X0 x0, X1 x1, ...);</a>
<a class="sourceLine" id="cb23-2" title="2"><span class="dt">static</span> Y <span class="fu">m1</span> (X0 x0, X2 x2, ...);</a></code></pre></div>
<p>becomes</p>
<div class="sourceCode" id="cb24"><pre class="sourceCode java"><code class="sourceCode java"><a class="sourceLine" id="cb24-1" title="1"><span class="kw">class</span> C</a>
<a class="sourceLine" id="cb24-2" title="2">{</a>
<a class="sourceLine" id="cb24-3" title="3">    X0 x0;</a>
<a class="sourceLine" id="cb24-4" title="4">    Y <span class="fu">m0</span> (X1 x1, ...);</a>
<a class="sourceLine" id="cb24-5" title="5">    Y <span class="fu">m1</span> (X2 x2, ...);</a>
<a class="sourceLine" id="cb24-6" title="6">}</a></code></pre></div>
<p>Things that change together should be grouped together.</p>
<p>Constructors are methods too.</p>
<p>If two methods share a common parameter, the parameter can be extracted into a field.</p>
<p>If two classes share a common field, a class can be extracted.</p>
<p>Static methods are reusable.</p>
<p>Instance methods force you to instantiate the class.</p>
<h4 id="implications-of-architecture-on-security"><span class="section_number">5.3.18</span><span class="section_title">Implications of architecture on security</span></h4>
<p>A popular trend: split front-end and back-end. Write front-end in NodeJS, write back-end in Java, front-end calls back-end via JSON HTTP API. Front-end runs on visitors' browsers. Back-end is open to public.</p>
<p>You cannot secure the application. If you cannot secure the hardware running the software, all bets are off.</p>
<ol>
<li><p>Foo</p>
<p>Java is a procedural programming language.</p>
<p>The only reason we don't write everything in one big method is maintainability.</p>
<p>A code is easier to understand if it doesn't mix abstraction levels.</p>
<p>Names relate to things the reader already knows.</p>
<p>Java does not have C#'s extension methods.</p>
<p>Java as procedural programming with implicit first argument.</p>
<pre class="example"><code>object.method(arg1, ...) = method(object, arg1, ...)
</code></pre>
<p>Principles make decision-making easy (not necessarily correct). Principles are heuristics.</p>
<p><em>Cohesion</em> is the most important characteristic of a class. The purpose of a class is to group a <em>working set</em> (variables that often change together), and the methods that use those variables.</p>
<p>The risk of modifying code?</p>
<p>The larger the change, the bigger the risk.</p>
<p>If you are using object mapper like Jackson, changing a field to final can break your code. (You must annotate.) That's why I avoid reflection.</p>
<p>Microrefactoring. Small steps.</p>
<p>Abstraction is not a mere indirection. yegor256??? Abstraction allows you to say a lot with a little code.</p></li>
</ol>
<h4 id="mitigating-the-risk-of-changing-code"><span class="section_number">5.3.19</span><span class="section_title">Mitigating the risk of changing code</span></h4>
<p>Don't just change old code.</p>
<p>Write new code that works with the old code. Deprecate the old code. Delete the old code.</p>
<div class="sourceCode" id="cb26"><pre class="sourceCode java"><code class="sourceCode java"><a class="sourceLine" id="cb26-1" title="1"><span class="kw">class</span> CustomList&lt;T&gt;</a>
<a class="sourceLine" id="cb26-2" title="2">{</a>
<a class="sourceLine" id="cb26-3" title="3">    <span class="kw">private</span> <span class="dt">final</span> <span class="bu">List</span>&lt;T&gt; inner;</a>
<a class="sourceLine" id="cb26-4" title="4"></a>
<a class="sourceLine" id="cb26-5" title="5">    <span class="kw">public</span> <span class="fu">CustomList</span> (<span class="bu">List</span>&lt;T&gt; inner)</a>
<a class="sourceLine" id="cb26-6" title="6">    {</a>
<a class="sourceLine" id="cb26-7" title="7">        <span class="kw">this</span>.<span class="fu">inner</span> = inner;</a>
<a class="sourceLine" id="cb26-8" title="8">    }</a>
<a class="sourceLine" id="cb26-9" title="9"></a>
<a class="sourceLine" id="cb26-10" title="10">    <span class="kw">public</span> <span class="dt">static</span> &lt;T&gt; CustomList&lt;T&gt; <span class="fu">fromArray</span> (T[] array)</a>
<a class="sourceLine" id="cb26-11" title="11">    {</a>
<a class="sourceLine" id="cb26-12" title="12">        <span class="dt">final</span> <span class="bu">List</span>&lt;T&gt; list = <span class="kw">new</span> <span class="bu">ArrayList</span>&lt;&gt;();</a>
<a class="sourceLine" id="cb26-13" title="13">        list.<span class="fu">addAll</span>(<span class="bu">Arrays</span>.<span class="fu">asList</span>(array));</a>
<a class="sourceLine" id="cb26-14" title="14">        <span class="kw">return</span> <span class="kw">new</span> CustomList&lt;&gt;(list);</a>
<a class="sourceLine" id="cb26-15" title="15">    }</a>
<a class="sourceLine" id="cb26-16" title="16"></a>
<a class="sourceLine" id="cb26-17" title="17">    <span class="kw">public</span> <span class="bu">List</span>&lt;T&gt; <span class="fu">toList</span> ()</a>
<a class="sourceLine" id="cb26-18" title="18">    {</a>
<a class="sourceLine" id="cb26-19" title="19">        <span class="kw">return</span> inner;</a>
<a class="sourceLine" id="cb26-20" title="20">    }</a>
<a class="sourceLine" id="cb26-21" title="21"></a>
<a class="sourceLine" id="cb26-22" title="22">    <span class="co">// Implement your primitives like size, map, whatever.</span></a>
<a class="sourceLine" id="cb26-23" title="23">}</a></code></pre></div>
<h4 id="maintainable-code"><span class="section_number">5.3.20</span><span class="section_title">Maintainable code</span></h4>
<p>The problem is working with too many details at once.</p>
<p>Mixing HTTP-handling code (such as the Servlet API 3.0) with your business logic will cause readability problem. If a method contains getCookie and business logic, you're in for maintenance problems.</p>
<p>Java is more verbose than Haskell, but it doesn't mean that you can't create maintainable Java programs; it doesn't mean that your Haskell programs will automatically be more maintainable. If you suck, your code will be just as bad.</p>
<p>Java is a <em>procedural</em> language. Problems begin when people try to force object-oriented paradigm to Java.</p>
<div class="sourceCode" id="cb27"><pre class="sourceCode java"><code class="sourceCode java"><a class="sourceLine" id="cb27-1" title="1"><span class="kw">interface</span> Log</a>
<a class="sourceLine" id="cb27-2" title="2">{</a>
<a class="sourceLine" id="cb27-3" title="3">    <span class="dt">void</span> <span class="fu">info</span> (<span class="bu">String</span> message);</a>
<a class="sourceLine" id="cb27-4" title="4">    <span class="dt">void</span> <span class="fu">warn</span> (<span class="bu">String</span> message);</a>
<a class="sourceLine" id="cb27-5" title="5">    <span class="dt">void</span> <span class="fu">error</span> (<span class="bu">String</span> message);</a>
<a class="sourceLine" id="cb27-6" title="6">}</a></code></pre></div>
<div class="sourceCode" id="cb28"><pre class="sourceCode java"><code class="sourceCode java"><a class="sourceLine" id="cb28-1" title="1"><span class="kw">class</span> Log_log4j <span class="kw">implements</span> Log</a>
<a class="sourceLine" id="cb28-2" title="2">{</a>
<a class="sourceLine" id="cb28-3" title="3">    <span class="kw">private</span> <span class="dt">final</span> <span class="bu">Logger</span> log;</a>
<a class="sourceLine" id="cb28-4" title="4">    <span class="kw">public</span> <span class="fu">Log_log4j</span> (<span class="bu">Logger</span> log)</a>
<a class="sourceLine" id="cb28-5" title="5">    {</a>
<a class="sourceLine" id="cb28-6" title="6">        <span class="kw">this</span>.<span class="fu">log</span> = log;</a>
<a class="sourceLine" id="cb28-7" title="7">    }</a>
<a class="sourceLine" id="cb28-8" title="8">    <span class="at">@Override</span> <span class="kw">public</span> <span class="dt">void</span> <span class="fu">error</span> (<span class="bu">String</span> message) { log.<span class="fu">error</span>(message); }</a>
<a class="sourceLine" id="cb28-9" title="9">}</a></code></pre></div>
<h4 id="writing-program-backwards"><span class="section_number">5.3.21</span><span class="section_title">Writing program backwards</span></h4>
<p>If you're a shop, you can try putting all your pricing logic into one class:</p>
<ul>
<li>Every buyer whose age is 60 years or greater gets a 10% elder discount.</li>
<li>Every buyer (unique phone number) is a first-time buyer (who has not bought anything) gets 10% newcomer discount.</li>
<li>For simplicity, discount percentages are added before applied to the original price.</li>
</ul>
<div class="sourceCode" id="cb29"><pre class="sourceCode java"><code class="sourceCode java"><a class="sourceLine" id="cb29-1" title="1"><span class="dt">double</span> <span class="fu">percent_discount</span> ()</a>
<a class="sourceLine" id="cb29-2" title="2">{</a>
<a class="sourceLine" id="cb29-3" title="3">    <span class="dt">double</span> percentage = <span class="dv">0</span>;</a>
<a class="sourceLine" id="cb29-4" title="4">    <span class="kw">if</span> (buyer_age &gt;= <span class="dv">60</span>) { percentage += <span class="dv">10</span>; }</a>
<a class="sourceLine" id="cb29-5" title="5">    <span class="kw">if</span> (buyer_is_first_time) { percentage += <span class="dv">10</span>; }</a>
<a class="sourceLine" id="cb29-6" title="6">    <span class="kw">return</span> percentage;</a>
<a class="sourceLine" id="cb29-7" title="7">}</a></code></pre></div>
<p>At this point you don't care about how to compute buyer_age and buyer_is_first_time. You simply want to express the pricing rules as a simple Java code that a programmer can easily understand.</p>
<p>To compute the buyer's age, we need his/her date of birth and today's date. Use JodaTime.</p>
<div class="sourceCode" id="cb30"><pre class="sourceCode java"><code class="sourceCode java"><a class="sourceLine" id="cb30-1" title="1">buyer_age = today.<span class="fu">subtract</span>(buyer_birth_date);</a></code></pre></div>
<p>Then we need to figure out how to get today's date, and so on, and then you arrive at this method:</p>
<p>If you need something in a method, but it's not that method's responsibility to compute it, then it should be a parameter of that method.</p>
<div class="sourceCode" id="cb31"><pre class="sourceCode java"><code class="sourceCode java"><a class="sourceLine" id="cb31-1" title="1"><span class="kw">class</span> Pricing</a>
<a class="sourceLine" id="cb31-2" title="2">{</a>
<a class="sourceLine" id="cb31-3" title="3"></a>
<a class="sourceLine" id="cb31-4" title="4">    <span class="dt">void</span> <span class="fu">rule</span> ()</a>
<a class="sourceLine" id="cb31-5" title="5">    {</a>
<a class="sourceLine" id="cb31-6" title="6">        <span class="co">// XXX dont use double for your prices?</span></a>
<a class="sourceLine" id="cb31-7" title="7"></a>
<a class="sourceLine" id="cb31-8" title="8">        <span class="fu">entry</span>(item.<span class="fu">name</span>, item.<span class="fu">price</span>);</a>
<a class="sourceLine" id="cb31-9" title="9"></a>
<a class="sourceLine" id="cb31-10" title="10">        <span class="kw">if</span> (event.<span class="fu">is_giveaway</span>)</a>
<a class="sourceLine" id="cb31-11" title="11">        {</a>
<a class="sourceLine" id="cb31-12" title="12">            <span class="fu">discount</span>(s.<span class="fu">giveaway</span>(), item.<span class="fu">price</span>);</a>
<a class="sourceLine" id="cb31-13" title="13">            <span class="kw">return</span>;</a>
<a class="sourceLine" id="cb31-14" title="14">        }</a>
<a class="sourceLine" id="cb31-15" title="15"></a>
<a class="sourceLine" id="cb31-16" title="16">        <span class="kw">if</span> (buyer.<span class="fu">age</span> &gt;= <span class="dv">60</span>) { <span class="fu">discount</span>(s.<span class="fu">elder</span>(), <span class="dv">1</span>); }</a>
<a class="sourceLine" id="cb31-17" title="17">        <span class="kw">if</span> (buyer.<span class="fu">is_first_time</span>) { <span class="fu">discount</span>(s.<span class="fu">first_timer</span>(), <span class="dv">1</span>); }</a>
<a class="sourceLine" id="cb31-18" title="18">        <span class="kw">if</span> (buyer.<span class="fu">wants_insurance</span>) { <span class="fu">surcharge</span>(s.<span class="fu">insurance</span>(), <span class="dv">1</span>); }</a>
<a class="sourceLine" id="cb31-19" title="19"></a>
<a class="sourceLine" id="cb31-20" title="20">        <span class="kw">if</span> (event.<span class="fu">is_new_year</span>) { <span class="fu">discount</span>(s.<span class="fu">new_year</span>(), <span class="dv">1</span>); }</a>
<a class="sourceLine" id="cb31-21" title="21">        <span class="kw">if</span> (event.<span class="fu">is_christmas</span>) { <span class="fu">discount</span>(s.<span class="fu">christmas</span>(), <span class="dv">2</span>); }</a>
<a class="sourceLine" id="cb31-22" title="22">        <span class="kw">if</span> (event.<span class="fu">is_online_shopping_day</span>) { <span class="fu">discount</span>(s.<span class="fu">online_shopping_day</span>(), <span class="fl">0.</span><span class="dv">25</span> * item.<span class="fu">price</span>); }</a>
<a class="sourceLine" id="cb31-23" title="23"></a>
<a class="sourceLine" id="cb31-24" title="24">        <span class="kw">if</span> (item.<span class="fu">is_rare</span>) { <span class="fu">surcharge</span>(s.<span class="fu">rare</span>(), <span class="dv">10</span>); }</a>
<a class="sourceLine" id="cb31-25" title="25">        <span class="kw">if</span> (item.<span class="fu">is_luxury</span>) { <span class="fu">surcharge</span>(s.<span class="fu">luxury</span>(), <span class="dv">5</span>); }</a>
<a class="sourceLine" id="cb31-26" title="26">        <span class="kw">if</span> (item.<span class="fu">is_from_lion_air</span>) { <span class="fu">surcharge</span>(s.<span class="fu">lion_air_admin_fee</span>(), <span class="dv">10</span>); }</a>
<a class="sourceLine" id="cb31-27" title="27">        <span class="kw">if</span> (item.<span class="fu">is_from_telkomsel</span>) { <span class="fu">surcharge</span>(s.<span class="fu">telkomsel_admin_fee</span>(), <span class="fl">0.</span><span class="dv">15</span>); }</a>
<a class="sourceLine" id="cb31-28" title="28"></a>
<a class="sourceLine" id="cb31-29" title="29">        <span class="kw">if</span> (payment.<span class="fu">uses_credit_card</span>) { <span class="fu">surcharge</span>(s.<span class="fu">credit_card_fee</span>(), <span class="fl">0.</span><span class="bn">03</span> * item.<span class="fu">price</span>); }</a>
<a class="sourceLine" id="cb31-30" title="30"></a>
<a class="sourceLine" id="cb31-31" title="31">        <span class="fu">surcharge</span>(s.<span class="fu">surcharge_vat</span>(), <span class="fl">0.</span><span class="dv">1</span> * item.<span class="fu">price</span>);</a>
<a class="sourceLine" id="cb31-32" title="32">    }</a>
<a class="sourceLine" id="cb31-33" title="33"></a>
<a class="sourceLine" id="cb31-34" title="34">    <span class="kw">class</span> Buyer</a>
<a class="sourceLine" id="cb31-35" title="35">    {</a>
<a class="sourceLine" id="cb31-36" title="36">        <span class="dt">final</span> <span class="dt">int</span> age;</a>
<a class="sourceLine" id="cb31-37" title="37">        <span class="dt">final</span> <span class="dt">boolean</span> is_first_time;</a>
<a class="sourceLine" id="cb31-38" title="38">        <span class="dt">final</span> <span class="dt">boolean</span> wants_insurance;</a>
<a class="sourceLine" id="cb31-39" title="39">    }</a>
<a class="sourceLine" id="cb31-40" title="40"></a>
<a class="sourceLine" id="cb31-41" title="41">    <span class="kw">class</span> Entry</a>
<a class="sourceLine" id="cb31-42" title="42">    {</a>
<a class="sourceLine" id="cb31-43" title="43">        <span class="dt">final</span> <span class="bu">String</span> label;</a>
<a class="sourceLine" id="cb31-44" title="44">        <span class="dt">final</span> <span class="dt">double</span> amount;</a>
<a class="sourceLine" id="cb31-45" title="45">    }</a>
<a class="sourceLine" id="cb31-46" title="46"></a>
<a class="sourceLine" id="cb31-47" title="47">    <span class="kw">private</span> <span class="dt">final</span> Strings.<span class="fu">I</span> s;</a>
<a class="sourceLine" id="cb31-48" title="48">    <span class="kw">private</span> <span class="dt">final</span> <span class="bu">List</span>&lt;Entry&gt; entries = <span class="kw">new</span> <span class="bu">ArrayList</span>&lt;&gt;();</a>
<a class="sourceLine" id="cb31-49" title="49"></a>
<a class="sourceLine" id="cb31-50" title="50">    <span class="kw">private</span> <span class="dt">void</span> <span class="fu">entry</span> (<span class="bu">String</span> label, <span class="dt">double</span> amount)</a>
<a class="sourceLine" id="cb31-51" title="51">    {</a>
<a class="sourceLine" id="cb31-52" title="52">        entries.<span class="fu">add</span>(<span class="kw">new</span> <span class="fu">Entry</span>(label, amount));</a>
<a class="sourceLine" id="cb31-53" title="53">    }</a>
<a class="sourceLine" id="cb31-54" title="54"></a>
<a class="sourceLine" id="cb31-55" title="55">    <span class="kw">private</span> <span class="dt">void</span> <span class="fu">surcharge</span> (<span class="bu">String</span> label, <span class="dt">double</span> amount)</a>
<a class="sourceLine" id="cb31-56" title="56">    {</a>
<a class="sourceLine" id="cb31-57" title="57">        <span class="fu">entry</span>(label, amount);</a>
<a class="sourceLine" id="cb31-58" title="58">    }</a>
<a class="sourceLine" id="cb31-59" title="59"></a>
<a class="sourceLine" id="cb31-60" title="60">    <span class="kw">private</span> <span class="dt">void</span> <span class="fu">discount</span> (<span class="bu">String</span> label, <span class="dt">double</span> amount)</a>
<a class="sourceLine" id="cb31-61" title="61">    {</a>
<a class="sourceLine" id="cb31-62" title="62">        <span class="fu">entry</span>(label, -amount);</a>
<a class="sourceLine" id="cb31-63" title="63">    }</a>
<a class="sourceLine" id="cb31-64" title="64"></a>
<a class="sourceLine" id="cb31-65" title="65">}</a></code></pre></div>
<p>There you have it: a straightforward, readable, maintainable, easily changeable pricing rule for your online business. A straightforward translation.</p>
<p>Filling the fields is someone else's problem.</p>
<p>Internationalization:</p>
<div class="sourceCode" id="cb32"><pre class="sourceCode java"><code class="sourceCode java"><a class="sourceLine" id="cb32-1" title="1"><span class="kw">class</span> Strings</a>
<a class="sourceLine" id="cb32-2" title="2">{</a>
<a class="sourceLine" id="cb32-3" title="3">    <span class="kw">interface</span> I</a>
<a class="sourceLine" id="cb32-4" title="4">    {</a>
<a class="sourceLine" id="cb32-5" title="5">        <span class="co">/**</span> Value<span class="co">-</span>added tax<span class="co">. */</span></a>
<a class="sourceLine" id="cb32-6" title="6">        <span class="bu">String</span> <span class="fu">elder</span> ();</a>
<a class="sourceLine" id="cb32-7" title="7">        <span class="bu">String</span> <span class="fu">vat</span> ();</a>
<a class="sourceLine" id="cb32-8" title="8">    }</a>
<a class="sourceLine" id="cb32-9" title="9">    <span class="kw">class</span> English <span class="kw">implements</span> I</a>
<a class="sourceLine" id="cb32-10" title="10">    {</a>
<a class="sourceLine" id="cb32-11" title="11">        <span class="at">@Override</span> <span class="kw">public</span> <span class="bu">String</span> <span class="fu">elder</span> () { <span class="kw">return</span> <span class="st">&quot;elder&quot;</span>; }</a>
<a class="sourceLine" id="cb32-12" title="12">        <span class="at">@Override</span> <span class="kw">public</span> <span class="bu">String</span> <span class="fu">vat</span> () { <span class="kw">return</span> <span class="st">&quot;VAT&quot;</span>; }</a>
<a class="sourceLine" id="cb32-13" title="13">    }</a>
<a class="sourceLine" id="cb32-14" title="14">    <span class="kw">class</span> Indonesia <span class="kw">implements</span> I</a>
<a class="sourceLine" id="cb32-15" title="15">    {</a>
<a class="sourceLine" id="cb32-16" title="16">        <span class="at">@Override</span> <span class="kw">public</span> <span class="bu">String</span> <span class="fu">elder</span> () { <span class="kw">return</span> <span class="st">&quot;lansia&quot;</span>; }</a>
<a class="sourceLine" id="cb32-17" title="17">        <span class="at">@Override</span> <span class="kw">public</span> <span class="bu">String</span> <span class="fu">vat</span> () { <span class="kw">return</span> <span class="st">&quot;PPn&quot;</span>; }</a>
<a class="sourceLine" id="cb32-18" title="18">    }</a>
<a class="sourceLine" id="cb32-19" title="19">    <span class="dt">static</span> <span class="fu">load</span> (<span class="bu">String</span> path) <span class="kw">throws</span> <span class="bu">IOException</span></a>
<a class="sourceLine" id="cb32-20" title="20">    {</a>
<a class="sourceLine" id="cb32-21" title="21">        <span class="co">// use Proxy to lookup table</span></a>
<a class="sourceLine" id="cb32-22" title="22">    }</a>
<a class="sourceLine" id="cb32-23" title="23">}</a></code></pre></div>
<p>Do you need to be able to change the discounts without recompiling the program? You don't. Instead of making it configurable, make compilation and deployment fast, easy, and automatic, and just recompile. There is less room for mistakes if you keep it in one place that is easy to see: the source code. The compiler will also help catch mistakes.</p>
<p>Now you figure out how to compute buyer_age.</p>
<p>The name of a class doesn't have to be a noun.</p>
<p>A constructor parameter states that the class depends on a feature.</p>
<p>A class describes a feature.</p>
<div class="sourceCode" id="cb33"><pre class="sourceCode java"><code class="sourceCode java"><a class="sourceLine" id="cb33-1" title="1"><span class="kw">interface</span> Storage</a>
<a class="sourceLine" id="cb33-2" title="2">{</a>
<a class="sourceLine" id="cb33-3" title="3">    <span class="dt">void</span> <span class="fu">save_user</span> (???) <span class="kw">throws</span> <span class="bu">IOException</span>;</a>
<a class="sourceLine" id="cb33-4" title="4">}</a></code></pre></div>
<div class="sourceCode" id="cb34"><pre class="sourceCode java"><code class="sourceCode java"><a class="sourceLine" id="cb34-1" title="1"><span class="kw">interface</span> <span class="bu">Handler</span>?</a>
<a class="sourceLine" id="cb34-2" title="2">{</a>
<a class="sourceLine" id="cb34-3" title="3">    <span class="dt">void</span> <span class="fu">get_cookie</span> ();</a>
<a class="sourceLine" id="cb34-4" title="4">    <span class="bu">Handler</span> <span class="fu">set_cookie</span> ();</a>
<a class="sourceLine" id="cb34-5" title="5">    <span class="bu">Handler</span> <span class="fu">set_cookie</span> ();</a>
<a class="sourceLine" id="cb34-6" title="6">}</a></code></pre></div>
<p>A Java class corresponds to a C source file. This is as if you could put multiple C source files inside a Java class. And you can put many Java classes inside a Java class. Think of a class like a folder for C source files; it groups things to help programmers understand the code, not as something that corresponds to an object.</p>
<h4 id="crucial-question"><span class="section_number">5.3.22</span><span class="section_title">Crucial question</span></h4>
<p>If there are many ways of writing programs that do the same thing, why choose a particular way?</p>
<p>More maintainable.</p>
<h4 id="use-snake-case"><span class="section_number">5.3.23</span><span class="section_title">Use snake case</span></h4>
<p>Class name: <code>My_class_name</code></p>
<p>Field, method, and variable name: <code>my_method_name</code></p>
<p>Maintainability is done by limiting ugliness inside a class.</p>
<p>It is possible to write maintainable Java code. It will only be a bit more verbose.</p>
<h3 id="functional-programming-research"><span class="section_number">5.4</span><span class="section_title">Functional programming research</span></h3>
<ul>
<li><p>Abbreviations</p>
<ul>
<li>CPS: continuation-passing style</li>
<li>FP: functional programming</li>
<li>OS: operating system</li>
<li>PFP: partial functional programming</li>
<li>TFP: total functional programming</li>
<li>TFPL: total functional programming language</li>
<li>TM: Turing machine</li>
</ul></li>
</ul>
<div class="local_table_of_contents">
<ul>
<li><span class="section_number">5.4.1</span><span class="section_title"><a href="#research-questions">Research questions</a></span><span class="word_count">(2w~1m)</span></li>
<li><span class="section_number">5.4.2</span><span class="section_title"><a href="#monads-lazy-strict">Monads, lazy, strict</a></span><span class="word_count">(186w~1m)</span></li>
<li><span class="section_number">5.4.3</span><span class="section_title"><a href="#ramble">Ramble</a></span><span class="word_count">(1197w~6m)</span></li>
</ul>
</div>
<h4 id="research-questions"><span class="section_number">5.4.1</span><span class="section_title">Research questions</span></h4>
<h4 id="monads-lazy-strict"><span class="section_number">5.4.2</span><span class="section_title">Monads, lazy, strict</span></h4>
<ul>
<li><p>Can you sell me some TFP?</p>
<ul>
<li><p>What is TFP?</p>
<ul>
<li><p>TFP is functional programming with only total functions.</p>
<ul>
<li>A function is total iff it is defined for every element of its domain.</li>
</ul></li>
<li><p>TFP ensures that every function is total by constraining every recursion to be structural recursion.</p>
<ul>
<li>Structural recursion is recursion with the constraint that every recursive call is syntactically smaller.</li>
</ul></li>
</ul></li>
<li><p>Why TFP?</p>
<ul>
<li><p>The practical advantage of TFP is that it is easier (and therefore faster and less costly) to write provably correct programs in TFP compared to PFP or imperative programming.</p>
<ul>
<li>This ultimately translates to faster time-to-market, lower development cost, fewer errors, fewer customer complaints, and higher customer satisfaction. (I know this sounds like bullshit. We should not underestimate the ways that humans can screw up.)</li>
</ul></li>
<li><p>The theoretical advantage of TFP is that TFP has simpler denotational semantics compared to PFP because TFP has less bottoms to consider. [Turner2004]</p></li>
</ul></li>
<li><p>Why not TFP?</p>
<ul>
<li>A disadvantage of TFP is that it is not Turing-complete because all programs must terminate, but OSes don't terminate, but we can still write an OS in a TFPL using codata and corecursion [Turner2004] which are discussed in another section in this document.</li>
</ul></li>
</ul></li>
</ul>
<h4 id="ramble"><span class="section_number">5.4.3</span><span class="section_title">Ramble</span></h4>
<p><strong>You should not read anything below this point.</strong> These are the drafts of my drafts. I think they should be included in this page, but I haven't worked them enough.</p>
<ul>
<li><p>Why did Simon Peyton-Jones write that the next Haskell will be strict?</p>
<ul>
<li><a href="http://www.cs.nott.ac.uk/~gmh/appsem-slides/peytonjones.ppt">Simon Peyton-Jones PPT slides</a>.</li>
<li><a href="https://news.ycombinator.com/item?id=1924061">ycombinator comment thread</a>.</li>
</ul></li>
</ul>
<p>This is a questionnaire, not survey article: A preliminary survey of functional programming Caitlin Sadowski Daan Leijen <a href="https://www.microsoft.com/en-us/research/wp-content/uploads/2016/02/paper-67.pdf">https://www.microsoft.com/en-us/research/wp-content/uploads/2016/02/paper-67.pdf</a></p>
<ul>
<li><p>How do these differ: Agda, Coq, Lean, Isabelle, ACL2, and others?</p>
<ul>
<li><a href="https://www.reddit.com/r/haskell/comments/3b498l/if_you_could_change_one_thing_about_haskell_what/csk2gvl/">Conor McBride's tangential opinions</a> on Coq vs Agda vs others</li>
<li><a href="http://wiki.portal.chalmers.se/agda/pmwiki.php?n=Main.AgdaVsCoq">Agda Wiki: Agda vs Coq</a></li>
<li><a href="https://www.reddit.com/r/haskell/comments/30j9l6/lean_the_new_open_source_theorem_prover_developed/">/r/haskell: Lean: the new open source theorem prover developed at Microsoft Research</a></li>
</ul></li>
</ul>
<ol>
<li><p>Lambda calculus</p>
<ul>
<li><p>History</p>
<ul>
<li>Alonzo Church introduced lambda calculus in 1932 in [Church1932].</li>
<li>Notations have changed. Church wrote <span class="math inline">\(S_y^x U\)</span> but we write <span class="math inline">\(U[x := y]\)</span> for the same thing: the expression <span class="math inline">\(U\)</span> but with every occurrence of free variable <span class="math inline">\(x\)</span> replaced by expression <span class="math inline">\(y\)</span>.</li>
<li>[Church1932] credits a 1924 publication of Moses Schönfinkel for what we call <em>currying</em>: changing a multi-parameter function to a one-parameter function returning another one-parameter function returning yet another one-parameter function, and so on. Currying is changing <span class="math inline">\(f : (a,b) \to c\)</span> to <span class="math inline">\(f&#39; : a \to (b \to c)\)</span> such that <span class="math inline">\(f(x,y) = (f&#39;(x))(y)\)</span>.</li>
</ul></li>
<li><p>See also <a href="https://en.wikipedia.org/wiki/Lambda_calculus">Wikipedia: Lambda calculus</a>.</p></li>
</ul>
<ol>
<li><p>might be too old</p>
<ul>
<li>[Lof1984]</li>
<li>1986 A survey of functional programming language principles <a href="https://ntrs.nasa.gov/archive/nasa/casi.ntrs.nasa.gov/19870002073.pdf">https://ntrs.nasa.gov/archive/nasa/casi.ntrs.nasa.gov/19870002073.pdf</a></li>
</ul></li>
</ol></li>
<li><p>Codata, corecursion, and coinduction</p>
<p>For more about codata, corecursion, and coinduction, see: - <a href="http://www.cl.cam.ac.uk/archive/mjcg/plans/Coinduction.html">&quot;Corecursion and coinduction: what they are and how they relate to recursion and induction&quot;, Mike Gordon</a>: &quot;My goal here is to try to understand these things through the activity of creating a simple explanation.&quot; - <a href="http://blog.sigfpe.com/2007/07/data-and-codata.html">&quot;Data and Codata&quot;, Dan Piponi</a>: &quot;The program might not terminate, but from a mathematical perspective this is a completely well defined function.&quot; &quot;Note the duality: in structural recursion we 'deconstruct' the argument and then we're allowed to recurse. In guarded recursion we recurse first, and then we're allowed to use the constructor.&quot; - <a href="https://www.tac-tics.net/blog/data-vs-codata">&quot;Data vs Codata&quot;, Michael Maloney</a></p></li>
<li><p>Miscellany</p>
<p>[Turner2004] calls TFP &quot;strong functional programming&quot;.</p></li>
<li><p>Lazy, strict</p>
<ul>
<li>The Church-Rosser property (<a href="https://en.wikipedia.org/wiki/Church%E2%80%93Rosser_theorem">Wikipedia</a>, <a href="http://mathworld.wolfram.com/Church-RosserProperty.html">Mathworld</a>), eliminates the difference between strict and lazy in a TFPL [Turner2004].</li>
</ul></li>
<li><p>Type theory is a formal system, not a branch of mathematics</p>
<p>There are at least two type theories: the Martin-L&quot;of type theory, and the calculus of constructions [Bove2001]. I thought &quot;type theory&quot; was a branch of mathematics, like &quot;category theory&quot;, &quot;graph theory&quot;, and &quot;number theory&quot;.</p>
<p>&quot;Martin-L&quot;of's type theory is basically a theory about sets in which it is possible to interpret a logic.&quot; [Nordstrom1988]</p></li>
<li><p>Recursion and fixpoint</p>
<p>We say that <span class="math inline">\(x\)</span> is a <em>fixpoint</em> of <span class="math inline">\(f\)</span> iff <span class="math inline">\(x = f(x)\)</span>.</p>
<p>A <a href="https://www.cs.cornell.edu/courses/cs3110/2013sp/supplemental/lectures/lec29-fixpoints/lec29.html">text lecture</a> describes how to obtain the factorial function as a fixed point of successive <em>approximations</em>.</p>
<p><a href="https://en.wikipedia.org/wiki/Fixed-point_combinator">Wikipedia: Fixed-point combinator</a>. A fixed-point combinator enables <em>anonymous</em> recursive functions.</p>
<p>TFP rejects the definition <code>fix f = f (fix f)</code> because this is not a structural recursion.</p>
<p>Recursion is about fixpoint.</p></li>
<li><p>The Eff language and monad-aware languages</p>
<p>Consider this passage from [McBride2015]:</p>
<blockquote>
<p>[The Eff language lets] us write in direct style for whatever effectful interface is locally available, then obtain the computation delivered by the appropriate Moggi-style translation into an explicitly monadic kernel.</p>
</blockquote>
<p>I think &quot;in direct style&quot; means that in Eff we can write <code>f x</code> to mean what we would write as <code>x &gt;&gt;</code> f= in Haskell, but with the Monad instance automatically inferred based on the locally available effects.</p>
<p>I think that passage suggests that the Eff language [Bauer2012] is related to the &quot;monad-aware language&quot; that Abdullah is trying to accomplish. The relation is that Eff infers the monad from the locally available effects. However, Eff's type system ignores the effects (like ML's type system) so this is probably not what Abdullah wants.</p></li>
<li><p>Reading triage</p>
<p><a href="http://semantic-domain.blogspot.co.id/2016/03/agda-is-not-purely-functional-language.html">http://semantic-domain.blogspot.co.id/2016/03/agda-is-not-purely-functional-language.html</a></p>
<p><a href="https://en.wikipedia.org/wiki/Category:Term-rewriting_programming_languages">https://en.wikipedia.org/wiki/Category:Term-rewriting_programming_languages</a></p>
<p>In a term-rewriting language such as Pure, we can write program transformation as part of the program. <a href="https://stackoverflow.com/questions/24330902/how-does-term-rewriting-based-evaluation-work">https://stackoverflow.com/questions/24330902/how-does-term-rewriting-based-evaluation-work</a></p>
<p><a href="https://www.quora.com/What-are-examples-of-statically-typed-logic-programming-languages-ex-similar-to-Prolog">https://www.quora.com/What-are-examples-of-statically-typed-logic-programming-languages-ex-similar-to-Prolog</a></p>
<p><a href="https://mathoverflow.net/questions/3920/what-does-it-mean-to-discharge-assumptions-or-premises">https://mathoverflow.net/questions/3920/what-does-it-mean-to-discharge-assumptions-or-premises</a></p>
<p><a href="http://www.cs.nott.ac.uk/~pszvc/g54dtp/inductive_domain.v">http://www.cs.nott.ac.uk/~pszvc/g54dtp/inductive_domain.v</a></p>
<p><a href="https://stackoverflow.com/questions/145263/what-is-total-functional-programming">https://stackoverflow.com/questions/145263/what-is-total-functional-programming</a></p>
<p>What is a computational effect?</p>
<p>Does totality really have anything to do with termination?</p></li>
<li><p>TFP and Turing-completeness</p>
<p>We must distinguish between a Turing machine and its execution.</p>
<p>A TM needs a tape to run, but does not come with it. To run a TM, you have to supply a tape.</p>
<p>A <em>tape</em> is a finite sequence of tape symbols.</p>
<p>A <em>step</em> is a pair of configuration and tape.</p>
<p>A <em>run</em> is a sequence of steps. This sequence may be infinite.</p>
<p>A <em>run</em> of a Turing machine <span class="math inline">\(m\)</span> with initial tape <span class="math inline">\(t\)</span> is …</p>
<p>Instead of thinking about infinitely long tape with infinitely many blank symbols, we think that the tape is finite but the TM may at every step insert, update, or delete a cell.</p>
<p>A TM is finite by definition: a TM is a tuple whose each component is taken from a finite set. The description of a TM does not include the tape. The execution trace of a TM may be infinite. A TFPL can <em>describe</em> every TM just fine.</p>
<p>We can describe a Turing machine in a TFPL?</p>
<p><a href="https://www.reddit.com/r/programming/comments/jvu2w/total_functional_programming_and_the_unimportance/">https://www.reddit.com/r/programming/comments/jvu2w/total_functional_programming_and_the_unimportance/</a></p>
<p><a href="http://lambda-the-ultimate.org/node/2003">LTU: Total functional programming</a></p>
<p><a href="https://news.ycombinator.com/item?id=12646390">https://news.ycombinator.com/item?id=12646390</a></p>
<p><a href="https://existentialtype.wordpress.com/2014/03/20/old-neglected-theorems-are-still-theorems/">https://existentialtype.wordpress.com/2014/03/20/old-neglected-theorems-are-still-theorems/</a></p>
<p><a href="https://math.stackexchange.com/questions/111773/are-total-recursive-functions-recursively-enumerable">https://math.stackexchange.com/questions/111773/are-total-recursive-functions-recursively-enumerable</a></p>
<p>How do we write this &quot;echo&quot; program in TFP? Is it even total?</p>
<div class="sourceCode" id="cb35"><pre class="sourceCode haskell"><code class="sourceCode haskell"><a class="sourceLine" id="cb35-1" title="1">main <span class="fu">:</span> <span class="dt">IO</span> ()</a>
<a class="sourceLine" id="cb35-2" title="2">main <span class="fu">=</span> <span class="fu">getLine</span> <span class="fu">&gt;&gt;=</span> <span class="fu">putStrLn</span> <span class="fu">&gt;&gt;</span> main</a></code></pre></div>
<p>We can <em>describe</em> the infinite list of natural numbers <code>[0,1,2,3,...]</code> in a TFP.</p>
<pre class="example"><code>f : Nat -&gt; Nat
f n = n + 1

f : Nat -&gt; Nat
f n = n
</code></pre>
<p><a href="https://arxiv.org/abs/1610.09254">Partiality, Revisited: The Partiality Monad as a Quotient Inductive-Inductive Type</a></p>
<p><a href="http://www.cl.cam.ac.uk/archive/mjcg/plans/Coinduction.html">http://www.cl.cam.ac.uk/archive/mjcg/plans/Coinduction.html</a></p>
<p><a href="https://en.wikipedia.org/wiki/Natural_transformation">https://en.wikipedia.org/wiki/Natural_transformation</a></p>
<p><a href="https://en.wikipedia.org/wiki/Initial_algebra">https://en.wikipedia.org/wiki/Initial_algebra</a> endofunctor, F-algebra, initial object</p>
<p><a href="https://dtai.cs.kuleuven.be/problog/">probabilistic logic programming</a></p></li>
<li><p>Metaprogramming</p>
<p>Spoofax vs Xtext vs MPS? <a href="http://www.metaborg.org/en/latest/">http://www.metaborg.org/en/latest/</a> <a href="http://www.metaborg.org/en/latest/source/overview/examples.html">http://www.metaborg.org/en/latest/source/overview/examples.html</a></p>
<p>PEG (parsing expression grammar)</p>
<p><a href="http://ttic.uchicago.edu/~dmcallester/foundations.pdf">http://ttic.uchicago.edu/~dmcallester/foundations.pdf</a> <a href="https://en.wikipedia.org/wiki/Foundations_of_mathematics">https://en.wikipedia.org/wiki/Foundations_of_mathematics</a> <a href="https://web.stanford.edu/class/cs103/notes/Mathematical%20Foundations%20of%20Computing.pdf">https://web.stanford.edu/class/cs103/notes/Mathematical%20Foundations%20of%20Computing.pdf</a> <a href="https://github.com/hoplon/javelin">https://github.com/hoplon/javelin</a> <a href="https://codon.com/consider-static-typing">https://codon.com/consider-static-typing</a></p></li>
<li><p>Structured editor</p>
<p><a href="https://news.ycombinator.com/item?id=13773813">https://news.ycombinator.com/item?id=13773813</a></p>
<p><a href="https://www.reddit.com/r/programming/comments/1tp83j/lamdu_structuralast_editor/">https://www.reddit.com/r/programming/comments/1tp83j/lamdu_structuralast_editor/</a></p></li>
<li><p>Others</p>
<p><a href="https://tio.run/#agda">Compile and run Agda programs online</a>.</p></li>
<li><p>Positive and negative positions, strict positivity</p>
<p>In the function type <span class="math inline">\(A \to B\)</span>, we say that <span class="math inline">\(A\)</span> occurs in a <em>negative</em> position and <span class="math inline">\(B\)</span> occurs in a <em>positive</em> position. See <a href="https://cs.stackexchange.com/questions/42150/meaning-of-positive-position-and-negative-position-in-type-theory">CS StackExchange 42150</a>.</p>
<p>For the <em>strict positivity</em> constraint of a data type definition, see these: <a href="https://cs.stackexchange.com/questions/55646/strict-positivity">CS StackExchange 55646</a>, <a href="http://wiki.portal.chalmers.se/agda/pmwiki.php?n=ReferenceManual.SimpleInductiveTypes?from=ReferenceManual.Datatypes#Strictpositivity">Agda Wiki: Strict positivity</a>.</p>
<p>In a TFPL, there is no expression whose type is <code>forall a. a</code>.</p>
<pre class="example"><code>exit : IO a
</code></pre></li>
<li><p>Rewriting systems</p>
<p>A TFPL program is a terminating ARS. <a href="https://en.m.wikipedia.org/wiki/Termination_(term_rewriting)">https://en.m.wikipedia.org/wiki/Termination_(term_rewriting)</a></p>
<p><a href="https://softoption.us/content/node/37">SoftOption: normal forms and termination</a></p>
<p><a href="https://softoption.us/content/node/654">SoftOption: lambda calculus and combinatory logic</a></p>
<p>There are at least two widely used confluent term-rewriting systems:</p>
<ul>
<li>applicative, lambda calculus, beta-reduction</li>
<li>concatenative, postfix notation, PostScript, Forth</li>
</ul>
<p>An expression is in normal form iff there is no applicable rewrite rule. See <a href="https://en.wikipedia.org/wiki/Normal_form_(abstract_rewriting)">Wikipedia: Normal form (abstract rewriting)</a>.</p>
<p>The following <code>hang</code> function is not total. Why?</p>
<div class="sourceCode" id="cb38"><pre class="sourceCode haskell"><code class="sourceCode haskell"><a class="sourceLine" id="cb38-1" title="1">hang <span class="fu">:</span> <span class="dt">Nat</span> <span class="ot">-&gt;</span> <span class="dt">Nat</span></a>
<a class="sourceLine" id="cb38-2" title="2">hang x <span class="ot">=&gt;</span> hang x</a></code></pre></div>
<p>The expression <code>hang x</code> can be rewritten to <code>hang x</code>, so <code>hang x</code> is not a normal form, but this goes on forever, so <code>hang x</code> does not have a normal form, and thus <code>hang x</code> is not total.</p>
<p>This <code>loop</code> thing is not a function in the mathematical sense. Why is that?</p>
<pre class="example"><code>loop : a
loop =&gt; loop
</code></pre>
<p>Consider this, where <code>exit</code> terminates the program.</p>
<div class="sourceCode" id="cb40"><pre class="sourceCode haskell"><code class="sourceCode haskell"><a class="sourceLine" id="cb40-1" title="1">what <span class="fu">:</span> <span class="dt">Nat</span></a>
<a class="sourceLine" id="cb40-2" title="2">what <span class="ot">=&gt;</span> exit</a></code></pre></div>
<p>The function <code>crash</code> also does not produce a <code>Nat</code>.</p>
<ul>
<li><p>What is Scott continuity?</p>
<ul>
<li>Why is it named &quot;continuity&quot;?</li>
</ul></li>
</ul>
<p><a href="https://cs.stackexchange.com/questions/1371/scott-continuous-functions-an-alternative-definition">https://cs.stackexchange.com/questions/1371/scott-continuous-functions-an-alternative-definition</a></p>
<p>Girard's System F <a href="https://people.mpi-sws.org/~skilpat/plerg/papers/harper-system-f-2up.pdf">https://people.mpi-sws.org/~skilpat/plerg/papers/harper-system-f-2up.pdf</a> <a href="https://www.reddit.com/r/haskell/comments/2zqtfk/why_isnt_anyone_talking_about_optimal_lambda/">https://www.reddit.com/r/haskell/comments/2zqtfk/why_isnt_anyone_talking_about_optimal_lambda/</a></p>
<p>Venanzio Capretta's partiality monad General recursion via coinductive types <a href="http://www.cs.ru.nl/~venanzio/publications/Recursion_Coinductive_LMCS_2005.pdf">Venanzio Capretta 2005</a> &quot;see the work by Barendregt and Geuvers [5] for a good exposition of technical issues of type-theoretic proof assistants&quot; Coinductive types were first introduced in type theory by Hagino [34]</p>
<p><a href="https://cs.stackexchange.com/questions/19577/what-can-idris-not-do-by-giving-up-turing-completeness">StackOverflow: What can Idris not do by giving up Turing-completeness?</a>: &quot;Dual to termination: while an inductive definition must terminate (by consuming all of its data) a coinductive definition must be productive - in practice this means, brieflt, that any recursive call must be guarded by a constructor. I've found this explanation to be the clearest (ymmv): adam.chlipala.net/cpdt/html/Coinductive.html&quot; – Edwin Brady Apr 22 '14 at 17:58</p>
<p>Dependent Types and Multi-monadic Effects in F⋆ <a href="https://www.fstar-lang.org/papers/mumon/paper.pdf">https://www.fstar-lang.org/papers/mumon/paper.pdf</a></p>
<p>Type Systems, Luca Cardelli <a href="http://lucacardelli.name/Papers/TypeSystems.pdf">http://lucacardelli.name/Papers/TypeSystems.pdf</a></p>
<p><a href="https://www.cs.rit.edu/~mtf/student-resources/20094_voelker_msthesis.pdf">Karl Voelker master thesis: practical programming with total functions</a></p>
<p><a href="https://www.cs.york.ac.uk/plasma/wiki/index.php?title=Functional_Programming#Theses">York CS wiki: FP researches</a></p>
<ul>
<li><p>Position papers</p>
<ul>
<li>[[<a href="https://www.irif.fr/~mellies/mpri/mpri-ens/articles/hyland-power-lawvere-theories-and-monads.pdf">https://www.irif.fr/~mellies/mpri/mpri-ens/articles/hyland-power-lawvere-theories-and-monads.pdf</a>][2007, Hyland &amp; Power: &quot;The Category Theoretic Understanding of Universal Algebra: Lawvere Theories and Monads&quot;]]</li>
</ul></li>
<li><p>Should we read these?</p>
<ul>
<li>2015 Ralf Hinze, Nicolas Wu, Jeremy Gibbons: <a href="http://www.cs.ox.ac.uk/people/jeremy.gibbons/publications/conjugate-hylos.pdf">Conjugate Hylomorphisms Or: The Mother of All Structured Recursion Schemes</a></li>
<li>2007 Colin John Morris Kemp PhD thesis <a href="https://pdfs.semanticscholar.org/21da/de9b8e96724265f911c90c0ddd935901a0f0.pdf">Theoretical foundations for practical &quot;totally functional programming&quot;</a></li>
</ul></li>
</ul></li>
</ol>
<h3 id="how-do-we-write-correct-software"><span class="section_number">5.5</span><span class="section_title">How do we write correct software?</span></h3>
<div class="local_table_of_contents">
<ul>
<li><span class="section_number">5.5.1</span><span class="section_title"><a href="#what-is-correct">What is correct?</a></span><span class="word_count">(19w~1m)</span></li>
<li><span class="section_number">5.5.2</span><span class="section_title"><a href="#proving-and-testing">Proving and testing</a></span><span class="word_count">(62w~1m)</span></li>
<li><span class="section_number">5.5.3</span><span class="section_title"><a href="#the-problem-with-formal-methods-you-cant-prove-what-you-dont-model.">The problem with formal methods: you can't prove what you don't model.</a></span><span class="word_count">(78w~1m)</span></li>
<li><span class="section_number">5.5.4</span><span class="section_title"><a href="#what">What?</a></span><span class="word_count">(88w~1m)</span></li>
<li><span class="section_number">5.5.5</span><span class="section_title"><a href="#coq">Coq?</a></span><span class="word_count">(122w~1m)</span></li>
<li><span class="section_number">5.5.6</span><span class="section_title"><a href="#testing">Testing</a></span><span class="word_count">(353w~2m)</span></li>
</ul>
</div>
<h4 id="what-is-correct"><span class="section_number">5.5.1</span><span class="section_title">What is correct?</span></h4>
<p>Correct with respect to what? It does what we want, and it only does what we want?</p>
<h4 id="proving-and-testing"><span class="section_number">5.5.2</span><span class="section_title">Proving and testing</span></h4>
<p><em>Testing approximates proving.</em> We actually want to prove a logical formula phi about a piece of code, we want to prove that the code fragment is a model of the formula phi, but proving is too expensive. Therefore, we test phi instead.</p>
<p>In back-end testing, the formula is often obvious. What is the formula in front-end testing? DOM element existence testing?</p>
<h4 id="the-problem-with-formal-methods-you-cant-prove-what-you-dont-model."><span class="section_number">5.5.3</span><span class="section_title">The problem with formal methods: you can't prove what you don't model.</span></h4>
<ul>
<li>Intel uses formal method, but why does its processors have vulnerabilities?
<ul>
<li>Because <em>you can't prove what you don't model</em>.</li>
<li>Spectre, Meltdown, etc.</li>
<li><a href="https://arstechnica.com/information-technology/2018/11/intel-cpus-fall-to-new-hyperthreading-exploit-that-pilfers-crypto-keys/?amp=1">https://arstechnica.com/information-technology/2018/11/intel-cpus-fall-to-new-hyperthreading-exploit-that-pilfers-crypto-keys/?amp=1</a></li>
</ul></li>
<li>How will we ever know that we didn't miss anything?</li>
<li>You have to prove that it does everything that you want it to do, <em>and</em> that it does only that, and nothing else.</li>
</ul>
<ol>
<li><p>What if it is impossible to write correct software? What are our options to mitigate/limit the damage?</p></li>
</ol>
<h4 id="what"><span class="section_number">5.5.4</span><span class="section_title">What?</span></h4>
<ul>
<li>Where is tutorial?</li>
<li>A goal should be to make it easy to make correct software?</li>
<li>2014, slides, &quot;How I became interested in foundations of mathematics.&quot;, Vladimir Voevodsky, <a href="https://www.math.ias.edu/vladimir/sites/math.ias.edu.vladimir/files/2014_08_ASC_lecture.pdf">pdf</a></li>
<li>Why should we be interested in homotopy type theory?</li>
<li>Coq</li>
<li><p><a href="https://leanprover.github.io/">Lean</a></p>
<ul>
<li><p>Pros of Lean</p>
<ul>
<li>Integrates with Visual Studio Code</li>
</ul></li>
<li><p>Cons of Lean</p>
<ul>
<li>Less mature than Coq</li>
</ul></li>
</ul></li>
<li>Should we care about the relationship between functional programming and theorem proving?</li>
<li><p>Ramble</p>
<ul>
<li><p>Useless idea?</p>
<ul>
<li><p>Reverse-proving: generate all proofs of a theory. (Proving is: given a statement, prove (or disprove).)</p>
<ul>
<li>Which true sentences are interesting?</li>
<li>Which proofs are interesting?</li>
</ul></li>
</ul></li>
</ul></li>
<li><p>Companies</p>
<ul>
<li><a href="https://galois.com/">Galois</a>, on <a href="https://github.com/GaloisInc/">github</a></li>
</ul></li>
<li><p>unread interesting things</p>
<ul>
<li><a href="http://www.joachim-breitner.de/blog/717-Why_prove_programs_equivalent_when_your_compiler_can_do_that_for_you_">http://www.joachim-breitner.de/blog/717-Why_prove_programs_equivalent_when_your_compiler_can_do_that_for_you_</a></li>
<li><a href="http://www.michaelburge.us/2017/08/25/writing-a-formally-verified-porn-browser-in-coq.html">http://www.michaelburge.us/2017/08/25/writing-a-formally-verified-porn-browser-in-coq.html</a></li>
<li><a href="https://aphyr.com/posts/342-typing-the-technical-interview">https://aphyr.com/posts/342-typing-the-technical-interview</a></li>
<li><a href="http://tech.frontrowed.com/2017/09/22/aggregations/">http://tech.frontrowed.com/2017/09/22/aggregations/</a></li>
</ul></li>
<li><p>interoperation between proof assistants?</p>
<ul>
<li><p>Lem (&quot;lightweight executable mathematics&quot;)</p>
<ul>
<li><a href="https://www.openhub.net/p/lightweight-executable-mathematics">https://www.openhub.net/p/lightweight-executable-mathematics</a></li>
<li><a href="http://www.cl.cam.ac.uk/~pes20/lem/">http://www.cl.cam.ac.uk/~pes20/lem/</a></li>
</ul></li>
</ul></li>
</ul>
<h4 id="coq"><span class="section_number">5.5.5</span><span class="section_title">Coq?</span></h4>
<ul>
<li><p>Introduction</p>
<ul>
<li>What is a suitable introduction to Coq?</li>
<li><a href="https://people.debian.org/~schepler/coqtut.v.html">Daniel Schepler's &quot;Mathematical formalization using Coq&quot;</a> seems approachable.</li>
<li><a href="https://mathoverflow.net/questions/155909/wanted-a-coq-for-the-working-mathematician">MO 155909: Wanted: a &quot;Coq for the working mathematician&quot;</a></li>
<li><a href="https://mathoverflow.net/questions/164959/how-do-i-verify-the-coq-proof-of-feit-thompson">MO 164959: How do I verify the Coq proof of Feit-Thompson?</a></li>
<li><a href="https://softwarefoundations.cis.upenn.edu/current/index.html">https://softwarefoundations.cis.upenn.edu/current/index.html</a></li>
<li>Yves Bertot's &quot;Coq in a hurry&quot;</li>
<li><a href="https://coq.inria.fr/tutorial-nahas">Coq tutorial by Mike Nahas</a></li>
<li><a href="https://coq.inria.fr/distrib/current/refman/Reference-Manual006.html#Cic">Calculus of inductive constructions</a></li>
</ul></li>
<li><a href="http://blog.mikael.johanssons.org/coq-and-simple-group-theory.html">Coq and simple group theory</a></li>
<li><p>Installation on Ubuntu 14.04</p>
<ul>
<li><code>sudo apt-get install coq</code></li>
</ul></li>
</ul>
<ol>
<li><p>Introduction</p>
<p>Coq source file extension is <code>.v</code>.</p>
<p>The notation <code>x:T</code> means &quot;the type of <code>x</code> is <code>T</code>&quot;, &quot;<code>x</code> inhabits <code>T</code>&quot;. It also means &quot;<code>x</code> is a proof of <code>T</code>&quot; by Curry-Howard isomorphism.</p>
<p>The type of <code>nat</code> is <code>Type(1)</code>.</p>
<p>The type of <code>set</code> is <code>Type(2)</code>.</p>
<p>The type of <code>Type(i)</code> is <code>Type(i+1)</code>.</p>
<pre class="example"><code>(* This is a comment in Coq. *)
</code></pre>
<pre class="example"><code>coqtop -l filename.v -batch
</code></pre></li>
<li><p>Defining things</p>
<pre class="example"><code>Definition x: nat := 0.
Check x.

Definition f (x: nat): nat := x + 1.
</code></pre>
<p>Definition = non-recursive definition</p>
<p>Fixpoint = recursive definition</p>
<p>Inductive = type (Set (small set)) definition</p>
<pre class="example"><code>Definition name: type
where
type: Set
or type: Prop
or type: Type.
</code></pre>
<p>Proving 0+1 = 1 using Curry-Howard isomorphism?</p>
<p>Axiom: and-elimination</p>
<span class="math display">\[\begin{align*}
a \wedge b \vdash a
\end{align*}
\]</span>
<pre class="example"><code>Theorem and_elim: forall a b: Prop, a /\ b -&gt; a.
tauto.
Qed.
</code></pre>
<span class="math display">\[\begin{align*}
a \vdash a \vee b
\end{align*}
\]</span>
<p>Modus ponens</p>
<span class="math display">\[\begin{align*}
a, a \rightarrow b \vdash b
\end{align*}
\]</span></li>
<li><p>How Coq represents propositions</p>
<pre class="example"><code>Print False.
Print True.
Inductive True : Prop := I : True.
Inductive False : Prop := .
Inductive and (A B : Prop) : Prop := and : A -&gt; B -&gt; and A B.
</code></pre></li>
</ol>
<h4 id="testing"><span class="section_number">5.5.6</span><span class="section_title">Testing</span></h4>
<p>Why do we test? Because we are not sure that our program is correct.</p>
<p>Why are we not sure that our program is correct?</p>
<ul>
<li>Because we don't know how to prove its correctness. This can be alleviated by using a decent programming language.</li>
<li>Because the cost of proving its correctness does not justify the benefit. We can't do anything about this if the complexity is essential (irreducible), not accidental.</li>
</ul>
<p>We human are fallible. Thus we will always test. Therefore:</p>
<ul>
<li>What should we test?</li>
<li>How should we test?</li>
<li>What is the test that has the greatest benefit-to-cost ratio?</li>
</ul>
<p>The expected benefit of a test is the expected cost of the mistakes that might have been made if the test did not exist.</p>
<p>The quality of a test is the seriousness of the mistakes it prevents. Thus, the seriousness of testing is proportional to the seriousness of risk.</p>
<p>Test is insurance. A good insurance covers your risk. A bad insurance only wastes money and doesn't cover your risk: Testing Java class getters is like buying flood insurance for a house in the desert.</p>
<p>Insurance causes moral hazard (taking more risk because someone else pays for it). Does having a test cause you to take more risks?</p>
<ul>
<li>The benefit of a test is the cost of the mistakes it prevents.</li>
<li>The cost of a test is the person-hours spent writing the test and updating the test, and a slight increase in build time. (Assume $50/person-hour for simplicity.)</li>
</ul>
<p>The answers to these questions tell us what to test and how to test:</p>
<ul>
<li>What tests have the greatest benefit-to-cost ratio?</li>
<li>What mistakes do our tests prevent? How expensive are the mistakes that our tests prevent?</li>
<li>Which part of our code is most likely to cause expensive mistakes? (Example: testing getters won't prevent expensive mistakes.)</li>
</ul>
<p>Code coverage is a meaningless metric. We should measure the expected value of mistakes instead. We should &quot;color&quot; our code: color more risky methods more red, color less risky methods more green, like this travel risk map<a href="#fn7" class="footnote-ref" id="fnref7"><sup>7</sup></a> but for software.</p>
<p>If you are launching a rocket, then a mistake may cost billions of dollars. It makes sense to invest ten million dollars testing to avoid a 1/100 probability of making a billion-dollar mistake.</p>
<h3 id="ramblings-wish-lists-too-speculative-unclear-goalreason-condemned-to-oblivion"><span class="section_number">5.6</span><span class="section_title">Ramblings? Wish lists? Too speculative? Unclear goal/reason? Condemned to oblivion?</span></h3>
<div class="local_table_of_contents">
<ul>
<li><span class="section_number">5.6.1</span><span class="section_title"><a href="#category-theory-and-programming-languages">Category theory and programming languages?</a></span><span class="word_count">(93w~1m)</span></li>
<li><span class="section_number">5.6.2</span><span class="section_title"><a href="#foundation-of-mathematics-especially-for-programming">Foundation of mathematics especially for programming?</a></span><span class="word_count">(75w~1m)</span></li>
<li><span class="section_number">5.6.3</span><span class="section_title"><a href="#probably-irrelevant-to-our-goal">Probably irrelevant to our goal</a></span><span class="word_count">(69w~1m)</span></li>
<li><span class="section_number">5.6.4</span><span class="section_title"><a href="#information-that-is-looking-for-a-place-where-they-can-be-most-useful">Information that is looking for a place where they can be most useful</a></span><span class="word_count">(1120w~6m)</span></li>
<li><span class="section_number">5.6.5</span><span class="section_title"><a href="#the-context-of-premature-optimization">The context of &quot;Premature optimization&quot;</a></span><span class="word_count">(87w~1m)</span></li>
<li><span class="section_number">5.6.6</span><span class="section_title"><a href="#haskell-strictness-checker">Haskell strictness checker</a></span><span class="word_count">(26w~1m)</span></li>
<li><span class="section_number">5.6.7</span><span class="section_title"><a href="#question-for-abdullah">&lt;2018-09-12&gt; question for Abdullah</a></span><span class="word_count">(56w~1m)</span></li>
<li><span class="section_number">5.6.8</span><span class="section_title"><a href="#scheme-currying">&lt;2017-09-04&gt; Scheme currying</a></span><span class="word_count">(112w~1m)</span></li>
<li><span class="section_number">5.6.9</span><span class="section_title"><a href="#approximating-general-recursion-in-tfp">&lt;2018-04-07&gt; Approximating general recursion in TFP</a></span><span class="word_count">(106w~1m)</span></li>
<li><span class="section_number">5.6.10</span><span class="section_title"><a href="#making-a-java-virtual-machine">Making a Java virtual machine</a></span><span class="word_count">(5w~1m)</span></li>
<li><span class="section_number">5.6.11</span><span class="section_title"><a href="#unsorted-things-from-softeng.md">Unsorted things from softeng.md</a></span><span class="word_count">(1158w~6m)</span></li>
<li><span class="section_number">5.6.12</span><span class="section_title"><a href="#machine-learning-database-indexing-an-index-is-a-model-of-the-data">Machine-learning database indexing; an index is a model of the data</a></span><span class="word_count">(11w~1m)</span></li>
</ul>
</div>
<h4 id="category-theory-and-programming-languages"><span class="section_number">5.6.1</span><span class="section_title">Category theory and programming languages?</span></h4>
<p>The section title needs a verb.</p>
<ul>
<li>Category-theoretic model of functional programming languages
<ul>
<li>Every functional programming language L can be modeled by a category C(L) whose objects are the types of L and arrows are the function expressions of L.</li>
</ul></li>
<li>categorical programming (what is this?)
<ul>
<li>2000, PhD thesis, &quot;Categorical programming with inductive and coinductive types&quot; <a href="https://kodu.ut.ee/~varmo/papers/thesis.pdf">https://kodu.ut.ee/~varmo/papers/thesis.pdf</a></li>
<li>categorical programming language
<ul>
<li>1993, article, &quot;Comparing Hagino's categorical programming language and typed lambda-calculi&quot; <a href="https://www.sciencedirect.com/science/article/pii/030439759390186W">https://www.sciencedirect.com/science/article/pii/030439759390186W</a></li>
<li>1987, PhD thesis, &quot;Categorical programming language&quot; <a href="http://web.sfc.keio.ac.jp/~hagino/thesis.pdf">http://web.sfc.keio.ac.jp/~hagino/thesis.pdf</a>
<ul>
<li>&quot;An interpreter of Hagino's Categorical Programming Language (CPL).&quot; <a href="https://github.com/msakai/cpl">https://github.com/msakai/cpl</a></li>
</ul></li>
<li>aggregators
<ul>
<li>2009, <a href="https://mathoverflow.net/questions/3721/programming-languages-based-on-category-theory">https://mathoverflow.net/questions/3721/programming-languages-based-on-category-theory</a></li>
<li><a href="https://softwareengineering.stackexchange.com/questions/216635/category-theory-based-language">https://softwareengineering.stackexchange.com/questions/216635/category-theory-based-language</a></li>
</ul></li>
</ul></li>
</ul></li>
<li>category theory applied to programming language theory
<ul>
<li>2012, &quot;Generic Programming with Adjunctions&quot; <a href="http://www.cs.ox.ac.uk/ralf.hinze/LN.pdf">http://www.cs.ox.ac.uk/ralf.hinze/LN.pdf</a></li>
</ul></li>
</ul>
<h4 id="foundation-of-mathematics-especially-for-programming"><span class="section_number">5.6.2</span><span class="section_title">Foundation of mathematics especially for programming?</span></h4>
<ul>
<li>set theories, such as ZF, ZFC, NBG, etc.
<ul>
<li><a href="https://math.stackexchange.com/questions/136215/difference-between-zfc-nbg">https://math.stackexchange.com/questions/136215/difference-between-zfc-nbg</a></li>
</ul></li>
<li>type theories, such as Martin-Löf type theory</li>
<li>logic?</li>
<li>category theory?</li>
<li>lambda calculus?</li>
<li><a href="https://cstheory.stackexchange.com/questions/27217/are-there-presentations-of-set-theory-in-terms-of-lambda-calculus">https://cstheory.stackexchange.com/questions/27217/are-there-presentations-of-set-theory-in-terms-of-lambda-calculus</a>
<ul>
<li>Grue's map theory, 1992
<ul>
<li><a href="http://hjemmesider.diku.dk/~grue/">http://hjemmesider.diku.dk/~grue/</a>
<ul>
<li>1992, Grue, PhD thesis, <a href="http://hjemmesider.diku.dk/~grue/papers/Grue92/Grue92.pdf">&quot;Map theory&quot;</a>
<ul>
<li>p. 130: &quot;Equality is better than truth […]&quot; (How do we explain the context?)
<ul>
<li><a href="https://en.wikipedia.org/wiki/Equational_logic">https://en.wikipedia.org/wiki/Equational_logic</a></li>
</ul></li>
</ul></li>
</ul></li>
<li>related?
<ul>
<li>equational programming</li>
</ul></li>
<li>2016 reformulation article &quot;A synthetic axiomatization of Map Theory&quot; <a href="https://hal.archives-ouvertes.fr/hal-00678410v3">pdf available</a></li>
</ul></li>
</ul></li>
</ul>
<p>Can we formalize &quot;a program is an executable formal system&quot; using Grue's map theory?</p>
<ul>
<li>How is &quot;false&quot; represented?</li>
<li>How is &quot;true&quot; represented?</li>
<li>How is &quot;conjunction&quot; represented?</li>
</ul>
<h4 id="probably-irrelevant-to-our-goal"><span class="section_number">5.6.3</span><span class="section_title">Probably irrelevant to our goal</span></h4>
<ul>
<li><a href="https://en.wikipedia.org/wiki/Non-English-based_programming_languages">WP:Non-English-based programming languages</a></li>
<li><p>Obscure things. Much marketing, little technical detail.</p>
<ul>
<li><p>VPRI, Alan Kay et al., archived (stopped operating in 2018), computing for the masses?</p>
<ul>
<li><p>&quot;Improve 'powerful ideas education' for the world's children and to advance the state of systems research and personal computing&quot;</p>
<ul>
<li><p><a href="https://harc.ycr.org/">https://harc.ycr.org/</a></p>
<ul>
<li><a href="https://www.ycr.org/">https://www.ycr.org/</a></li>
</ul></li>
</ul></li>
<li><a href="https://en.wikipedia.org/wiki/Viewpoints_Research_Institute">https://en.wikipedia.org/wiki/Viewpoints_Research_Institute</a></li>
<li><a href="https://en.wikipedia.org/wiki/COLA_(software_architecture)">https://en.wikipedia.org/wiki/COLA_(software_architecture)</a></li>
<li><a href="https://news.ycombinator.com/item?id=11686325">https://news.ycombinator.com/item?id=11686325</a></li>
<li>FONC = fundamentals of new computing</li>
<li><p><a href="http://www.vpri.org/index.html">http://www.vpri.org/index.html</a></p></li>
</ul></li>
<li><p>YCR</p>
<ul>
<li><p>visual programming language</p>
<ul>
<li><p>blocks language</p>
<ul>
<li><a href="https://harc.ycr.org/project/gp/">https://harc.ycr.org/project/gp/</a></li>
</ul></li>
</ul></li>
</ul></li>
</ul></li>
<li><p>Functional Payout Framework <a href="http://lambda-the-ultimate.org/node/3331">http://lambda-the-ultimate.org/node/3331</a></p></li>
</ul>
<p>Automatic deglobalization of C programs?</p>
<p>&lt;2018-09-15&gt; Make an Emacs Lisp interpreter in Haskell for Yi editor</p>
<h4 id="information-that-is-looking-for-a-place-where-they-can-be-most-useful"><span class="section_number">5.6.4</span><span class="section_title">Information that is looking for a place where they can be most useful</span></h4>
<ol>
<li><p>Garbage collection</p>
<ul>
<li><a href="https://www.reddit.com/r/programming/comments/7zfbs5/conservative_gc_is_it_really_that_bad_xpost_rjava/">Conservative GC: Is It Really That Bad? (X-post /r/java) : programming</a> (summary)
<ul>
<li><a href="https://www.excelsiorjet.com/blog/articles/conservative-gc-is-it-really-that-bad/">Conservative GC: Is It Really That Bad? – Excelsior JET Team Blog</a></li>
</ul></li>
<li><a href="https://news.ycombinator.com/item?id=16436574">Conservative GC: Is It Really That Bad? | Hacker News</a></li>
<li>Real-time garbage collection
<ul>
<li><a href="http://michaelrbernste.in/2013/06/03/real-time-garbage-collection-is-real.html">http://michaelrbernste.in/2013/06/03/real-time-garbage-collection-is-real.html</a></li>
</ul></li>
<li>Why GC only memory? Why not also GC file handles? Why not GC all resources?
<ul>
<li><a href="https://cs.stackexchange.com/questions/52735/why-does-garbage-collection-extend-only-to-memory-and-not-other-resource-types">Why does garbage collection extend only to memory and not other resource types? - Computer Science Stack Exchange</a></li>
</ul></li>
</ul></li>
<li><p>2017 article &quot;What Is the Best Way For Developers to Learn New Software Tools? An Empirical Comparison Between a Text and a Video Tutorial&quot;</p>
<ul>
<li><a href="http://programming-journal.org/2017/1/17/">http://programming-journal.org/2017/1/17/</a></li>
</ul></li>
<li><p>Common Lisp advocacy?</p>
<ul>
<li>2018, article, <a href="https://academic.oup.com/bib/article/19/3/537/2769437">How the strengths of Lisp-family languages facilitate building complex and flexible bioinformatics applications | Briefings in Bioinformatics | Oxford Academic</a></li>
</ul>
<ol>
<li><p>Common Lisp Object System</p>
<ul>
<li><a href="http://www.aiai.ed.ac.uk/~jeff/clos-guide.html">A Brief Guide to CLOS</a></li>
</ul></li>
</ol></li>
<li><p><span class="todo TODO">TODO</span> Process these informations</p>
<ul>
<li><p>Composition, composable systems</p>
<ul>
<li><a href="https://en.wikipedia.org/wiki/Software_transactional_memory#Composable_operations">https://en.wikipedia.org/wiki/Software_transactional_memory#Composable_operations</a></li>
</ul></li>
<li><a href="https://en.wikipedia.org/wiki/Programming_language_theory">https://en.wikipedia.org/wiki/Programming_language_theory</a></li>
<li><p>refactoring</p>
<ul>
<li><a href="https://github.com/PyCQA/baron">github.com/PyCQA/baron</a>: &quot;IDE allow you to refactor code, Baron allows you to write refactoring code.&quot;</li>
<li>HaRe Haskell refactoring tool <a href="https://github.com/alanz/HaRe">https://github.com/alanz/HaRe</a></li>
</ul></li>
<li><p>ungrouped</p>
<ul>
<li><a href="https://medium.com/generative-design/introduction-to-computational-design-6c0fdfb3f1">https://medium.com/generative-design/introduction-to-computational-design-6c0fdfb3f1</a></li>
<li><p>magic?</p>
<ul>
<li><a href="http://conal.net/blog/posts/semantic-editor-combinators">http://conal.net/blog/posts/semantic-editor-combinators</a></li>
</ul></li>
<li><p><a href="https://2017.programmingconference.org/track/refuses-2017">Salon des Refusés 2017</a></p></li>
</ul></li>
<li>2002, article collection, &quot;Recent advances in Java technology: theory, application, implementation&quot; <a href="http://www.cs.nuim.ie/~jpower/Research/Papers/2002/power-raijt-toc.pdf">http://www.cs.nuim.ie/~jpower/Research/Papers/2002/power-raijt-toc.pdf</a></li>
<li>1985, article, &quot;Automatic synthesis of typed Λ-programs on term algebras&quot; <a href="https://www.sciencedirect.com/science/article/pii/0304397585901355">https://www.sciencedirect.com/science/article/pii/0304397585901355</a></li>
<li>2015, article, &quot;Dynamically Composing Languages in a Modular Way: Supporting C Extensions for Dynamic Languages&quot;, <a href="https://chrisseaton.com/rubytruffle/modularity15/rubyextensions.pdf">pdf</a></li>
<li><a href="https://github.com/nim-lang/Nim">https://github.com/nim-lang/Nim</a></li>
<li><p>2016, article, &quot;Towards Ontology-Based Program Analysis&quot;, <a href="http://drops.dagstuhl.de/opus/volltexte/2016/6120/pdf/LIPIcs-ECOOP-2016-26.pdf">pdf</a></p>
<ul>
<li><p>Interesting conference title: &quot;Conference on very important topics (CVIT)&quot;</p>
<ul>
<li>Is it real? Is it a secret society? Google doesn't seem to know about it.</li>
</ul></li>
</ul></li>
<li><p>functional languages with explicit memory layout? functional languages for systems programming?</p>
<ul>
<li><p><a href="https://github.com/ollef/sixten">Sixten: Functional programming with fewer indirections</a></p>
<ul>
<li>It also deals with representing algebraic data type inhabitants as bit patterns.</li>
<li>&quot;Sixten is very related to other functional languages such as Haskell, Agda, and Idris. The biggest difference between other languages and Sixten is the way that Sixten allows us to control the memory layout of data.&quot;</li>
<li><a href="https://gitter.im/sixten-lang/General?source=orgpage">Sixten, &quot;General&quot;, Gitter, community chat</a></li>
</ul></li>
</ul></li>
<li><p>What are Prolog alternatives?</p>
<ul>
<li>2011, article, [[<a href="https://arxiv.org/abs/1107.5408">https://arxiv.org/abs/1107.5408</a>][[1107.5408] A structured alternative to Prolog with simple compositional semantics]]</li>
</ul></li>
<li>2017, article, [[<a href="https://arxiv.org/abs/1707.00024">https://arxiv.org/abs/1707.00024</a>][[1707.00024] A Formalized General Theory of Syntax with Bindings]]</li>
<li><a href="https://www.cs.cmu.edu/~mleone/language/projects.html">Programming Language and Compiler Research Groups</a></li>
<li><a href="http://www.pl-enthusiast.net/2014/07/10/ieee-posts-its-top-list-of-languages/">IEEE posts its top list of languages - The PL Enthusiast</a></li>
<li><a href="http://www.pl-enthusiast.net/2015/05/27/what-is-pl-research-and-how-is-it-useful/">What is PL research and how is it useful? - The PL Enthusiast</a></li>
<li>2014, article, <a href="https://arxiv.org/abs/1410.1776">Ontology-based Representation and Reasoning on Process Models: A Logic Programming Approach</a></li>
<li>1994, article, &quot;Formalizing architectural connection&quot;, <a href="http://web.cs.wpi.edu/~cs562/s98/pdf/wright-icse16.pdf">pdf</a></li>
<li><p><a href="https://2015.splashcon.org/track/nool2015#event-overview">NOOL 2015 accepted papers - SPLASH 2015</a> (&quot;New Object Oriented Languages&quot;)</p>
<ul>
<li>&quot;Classes Considered Harmful&quot;, <a href="http://web.cecs.pdx.edu/~black/publications/ClassesHarmful.pdf">pdf</a></li>
<li>&quot;Ubiquitous Object Orientation to Foster the Advancement of Programming Languages&quot;, <a href="http://www.cs.cmu.edu/~dkurilov/papers/nool15.pdf">pdf</a></li>
</ul></li>
<li><p>NOOL 2016 articles</p>
<ul>
<li><p>&quot;Nomen: A Dynamically Typed OO Programming Language, Transpiled to Java&quot;, <a href="http://www.it.uu.se/workshop/nool16/nool16-paper9.pdf">pdf</a></p>
<ul>
<li>&quot;Nomen is an experimental, dynamically typed OO programming language which compiles to Java source code.&quot;</li>
<li>&quot;Nomen is designed as a language for experimenting with IDE support generation using the Rascal language workbench.&quot;</li>
</ul></li>
<li>&quot;The essence of subclassing&quot;, <a href="http://www.it.uu.se/workshop/nool16/nool16-paper5.pdf">pdf</a></li>
<li>&quot;Towards Automatic Decoration&quot;, <a href="http://www.it.uu.se/workshop/nool16/nool16-paper2.pdf">pdf</a></li>
<li><p>syntax</p>
<ul>
<li>&quot;Polite Programmers, Use Spaces in Identifiers When Needed&quot;, <a href="http://www.it.uu.se/workshop/nool16/nool16-paper10.pdf">pdf</a></li>
</ul></li>
</ul></li>
<li><a href="https://en.wikipedia.org/wiki/Comparison_of_functional_programming_languages">WP:Comparison of functional programming languages</a></li>
<li><p>Designing APIs</p>
<ul>
<li><a href="http://blog.steveklabnik.com/posts/2012-02-13-an-api-ontology">An API Ontology - Literate Programming</a></li>
</ul></li>
<li><p>Tools</p>
<ul>
<li>Golang</li>
<li>Ruby gem and bundler</li>
<li>Python pip</li>
</ul></li>
<li>Great Works in Programming Languages, Collected by Benjamin C. Pierce <a href="http://www.cis.upenn.edu/~bcpierce/courses/670Fall04/GreatWorksInPL.shtml">http://www.cis.upenn.edu/~bcpierce/courses/670Fall04/GreatWorksInPL.shtml</a></li>
<li>to read? &quot;theories of programming languages reynolds&quot;</li>
<li>2017, book, &quot;Principles of Programming Languages&quot; <a href="https://www.cs.bgu.ac.il/~mira/ppl-book-full.pdf">https://www.cs.bgu.ac.il/~mira/ppl-book-full.pdf</a></li>
<li>2003, article, &quot;Composing Programming Languages by Combining Action-Semantics Modules&quot; <a href="http://www.brics.dk/RS/03/53/BRICS-RS-03-53.pdf">http://www.brics.dk/RS/03/53/BRICS-RS-03-53.pdf</a></li>
<li>2001, position paper, &quot;Composition Languages for Black-Box Components&quot; <a href="http://scg.unibe.ch/archive/papers/Wuyt01c.pdf">http://scg.unibe.ch/archive/papers/Wuyt01c.pdf</a></li>
<li>glue: Make better services. (deprecated) <a href="https://hackage.haskell.org/package/glue">https://hackage.haskell.org/package/glue</a></li>
<li>yet another music programming language <a href="https://github.com/alda-lang/alda">https://github.com/alda-lang/alda</a></li>
<li>linearscan: Linear scan register allocator, formally verified in Coq; 2004, master thesis, <a href="https://hackage.haskell.org/package/linearscan">https://hackage.haskell.org/package/linearscan</a></li>
<li>Lastik: A library for compiling programs in a variety of languages (Java, Scala, C#) <a href="https://hackage.haskell.org/package/Lastik">https://hackage.haskell.org/package/Lastik</a></li>
<li>risc386: Reduced instruction set i386 simulator <a href="https://hackage.haskell.org/package/risc386">https://hackage.haskell.org/package/risc386</a></li>
<li><p>2017, &quot;Theorems for Free for Free&quot;, Wadler <a href="http://homepages.inf.ed.ac.uk/wadler/topics/blame.html">http://homepages.inf.ed.ac.uk/wadler/topics/blame.html</a></p>
<ul>
<li>What is &quot;polymorphic blame calculus&quot;?</li>
</ul></li>
<li><p><a href="https://idris.readthedocs.io/en/v1.3.0/faq/faq.html#what-are-the-differences-between-agda-and-idris">https://idris.readthedocs.io/en/v1.3.0/faq/faq.html#what-are-the-differences-between-agda-and-idris</a></p>
<ul>
<li><p>&quot;Why does Idris use eager evaluation rather than lazy?&quot;</p>
<ul>
<li>&quot;What is the representation of <code>thing</code> at run-time? Is it a bit pattern representing an integer, or is it a pointer to some code which will compute an integer? In Idris, we have decided that we would like to make this distinction precise […]&quot;</li>
<li>Idris has laziness, but you have to be explicit.</li>
</ul></li>
</ul></li>
<li><a href="https://en.wikipedia.org/wiki/Automatic_programming">https://en.wikipedia.org/wiki/Automatic_programming</a></li>
<li><a href="https://en.wikipedia.org/wiki/Program_synthesis">https://en.wikipedia.org/wiki/Program_synthesis</a></li>
<li><a href="https://www.cs.cmu.edu/~mleone/language-research.html">https://www.cs.cmu.edu/~mleone/language-research.html</a></li>
<li><p>&quot;Confessions Of A Used Programming Language Salesman: Getting The Masses Hooked On Haskell&quot;, Erik Meijer, <a href="https://pdfs.semanticscholar.org/233a/932b3e94f1f117655e4862995b32f33754be.pdf">pdf</a></p>
<ul>
<li>What are the key points?</li>
</ul></li>
<li><p>1966, article, P. J. Landin, &quot;The next 700 programming languages&quot;, <a href="https://www.cs.cmu.edu/~crary/819-f09/Landin66.pdf">pdf</a></p>
<ul>
<li><a href="https://en.wikipedia.org/wiki/Off-side_rule">https://en.wikipedia.org/wiki/Off-side_rule</a></li>
</ul></li>
<li><a href="http://matt.might.net/articles/best-programming-languages/">http://matt.might.net/articles/best-programming-languages/</a></li>
<li><a href="http://www.cs.utexas.edu/users/EWD/ewd06xx/EWD641.PDF">EWD641: On the interplay between mathematics and programming</a></li>
<li><a href="http://hackage.haskell.org/package/Workflow">http://hackage.haskell.org/package/Workflow</a></li>
<li><a href="https://pchiusano.github.io/2017-01-20/why-not-haskell.html">https://pchiusano.github.io/2017-01-20/why-not-haskell.html</a></li>
<li><a href="http://unisonweb.org/2015-05-07/about.html#post-start">http://unisonweb.org/2015-05-07/about.html#post-start</a></li>
<li><a href="https://github.com/facebook/duckling">facebook/duckling: Language, engine, and tooling for expressing, testing, and evaluating composable language rules on input strings.</a></li>
<li><a href="https://github.com/GaloisInc/crucible">GaloisInc/crucible: Crucible is a library for symbolic simulation of imperative programs</a></li>
<li><p>2009, &quot;Domain-Specific Languages for Composable Editor Plugins&quot;</p>
<ul>
<li><a href="https://pdfs.semanticscholar.org/presentation/85d8/bc42122ff5175be1ebc3c7b91e4abff55d22.pdf">2009 slides pdf</a></li>
<li><a href="http://bora.uib.no/bitstream/handle/1956/9721/1-s2.0-S1571066110001179-main.pdf?sequence=1">2010 article pdf</a></li>
</ul></li>
<li><p>why not PEG parsing</p>
<ul>
<li><a href="http://jeffreykegler.github.io/Ocean-of-Awareness-blog/individual/2015/03/peg.html">http://jeffreykegler.github.io/Ocean-of-Awareness-blog/individual/2015/03/peg.html</a></li>
</ul></li>
<li><p>answer set programming</p>
<ul>
<li><p><a href="http://cs.aalto.fi/en/current/news/2018-07-18/">News: Speed up solving complex problems: be lazy and only work crucial tasks - Aalto University</a></p>
<ul>
<li>2018, article, &quot;Exploiting Justifications for Lazy Grounding of Answer Set Programs&quot;, <a href="https://www.ijcai.org/proceedings/2018/0240.pdf">pdf</a></li>
</ul></li>
</ul></li>
<li><p><a href="https://brianmckenna.org/blog/idris_library">Idris as a Library - BAM Weblog</a></p>
<ul>
<li>Idris as compiler backend</li>
</ul></li>
<li><p>Prolog ontology?</p>
<ul>
<li><p>What is the relationship between Prolog, logic programming, ontology, and relational databases?</p>
<ul>
<li><p><a href="https://stackoverflow.com/questions/29062541/what-are-ontology-can-do-but-relational-database-can-not">What are ontology can do, but relational database can not? - Stack Overflow</a></p>
<ul>
<li><a href="https://www.slideshare.net/UscholdM/ontologies-and-db-schema-whats-the-difference">Ontologies and DB Schema: What's the Difference?</a></li>
<li>2011, article, &quot;Ontologies versus relational databases: Are they so different? A comparison&quot;, <a href="https://www.researchgate.net/publication/251332115_Ontologies_versus_relational_databases_Are_they_so_different_A_comparison">pdf available</a></li>
<li>2010, article, &quot;Mapping between Relational Databases and OWL Ontologies: an example&quot;, <a href="https://www.lu.lv/materiali/apgads/raksti/756_pp_99-117.pdf">pdf</a></li>
</ul></li>
</ul></li>
<li><a href="http://sujitpal.blogspot.com/2009/06/ontology-rules-with-prolog.html">Salmon Run: Ontology Rules with Prolog</a></li>
<li><p><a href="http://www.swi-prolog.org/web/">SWI-Prolog for the (semantic) web</a></p></li>
</ul></li>
<li><p><a href="https://pchiusano.github.io/2017-01-20/why-not-haskell.html">Paul Chiusano: If Haskell is so great, why hasn't it taken over the world? And the curious case of Go.</a></p>
<ul>
<li>Unison programming language</li>
</ul></li>
<li><p>Elixir has gradual static typing via Erlang Dialyzer.</p>
<ul>
<li><a href="https://elixir-lang.org/getting-started/typespecs-and-behaviours.html">Typespecs and behaviours - Elixir</a></li>
<li><p><span class="citation" data-cites="codeship">[Understanding Elixir Types - via <span class="citeproc-not-found" data-reference-id="codeship"><strong>???</strong></span>]</span>(<a href="https://blog.codeship.com/understanding-elixir-types/">https://blog.codeship.com/understanding-elixir-types/</a>)</p>
<ul>
<li>&quot;Elixir functions are set up so that they can transparently be called across processes, heaps, or even machines in a cluster.&quot;</li>
<li>Can BEAM/Erlang/Elixir do live process migration?</li>
</ul></li>
<li><p>The catch?</p>
<ul>
<li><p><a href="https://elixirforum.com/t/typed-elixir/1388">Typed Elixir - Elixir Chat - Elixir Forum</a></p>
<ul>
<li><p>Is Dialyzer slow?</p>
<ul>
<li>&quot;My motivation for this is 95% of my bugs in Elixir/Erlang are due to using types wrong, like I may slightly change a tuple format somewhere but do not update it elsewhere and dialyzer does not catch it because the prior library state was in its cache that I then need to rebuild, in addition to dialyzer can take a long time to run.&quot;</li>
</ul></li>
</ul></li>
</ul></li>
</ul></li>
<li>John Hughes, &quot;Deriving combinator implementations&quot;, lecture 4, &quot;Designing and using combinators&quot; <a href="http://www.cse.chalmers.se/~rjmh/Combinators/DerivingCombinators/sld001.htm">http://www.cse.chalmers.se/~rjmh/Combinators/DerivingCombinators/sld001.htm</a></li>
<li><a href="http://matt.might.net/articles/best-programming-languages/">http://matt.might.net/articles/best-programming-languages/</a></li>
<li><a href="http://matt.might.net/articles/compiling-to-java/">http://matt.might.net/articles/compiling-to-java/</a></li>
<li><p>other programming languages</p>
<ul>
<li><a href="https://en.wikipedia.org/wiki/Curry_(programming_language)">https://en.wikipedia.org/wiki/Curry_(programming_language)</a></li>
<li><a href="http://fsl.cs.illinois.edu/images/5/5e/Cayenne.pdf">http://fsl.cs.illinois.edu/images/5/5e/Cayenne.pdf</a></li>
</ul></li>
<li><a href="https://github.com/edom/work/blob/master/meta/doc/extension.md">Extension programming language?</a></li>
<li><a href="https://en.wikipedia.org/wiki/Higher-order_abstract_syntax">https://en.wikipedia.org/wiki/Higher-order_abstract_syntax</a></li>
<li><a href="http://www.stephendiehl.com/posts/haskell_2017.html">http://www.stephendiehl.com/posts/haskell_2017.html</a></li>
<li><p>Haskell library: yaml vs HsYaml</p>
<ul>
<li><p><a href="https://twitter.com/hvrgnu/status/1004136566984503297">https://twitter.com/hvrgnu/status/1004136566984503297</a></p>
<ul>
<li>HsYaml is pure Haskell (doesn't use external libraries)</li>
</ul></li>
</ul></li>
<li><a href="https://www.cl.cam.ac.uk/~jrh13/slides/manchester-12sep01/slides.pdf">LCF key ideas</a></li>
<li><p>closed source?</p>
<ul>
<li>given SQL database, generate HTML user interface <a href="http://datanovata.com/">http://datanovata.com/</a></li>
</ul></li>
<li><a href="http://libcello.org">http://libcello.org</a></li>
<li><p>C HTTP server library?</p>
<ul>
<li><a href="https://kore.io">https://kore.io</a></li>
<li><a href="http://facil.io">http://facil.io</a></li>
</ul></li>
<li><p>Possible user questions</p>
<ul>
<li>How do I write software with this?</li>
<li>What are the important types?</li>
</ul></li>
<li><p>Don't format source code manually.</p>
<ul>
<li><a href="https://github.com/google/google-java-format">https://github.com/google/google-java-format</a></li>
</ul></li>
<li><p>related software</p>
<ul>
<li><p>refactoring tools</p>
<ul>
<li><a href="https://github.com/RefactoringTools/HaRe">https://github.com/RefactoringTools/HaRe</a></li>
<li><a href="https://hackage.haskell.org/package/haskell-tools-refactor">https://hackage.haskell.org/package/haskell-tools-refactor</a></li>
</ul></li>
<li><p>parsing without symbol solving</p>
<ul>
<li><p>Haskell and GHC extensions</p>
<ul>
<li><a href="http://hackage.haskell.org/package/haskell-src-exts">http://hackage.haskell.org/package/haskell-src-exts</a></li>
</ul></li>
<li><p>Haskell 98 only</p>
<ul>
<li><a href="https://hackage.haskell.org/package/haskell-src">https://hackage.haskell.org/package/haskell-src</a></li>
</ul></li>
<li><p>Java</p>
<ul>
<li><a href="http://hackage.haskell.org/package/language-java">http://hackage.haskell.org/package/language-java</a></li>
</ul></li>
</ul></li>
<li><p>unknown</p>
<ul>
<li><a href="http://hackage.haskell.org/package/haskell-tools-ast">http://hackage.haskell.org/package/haskell-tools-ast</a></li>
</ul></li>
<li><p>multi-database/cross-database query</p>
<ul>
<li><a href="http://www.unityjdbc.com/doc/multiple/multiplequery.php">http://www.unityjdbc.com/doc/multiple/multiplequery.php</a></li>
<li><a href="https://www.red-gate.com/simple-talk/dotnet/net-tools/a-unified-approach-to-multi-database-query-templates/">https://www.red-gate.com/simple-talk/dotnet/net-tools/a-unified-approach-to-multi-database-query-templates/</a></li>
</ul></li>
<li><p>similar systems</p>
<ul>
<li><p>ERP libraries?</p>
<ul>
<li><p>Meta is similar to Apache Ofbiz.</p>
<ul>
<li><p>Some differences:</p>
<ul>
<li>To define entities, Meta uses Haskell, Ofbiz uses XML.</li>
<li>Meta is written in Haskell, Ofbiz is written in Java.</li>
</ul></li>
<li><p><a href="https://cwiki.apache.org/confluence/display/OFBIZ/OFBiz+Tutorial+-+A+Beginners+Development+Guide">https://cwiki.apache.org/confluence/display/OFBIZ/OFBiz+Tutorial+-+A+Beginners+Development+Guide</a></p></li>
</ul></li>
</ul></li>
<li><p>Web frameworks? Scaffolders?</p>
<ul>
<li><p>Meta is similar to Laravel.</p>
<ul>
<li><a href="https://www.quora.com/Is-Laravel-a-good-framewok-really">https://www.quora.com/Is-Laravel-a-good-framewok-really</a></li>
</ul></li>
<li><p>Meta is similar to Ruby on Rails.</p></li>
</ul></li>
<li><p>PhD theses</p>
<ul>
<li><p><a href="http://citeseerx.ist.psu.edu/viewdoc/download?doi=10.1.1.422.5683&amp;rep=rep1&amp;type=pdf">&quot;Programming Language Features for Web Application Development&quot;, Ezra Cooper</a></p>
<ul>
<li>&quot;Links&quot; programming language</li>
</ul></li>
</ul></li>
</ul></li>
</ul></li>
<li><p>For JDBC URL see</p>
<ul>
<li><a href="https://jdbc.postgresql.org/documentation/80/connect.html">https://jdbc.postgresql.org/documentation/80/connect.html</a></li>
</ul></li>
<li><p>similar</p>
<ul>
<li><a href="https://medium.com/airbnb-engineering/react-native-at-airbnb-f95aa460be1c">https://medium.com/airbnb-engineering/react-native-at-airbnb-f95aa460be1c</a></li>
</ul></li>
<li><p>some requirement?</p>
<ul>
<li><a href="https://en.wikipedia.org/wiki/Multitenancy">https://en.wikipedia.org/wiki/Multitenancy</a></li>
</ul></li>
<li><p>Name?</p>
<ul>
<li>HUMPS Haskell Universal Meta Programming System ?</li>
<li>Hemps: Haskell Meta Programming System</li>
<li>EAG: Enterprise Application Generator</li>
<li>HAG: Haskell Application Generator</li>
</ul></li>
<li><p><a href="https://en.wikipedia.org/wiki/Language-independent_specification">https://en.wikipedia.org/wiki/Language-independent_specification</a></p></li>
<li><p>sublanguages?</p>
<ul>
<li>Ontology definition language</li>
<li>Data definition language</li>
<li><p>Web application description language</p>
<ul>
<li>View description language</li>
</ul></li>
</ul></li>
<li><p>software design</p>
<ul>
<li><p>functional programming software design</p>
<ul>
<li><p>designing combinators</p>
<ul>
<li>Hughes 1995 doc <a href="http://belle.sourceforge.net/doc/hughes95design.pdf">The design of a pretty-printing library</a></li>
</ul></li>
</ul></li>
</ul></li>
<li><a href="http://lambda-the-ultimate.org/node/5292">LTU:progress on gradual typing</a></li>
<li><a href="https://en.wikipedia.org/wiki/%CE%9BProlog">WP:lambda-prolog</a></li>
<li><p>Should we use Haskell or TypeScript for this project? Both? Neither?</p>
<ul>
<li><p>Killer features</p>
<ul>
<li>IDE: TypeScript wins (VS Code).</li>
<li><p>custom infix operators: Haskell wins.</p>
<ul>
<li>We can go even wilder with Agda, Coq, Idris, Lean, etc.</li>
</ul></li>
<li>untagged unions: TypeScript wins.</li>
<li><p>software diversity: TypeScript wins.</p>
<ul>
<li>TypeScript works with nodejs and npm. Boatloads of software.</li>
<li>I think TypeScript has more developers.</li>
</ul></li>
<li><p>laziness</p>
<ul>
<li>Haskell wins.</li>
</ul></li>
</ul></li>
<li><p>Both have</p>
<ul>
<li>ADTs.</li>
</ul></li>
</ul></li>
</ul></li>
</ol>
<h4 id="the-context-of-premature-optimization"><span class="section_number">5.6.5</span><span class="section_title">The context of &quot;Premature optimization&quot;</span></h4>
<p><a href="http://wiki.c2.com/?PrematureOptimization">http://wiki.c2.com/?PrematureOptimization</a></p>
<p>Knuth was telling us to focus on what matters.</p>
<p>The catchy maxim &quot;premature optimization is the root of all evil&quot; is at risk of being taken out of context.</p>
<p>(Straw-man) example where &quot;optimizing&quot; is stupid: You're building a small to-do list app, and you do it in C, and you use GOTO statements.</p>
<p>Example where not &quot;optimizing&quot; is stupid: You're building a electronic fuel injection system, and you don't know anything about jitter, latency, and real-time systems. Controlling latency here is a requirement, not an optimization.</p>
<h4 id="haskell-strictness-checker"><span class="section_number">5.6.6</span><span class="section_title">Haskell strictness checker</span></h4>
<ul>
<li>2018 &quot;Keep your laziness in check&quot; <a href="https://dl.acm.org/citation.cfm?doid=3243631.3236797">https://dl.acm.org/citation.cfm?doid=3243631.3236797</a>
<ul>
<li>&quot;We introduce StrictCheck: a property-based random testing framework for observing, specifying, and testing the strictness of Haskell functions.&quot;</li>
</ul></li>
</ul>
<h4 id="question-for-abdullah"><span class="section_number">5.6.7</span><span class="section_title">&lt;2018-09-12&gt; question for Abdullah</span></h4>
<p>Do you know of anything that computes (generates code for) the products/sums of data-types? Do you know of any libraries that enable us to describe how to transform a data type to a related data type? Do you know of anything resembling template metaprogramming for Haskell that is not Template Haskell? For example:</p>
<pre class="example"><code>data A = A1 | A2
data B = B1 | B2

-- &lt;input&gt;
generate data P = A * B
generate data S = A + B
-- &lt;/input&gt;

-- &lt;output&gt;
data P  = P_A1_B1
        | P_A1_B2
        | P_A2_B1
        | P_A2_B2

data S  = S_A1 | S_A2
        | S_B1 | S_B2
-- &lt;/output&gt;
</code></pre>
<h4 id="scheme-currying"><span class="section_number">5.6.8</span><span class="section_title">&lt;2017-09-04&gt; Scheme currying</span></h4>
<ol>
<li><p>Abstract</p>
<p>We define the macros <code>lambda/c</code>, <code>apply/c</code>, and <code>define/c</code>, which are curried analogs of <code>lambda</code>, <code>apply</code>, and <code>define</code>, respectively. This way is simple, but it uses macros and it is limited to fixed-arity lambda expressions.</p></li>
<li><p>The idea</p>
<p>The idea of <code>lambda/c</code> is this pattern:</p>
<pre class="example"><code>(lambda/c (a) z) =&gt; (lambda (a) z)
(lambda/c (a b) z) =&gt; (lambda (a) (lambda (b) z))
(lambda/c (a b c) z) =&gt; (lambda (a) (lambda (b) (lambda (c) z)))
...
</code></pre>
<p>The idea of <code>apply/c</code> is this pattern:</p>
<pre class="example"><code>(apply/c a b) =&gt; (a b)
(apply/c a b c) =&gt; ((a b) c)
(apply/c a b c d) =&gt; (((a b) c) d)
...
</code></pre>
<p>However, there is a difference: <code>apply</code> is an arity-2 procedure taking a procedure and a list, whereas <code>apply/c</code> is a macro that takes one or more arguments.</p>
<p>The idea of <code>define/c</code> is this parallel:</p>
<pre class="example"><code>(define (a b ... y) z) = (define a (lambda (b ... y) z))
(define/c (a b ... y) z) = (define a (lambda/c (b ... y) z))
</code></pre></li>
<li><p>The code</p>
<p>I tried this code on Guile 2.0.9 on Ubuntu 14.04.</p>
<pre class="example"><code>(define-syntax lambda/c
    (syntax-rules ()
        (
            (_ (x) body ...)
            (lambda (x) body ...)
        )
        (
            (_ (x y ...) body ...)
            (lambda (x) (lambda/c (y ...) body ...))
        )
    )
)

(define-syntax apply/c
    (syntax-rules ()
        (
            (_ f)
            (f)
        )
        (
            (_ f x)
            (f x)
        )
        (
            (_ f x y ...)
            (apply/c (f x) y ...)
        )
    )
)

(define-syntax define/c
    (syntax-rules ()
        (
            (_ (f) body ...)
            (define f (lambda () body ...))
        )
        (
            (_ (f x ...) body ...)
            (define f (lambda/c (x ...) body ...))
        )
    )
)
</code></pre></li>
<li><p>Example</p>
<p>After the above macros have been defined (by copying them to your REPL, for example), the following fragment should print three threes.</p>
<pre class="example"><code>(define f (lambda/c (x y) (+ x y)))
(define g (lambda (x) (lambda (y) (+ x y))))
(define/c (h x y) (+ x y))
(apply/c f 1 2)
(apply/c g 1 2)
(apply/c h 1 2)
</code></pre></li>
</ol>
<h4 id="approximating-general-recursion-in-tfp"><span class="section_number">5.6.9</span><span class="section_title">&lt;2018-04-07&gt; Approximating general recursion in TFP</span></h4>
<p>Here we are going to show how to approximate general recursive functions in TFP with the help of the following <code>repeat</code> and <code>approx</code>:</p>
<div class="sourceCode" id="cb53"><pre class="sourceCode haskell"><code class="sourceCode haskell"><a class="sourceLine" id="cb53-1" title="1"><span class="co">-- The expression `repeat n f x` means</span></a>
<a class="sourceLine" id="cb53-2" title="2"><span class="co">-- `n` times of the application of `f` to `x`.</span></a>
<a class="sourceLine" id="cb53-3" title="3"><span class="fu">repeat</span> <span class="fu">:</span> <span class="dt">Nat</span> <span class="ot">-&gt;</span> (a <span class="ot">-&gt;</span> a) <span class="ot">-&gt;</span> a <span class="ot">-&gt;</span> a</a>
<a class="sourceLine" id="cb53-4" title="4"><span class="fu">repeat</span> <span class="dv">0</span> f <span class="fu">=</span> <span class="fu">id</span></a>
<a class="sourceLine" id="cb53-5" title="5"><span class="fu">repeat</span> (n<span class="fu">+</span><span class="dv">1</span>) f <span class="fu">=</span> <span class="fu">repeat</span> n f <span class="fu">.</span> f</a>
<a class="sourceLine" id="cb53-6" title="6"></a>
<a class="sourceLine" id="cb53-7" title="7">approx</a>
<a class="sourceLine" id="cb53-8" title="8">    <span class="fu">:</span> <span class="dt">Nat</span> <span class="co">-- count</span></a>
<a class="sourceLine" id="cb53-9" title="9">    <span class="ot">-&gt;</span> (a <span class="ot">-&gt;</span> s) <span class="co">-- begin</span></a>
<a class="sourceLine" id="cb53-10" title="10">    <span class="ot">-&gt;</span> (s <span class="ot">-&gt;</span> s) <span class="co">-- step</span></a>
<a class="sourceLine" id="cb53-11" title="11">    <span class="ot">-&gt;</span> (s <span class="ot">-&gt;</span> <span class="dt">Maybe</span> b) <span class="co">-- end</span></a>
<a class="sourceLine" id="cb53-12" title="12">    <span class="ot">-&gt;</span> (a <span class="ot">-&gt;</span> <span class="dt">Maybe</span> b)</a>
<a class="sourceLine" id="cb53-13" title="13"></a>
<a class="sourceLine" id="cb53-14" title="14">approx count begin step end <span class="fu">=</span></a>
<a class="sourceLine" id="cb53-15" title="15">    end <span class="fu">.</span> <span class="fu">repeat</span> count step <span class="fu">.</span> begin</a></code></pre></div>
<p>To approximate a general recursive function <code>f : a -&gt; b</code>, we write a data type <code>S_f</code> and these three non-recursive total functions:</p>
<div class="sourceCode" id="cb54"><pre class="sourceCode haskell"><code class="sourceCode haskell"><a class="sourceLine" id="cb54-1" title="1">begin_f <span class="fu">:</span> a <span class="ot">-&gt;</span> <span class="dt">S_f</span></a>
<a class="sourceLine" id="cb54-2" title="2">step_f <span class="fu">:</span> <span class="dt">S_f</span> <span class="ot">-&gt;</span> <span class="dt">S_f</span></a>
<a class="sourceLine" id="cb54-3" title="3">end_f <span class="fu">:</span> <span class="dt">S_f</span> <span class="ot">-&gt;</span> <span class="dt">Maybe</span> b</a>
<a class="sourceLine" id="cb54-4" title="4"></a>
<a class="sourceLine" id="cb54-5" title="5"><span class="co">-- A side note:</span></a>
<a class="sourceLine" id="cb54-6" title="6"><span class="co">-- In PFP, the original `f` can be</span></a>
<a class="sourceLine" id="cb54-7" title="7"><span class="co">-- recovered from those three functions:</span></a>
<a class="sourceLine" id="cb54-8" title="8">f input <span class="fu">=</span> loop (begin_f input)</a>
<a class="sourceLine" id="cb54-9" title="9">    <span class="kw">where</span></a>
<a class="sourceLine" id="cb54-10" title="10">        loop s <span class="fu">=</span> <span class="kw">case</span> end_f s <span class="kw">of</span></a>
<a class="sourceLine" id="cb54-11" title="11">            <span class="dt">Just</span> output <span class="ot">-&gt;</span> output</a>
<a class="sourceLine" id="cb54-12" title="12">            _ <span class="ot">-&gt;</span> loop (step_f s)</a></code></pre></div>
<p>Then, we can approximate <code>f</code> as <code>f_approx</code>:</p>
<div class="sourceCode" id="cb55"><pre class="sourceCode haskell"><code class="sourceCode haskell"><a class="sourceLine" id="cb55-1" title="1">f_approx <span class="fu">:</span> <span class="dt">Nat</span> <span class="ot">-&gt;</span> (a <span class="ot">-&gt;</span> <span class="dt">Maybe</span> b)</a>
<a class="sourceLine" id="cb55-2" title="2">f_approx count <span class="fu">=</span></a>
<a class="sourceLine" id="cb55-3" title="3">    approx count begin_f step_f end_f</a></code></pre></div>
<p>The <code>count</code> parameter can be thought as a time limit or time-out, the number of iterations, the number of steps.</p>
<p>Here is an example approximation of the factorial function.</p>
<div class="sourceCode" id="cb56"><pre class="sourceCode haskell"><code class="sourceCode haskell"><a class="sourceLine" id="cb56-1" title="1">fac <span class="dv">0</span> <span class="fu">=</span> <span class="dv">1</span></a>
<a class="sourceLine" id="cb56-2" title="2">fac n <span class="fu">=</span> n <span class="fu">*</span> fac (n<span class="fu">-</span><span class="dv">1</span>)</a>
<a class="sourceLine" id="cb56-3" title="3"></a>
<a class="sourceLine" id="cb56-4" title="4"><span class="kw">data</span> <span class="dt">State</span> <span class="fu">=</span> <span class="dt">Mk</span> { n <span class="fu">:</span> <span class="dt">Nat</span>, a <span class="fu">:</span> <span class="dt">Nat</span> }</a>
<a class="sourceLine" id="cb56-5" title="5"></a>
<a class="sourceLine" id="cb56-6" title="6">fac_approx count <span class="fu">=</span></a>
<a class="sourceLine" id="cb56-7" title="7">    end <span class="fu">.</span> <span class="fu">repeat</span> count step <span class="fu">.</span> begin</a>
<a class="sourceLine" id="cb56-8" title="8">    <span class="kw">where</span></a>
<a class="sourceLine" id="cb56-9" title="9">        begin <span class="fu">:</span> <span class="dt">Nat</span> <span class="ot">-&gt;</span> <span class="dt">State</span></a>
<a class="sourceLine" id="cb56-10" title="10">        begin n <span class="fu">=</span> <span class="dt">Mk</span> n <span class="dv">1</span></a>
<a class="sourceLine" id="cb56-11" title="11"></a>
<a class="sourceLine" id="cb56-12" title="12">        end <span class="fu">:</span> <span class="dt">State</span> <span class="ot">-&gt;</span> <span class="dt">Maybe</span> <span class="dt">Nat</span></a>
<a class="sourceLine" id="cb56-13" title="13">        end (<span class="dt">Mk</span> <span class="dv">0</span> a) <span class="fu">=</span> <span class="dt">Just</span> a</a>
<a class="sourceLine" id="cb56-14" title="14">        end _ <span class="fu">=</span> <span class="dt">Nothing</span></a>
<a class="sourceLine" id="cb56-15" title="15"></a>
<a class="sourceLine" id="cb56-16" title="16">        step <span class="fu">:</span> <span class="dt">State</span> <span class="ot">-&gt;</span> <span class="dt">State</span></a>
<a class="sourceLine" id="cb56-17" title="17">        step (<span class="dt">Mk</span> <span class="dv">0</span> a) <span class="fu">=</span> <span class="dt">Mk</span> <span class="dv">0</span> a</a>
<a class="sourceLine" id="cb56-18" title="18">        step (<span class="dt">Mk</span> (n<span class="fu">+</span><span class="dv">1</span>) a) <span class="fu">=</span> <span class="dt">Mk</span> n (a <span class="fu">*</span> (n<span class="fu">+</span><span class="dv">1</span>))</a></code></pre></div>
<p>Here is an example approximation of bottom.</p>
<div class="sourceCode" id="cb57"><pre class="sourceCode haskell"><code class="sourceCode haskell"><a class="sourceLine" id="cb57-1" title="1"><span class="co">-- PFP</span></a>
<a class="sourceLine" id="cb57-2" title="2"></a>
<a class="sourceLine" id="cb57-3" title="3">hang <span class="fu">:</span> a</a>
<a class="sourceLine" id="cb57-4" title="4">hang <span class="fu">=</span> hang</a>
<a class="sourceLine" id="cb57-5" title="5"></a>
<a class="sourceLine" id="cb57-6" title="6"><span class="co">-- TFP approximation</span></a>
<a class="sourceLine" id="cb57-7" title="7"></a>
<a class="sourceLine" id="cb57-8" title="8"><span class="kw">data</span> <span class="dt">State</span> <span class="fu">=</span> <span class="dt">Mk</span></a>
<a class="sourceLine" id="cb57-9" title="9"></a>
<a class="sourceLine" id="cb57-10" title="10">hang_begin _ <span class="fu">=</span> <span class="dt">Mk</span></a>
<a class="sourceLine" id="cb57-11" title="11">hang_step s <span class="fu">=</span> s</a>
<a class="sourceLine" id="cb57-12" title="12">hang_end _ <span class="fu">=</span> <span class="dt">Nothing</span></a>
<a class="sourceLine" id="cb57-13" title="13"></a>
<a class="sourceLine" id="cb57-14" title="14">hang_approx count <span class="fu">=</span></a>
<a class="sourceLine" id="cb57-15" title="15">    hang_end <span class="fu">.</span> <span class="fu">repeat</span> count hang_step <span class="fu">.</span> hang_begin</a></code></pre></div>
<p>I conjecture that there is an algorithm that can transform every general recursive function into its begin-step-end form.</p>
<h4 id="making-a-java-virtual-machine"><span class="section_number">5.6.10</span><span class="section_title">Making a Java virtual machine</span></h4>
<ul>
<li><a href="https://en.wikipedia.org/wiki/Java_Class_Library">https://en.wikipedia.org/wiki/Java_Class_Library</a></li>
<li><p><a href="https://en.wikipedia.org/wiki/Java_Native_Interface">https://en.wikipedia.org/wiki/Java_Native_Interface</a></p>
<ul>
<li><a href="https://docs.oracle.com/javase/7/docs/technotes/guides/jni/spec/functions.html">https://docs.oracle.com/javase/7/docs/technotes/guides/jni/spec/functions.html</a></li>
</ul></li>
</ul>
<h4 id="unsorted-things-from-softeng.md"><span class="section_number">5.6.11</span><span class="section_title">Unsorted things from softeng.md</span></h4>
<ol>
<li><p>Readings?</p>
<ul>
<li>2018, book, &quot;The essence of software engineering&quot;, <a href="https://link.springer.com/book/10.1007/978-3-319-73897-0">description</a>, <a href="https://link.springer.com/content/pdf/10.1007%2F978-3-319-73897-0.pdf">pdf</a>
<ul>
<li>chapter &quot;Escaping Method Prison – On the Road to Real Software Engineering&quot;
<ul>
<li>some history of software engineering; method wars;</li>
<li>some retrospective</li>
<li><a href="https://semat.org/">SEMAT (Software Engineering Method And Theory)</a></li>
</ul></li>
</ul></li>
<li><a href="http://www.icse-conferences.org/mostinfluential.html">ICSE (International Conference on Software Engineering) most influential articles</a>
<ul>
<li>&quot;ICSE is the flagship conference of [software engineering] […].&quot; (<a href="http://www.gousios.org/blog/Report-from-ICSE-2017.html">Georgios Gousios</a>)
<ul>
<li>2008, article, &quot;Debugging Reinvented: Asking and Answering Why and Why Not Questions About Program Behavior ICSE-30&quot;
<ul>
<li><a href="https://www.cs.cmu.edu/~NatProg/whyline.html">https://www.cs.cmu.edu/~NatProg/whyline.html</a></li>
<li><a href="https://github.com/andyjko/whyline">https://github.com/andyjko/whyline</a></li>
</ul></li>
<li>2012, slides, &quot;Connecting Software Architecture to Implementation: The Next 10 Years&quot;, <a href="http://www.cs.cmu.edu/~aldrich/presentations/aldrich-icse-mip-2012.pdf">pdf</a>
<ul>
<li>2002, article, &quot;ArchJava: Connecting Software Architecture to Implementation&quot;, <a href="https://www.ics.uci.edu/~andre/informatics223s2009/aldrichchambersnotkin.pdf">pdf</a></li>
</ul></li>
<li>1997, article, &quot;Software processes are software too, revisited&quot;, <a href="http://citeseerx.ist.psu.edu/viewdoc/download?doi=10.1.1.148.7620&amp;rep=rep1&amp;type=pdf">pdf</a>
<ul>
<li>1987, article, &quot;Software processes are software too&quot;, <a href="http://laser.cs.umass.edu/techreports/1987-LJO.pdf">pdf</a></li>
</ul></li>
</ul></li>
</ul></li>
<li>2018, slides, &quot;What would a science of software engineering look like?&quot;, <a href="http://herbsleb.org/web-pres/slides/crowd-chase-2018-final-dist.pdf">pdf</a></li>
<li>Meilir Page Jones, &quot;What every programmer should know about object-oriented design&quot;</li>
</ul></li>
<li><p>Old pages</p>
<ul>
<li>Things we use, tools and services
<ul>
<li>vim, text editor</li>
<li>Management</li>
<li>Other opinions
<ul>
<li>.NET stack
<ul>
<li><a href="http://engineering.gopangea.com/stack">http://engineering.gopangea.com/stack</a></li>
<li><a href="http://engineering.gopangea.com/2015/12/10/why-dot-net.html">http://engineering.gopangea.com/2015/12/10/why-dot-net.html</a></li>
</ul></li>
</ul></li>
</ul></li>
</ul></li>
<li><p>Undigested</p>
<ul>
<li>What is a database that can be scaled up without downtime? We are willing to sacrifice consistency for tracking data.</li>
<li>Are we really doing Scrum? <a href="http://www.allaboutagile.com/the-scrumbutt-test/">http://www.allaboutagile.com/the-scrumbutt-test/</a></li>
<li>BPMN tool: camunda editor (bpmn.io).</li>
<li>The nature of enterprise application is low-sophistication high-plumbing, so we need to make plumbing easy. All our programs read data, do something what that data, and write data. The most important things are the data and the business logic.</li>
<li>How to group code? By feature? By dependency? By author?
<ul>
<li><a href="https://en.wikipedia.org/wiki/Feature-driven_development#Build_by_feature">https://en.wikipedia.org/wiki/Feature-driven_development#Build_by_feature</a>
<ul>
<li>&quot;Any function that is too complex to be implemented within two weeks is further decomposed into smaller functions until each sub-problem is small enough to be called a feature.&quot;</li>
</ul></li>
</ul></li>
<li>Grails vs Spring MVC vs Play Framework?</li>
<li>distributed systems
<ul>
<li><a href="https://martinfowler.com/bliki/FirstLaw.html">Martin Fowler's First Law of Distributed Object Design</a>: &quot;Don't distribute your objects.&quot;</li>
<li><a href="http://www.drdobbs.com/errant-architectures/184414966">http://www.drdobbs.com/errant-architectures/184414966</a></li>
</ul></li>
<li>Eta is GHC ported to JVM.
<ul>
<li>2017-01-13: Haskell (~ GHC 7.10.3) on JVM: <a href="http://eta-lang.org/docs/html/">http://eta-lang.org/docs/html/</a></li>
</ul></li>
<li><a href="https://blog.codinghorror.com/discipline-makes-strong-developers/">https://blog.codinghorror.com/discipline-makes-strong-developers/</a>
<ul>
<li>Good code is more because of programmer discipline than because of the framework or language.</li>
</ul></li>
<li>Emphasize maintainability, readability, understandability, changeability?</li>
<li>React reinvents Windows 1.0 (1985) <a href="https://bitquabit.com/post/the-more-things-change/">https://bitquabit.com/post/the-more-things-change/</a></li>
<li>Ramble
<ul>
<li>Writing software?
<ul>
<li>Minimize build time.</li>
<li>Minimize the time from program startup to program ready. Otherwise you won't test the program.</li>
<li>Understand which parts of the code have more risk. Risk is caused by something you don't understand. (Warren Buffett)</li>
<li>Minimize the way things can go wrong. If you make a variable immutable, there are less ways it can go wrong. (?)</li>
<li>Explicit is better than implicit? Prefer writing boilerplates to magical reflection stuff. Let the compiler help you. Let compilation error guide refactoring.</li>
<li>Minimize duplication? Minimize duplication of constants, literals, fragments?</li>
<li>Data is more important than code? The shape of the data is important?</li>
<li>Make every part understandable in isolation?</li>
<li>Avoid nulls? If you must use null, document it.</li>
</ul></li>
</ul></li>
<li>2018-05-30
<ul>
<li>Enterprise application stack?
<ul>
<li>Java 8</li>
<li>Jetty 9.4 (Servlet API 3.1.0)</li>
<li>JPA API 1.0.2 (annotations only)</li>
<li>J2HTML</li>
<li>PostgreSQL 9.5</li>
<li>J2HTML-like for C#
<ul>
<li><a href="https://github.com/HtmlTags/htmltags">https://github.com/HtmlTags/htmltags</a></li>
</ul></li>
<li>Java: Install OpenJDK 8, install IntelliJ IDEA, you're all set.
<ul>
<li>IntelliJ IDEA comes with Maven.</li>
</ul></li>
<li>.NET: Install Mono, install Monodevelop 5.
<ul>
<li>Monodevelop 5 comes with Nuget.</li>
</ul></li>
<li>Database should be a library, not a stand-alone server.</li>
</ul></li>
</ul></li>
<li>software legality?
<ul>
<li>Harmony CLA (Contributor License Agreement)?</li>
</ul></li>
<li>What cause software errors?
<ul>
<li>Programming error: what the programmers think are not what they write. Difference between their thought and the computer's actual rules. Silent wrong assumption.</li>
<li>Contributing factors: bad languages, bad tools.
<ul>
<li>Bad languages make writing correct programs difficult.</li>
</ul></li>
<li>Errors outside programmer control: cosmic rays, hardware problems</li>
</ul></li>
<li>What is software engineering?
<ul>
<li>Engineering is the application of science.</li>
<li>Civil engineering is the application of natural science.</li>
<li>Software engineering is the application of computer science.</li>
<li>What is science?
<ul>
<li>Science is the application of the scientific method.</li>
<li>Science is a mixture of philosophy, mathematics, and experiments.</li>
</ul></li>
<li>What is software?
<ul>
<li>chapter, &quot;What is software?: The role of empirical methods in answering the question&quot;, <a href="https://link.springer.com/chapter/10.1007/978-3-319-73897-0_4">description</a>, <a href="https://link.springer.com/content/pdf/10.1007%2F978-3-319-73897-0_4.pdf">pdf</a>
<ul>
<li>&quot;Legislation is (like?) software development.&quot;</li>
<li>&quot;[Cooking] Recipes are software.&quot;</li>
</ul></li>
<li>The ideal software is easy to change but doesn't change. The ideal software captures the essence of the problem. The essence of a problem is mathematical definitions. Mathematical definitions aren't supposed to change.</li>
<li>Software is a model of reality.</li>
<li>Software is law? Law is software?
<ul>
<li>Similarity between software and law
<ul>
<li>Bad software and bad law both result in unnecessarily slow system.</li>
<li>Both are based on logic.</li>
<li>Both have an ontology.</li>
<li>The law of a country is a big (possibly inconsistent) logic program.
<ul>
<li>The law in writing vs the law in practice
<ul>
<li>I think it is too much for anyone to know all laws that are in effect in a country.</li>
</ul></li>
</ul></li>
</ul></li>
<li>Difference between software and law
<ul>
<li>A judge cares about both the letter of the law and the spirit of the law.</li>
<li>A computer cares only about the letter of the software. There is no such thing as the spirit of the software.
<ul>
<li>A computer does what we write, not what we mean.
<ul>
<li>The programmer follows the computer's rules. Not the other way around.</li>
</ul></li>
</ul></li>
<li><a href="https://en.wikipedia.org/wiki/Letter_and_spirit_of_the_law">WP:Letter and spirit of the law</a></li>
</ul></li>
</ul></li>
<li>Software is executable theory of nature.</li>
<li>Software is like physics but executable.</li>
<li><a href="https://queue.acm.org/detail.cfm?id=2693160">https://queue.acm.org/detail.cfm?id=2693160</a></li>
<li><a href="https://www.cs.umn.edu/research/research_areas/software-engineering-and-programming-languages">https://www.cs.umn.edu/research/research_areas/software-engineering-and-programming-languages</a>
<ul>
<li>&quot;Software is a solution to a computational problem using a formal programming language.&quot;</li>
</ul></li>
</ul></li>
</ul></li>
<li>2010, article, &quot;We show how symbolic execution and Satisfiability Modulo Theories (SMT) solvers can be gainfully employed to greatly automate software debugging of evolving programs.&quot;, <a href="https://www.sciencedirect.com/science/article/pii/S1571066110001246">downloadable as pdf</a>
<ul>
<li>confusing title: &quot;Debugging as a Science, that too, when your Program is Changing&quot;</li>
</ul></li>
<li>Distilling the best practices and standardizing the tools and processes
<ul>
<li>API (application programming interface) information systems, REST clients, REST API debuggers
<ul>
<li><a href="https://insomnia.rest/">https://insomnia.rest/</a>
<ul>
<li>source code <a href="https://github.com/getinsomnia/insomnia">https://github.com/getinsomnia/insomnia</a></li>
</ul></li>
<li><a href="https://www.getpostman.com/">https://www.getpostman.com/</a>
<ul>
<li>not open source <a href="https://stackoverflow.com/questions/43380313/postman-main-source-code-repository">https://stackoverflow.com/questions/43380313/postman-main-source-code-repository</a></li>
</ul></li>
</ul></li>
<li>JOOQ</li>
<li><a href="https://zachholman.com/posts/deploying-software">https://zachholman.com/posts/deploying-software</a></li>
<li>IDE (integrated development environment)
<ul>
<li>How do we make an IDE? Can we generate an IDE from grammar?</li>
</ul></li>
<li>How do we put academic research into practice?
<ul>
<li>1995, article, &quot;Deriving specifications from requirements: an example&quot;, <a href="https://dl.acm.org/citation.cfm?id=225016">paywall</a></li>
<li>1998, article, &quot;Architecture-based runtime software evolution&quot;, <a href="https://dl.acm.org/citation.cfm?id=302181">paywall</a></li>
<li>2000, article, &quot;Bandera: extracting finite-state models from Java source code&quot;, <a href="https://dl.acm.org/citation.cfm?id=337234">paywall</a>
<ul>
<li>Is this related with C#'s async-await?</li>
</ul></li>
</ul></li>
<li>metaprogramming
<ul>
<li>&quot;Spoon is a library to analyze, transform, rewrite, transpile Java source code (incl Java 9 &amp; Java 10).&quot; <a href="https://github.com/INRIA/spoon">source</a></li>
</ul></li>
</ul></li>
<li>unread
<ul>
<li>long text: <a href="http://organizationalphysics.com/2016/10/13/top-down-vs-bottom-up-hierarchy-or-how-to-build-a-self-managed-organization/">Top-down vs. Bottom-up Hierarchy: Or, How to Design a Self-Managed Organization</a></li>
</ul></li>
<li>2014, article, &quot;Bidirectionally tolerating inconsistency: partial transformations&quot;, <a href="http://groups.inf.ed.ac.uk/bx/fase14.pdf">pdf</a>
<ul>
<li>1990, article, &quot;Tolerating inconsistency&quot;, Robert Balzer, <a href="http://gssi.det.uvigo.es/users/jgd/public_html/doctorado_01-02/p158-balzer.pdf">pdf</a></li>
</ul></li>
<li>Don't use GitFlow. Use continuous integration and continuous deployment instead.
<ul>
<li>The <code>master</code> branch always builds, always runs, and is always releasable.</li>
<li>Everything goes to <code>master</code>. Sketches, hotfixes, everything.</li>
<li>Avoid non-master long-lived branches.</li>
<li>It is OK to introduce half-baked code into <code>master</code> as long as it doesn't introduce errors.
<ul>
<li>Use feature switch/toggle.
<ul>
<li>Just because code is in <code>master</code> doesn't mean it will be run on production.</li>
</ul></li>
<li>Work-in-progress doesn't have to be full of errors.</li>
</ul></li>
<li>Discipline yourself to make small commits and avoid big merges.</li>
<li>Discipline yourself to make backward-compatible changes, and deprecate things slowly.
<ul>
<li>Give your users time to migrate.</li>
<li>If your changes are always backward-compatible, you will never break someone else's code.</li>
</ul></li>
<li>You can rebase/tidy up commits that you haven't pushed.</li>
<li>Merges and rebases produce the same working tree but have different uses.
<ul>
<li>The computer doesn't care whether you merge or rebase.</li>
<li>Merges and rebases exist for the humans.</li>
</ul></li>
<li>2017, article, <a href="https://www.gamasutra.com/blogs/NiklasGray/20170927/306445/Moving_away_from_GitFlow.php">Moving away from GitFlow</a></li>
</ul></li>
<li>Comparing build systems?
<ul>
<li>Haskell Shake</li>
<li>F# FAKE</li>
<li>Apache Buildr</li>
</ul></li>
<li>Does putting on a headphone enhance your focus, even if it isn't playing any sound?
<ul>
<li>How about putting a motorcycle helmet?</li>
</ul></li>
<li>1999, article, &quot;How enterprises use functional languages, and why they don't&quot;, Philip Wadler, <a href="http://homepages.inf.ed.ac.uk/wadler/papers/how-and-why/how-and-why.pdf">pdf</a></li>
<li>Optimizing enterprise application development
<ul>
<li>Low-code application development
<ul>
<li>G Suite low-code <a href="https://developers.google.com/appmaker/">https://developers.google.com/appmaker/</a></li>
<li>competitor <a href="https://www.outsystems.com/platform/#low-code">https://www.outsystems.com/platform/#low-code</a>
<ul>
<li>&quot;OutSystems is an open, standards-based platform with no lock-in, no proprietary data models, or proprietary run-time&quot;</li>
</ul></li>
</ul></li>
</ul></li>
<li>software engineering research, advances in software engineering
<ul>
<li><a href="http://www.sigsoft.org/events.html">http://www.sigsoft.org/events.html</a></li>
<li><a href="http://homepage.divms.uiowa.edu/~slonnegr/plf/Book/Chapter7.pdf">http://homepage.divms.uiowa.edu/~slonnegr/plf/Book/Chapter7.pdf</a></li>
</ul></li>
<li><a href="https://blog.codinghorror.com/why-cant-database-tables-index-themselves/">https://blog.codinghorror.com/why-cant-database-tables-index-themselves/</a></li>
<li>2015, PhD thesis, Bergersen, &quot;Measuring Programming Skill: Construction and Validation of an Instrument for Evaluating Java Developers&quot;
<ul>
<li><a href="http://folk.uio.no/gunnab/publications/Bergersen2015_PhD_thesis.pdf">pdf</a></li>
<li>It's a collection of 4 articles.</li>
<li><a href="https://www.duo.uio.no/handle/10852/48583">https://www.duo.uio.no/handle/10852/48583</a></li>
</ul></li>
<li>2005, article, &quot;Practical Ontology Systems for Enterprise Application&quot;, <a href="http://citeseerx.ist.psu.edu/viewdoc/download?doi=10.1.1.622.6490&amp;rep=rep1&amp;type=pdf">pdf</a></li>
<li>2006, article, &quot;Applications of Ontologies in Software Engineering&quot;, <a href="https://km.aifb.kit.edu/ws/swese2006/final/happel_full.pdf">pdf</a></li>
<li>dependency management
<ul>
<li>npm dependency hell, how npm2 works, how npm3 works
<ul>
<li><a href="http://npm.github.io/how-npm-works-docs/theory-and-design/dependency-hell.html">http://npm.github.io/how-npm-works-docs/theory-and-design/dependency-hell.html</a></li>
</ul></li>
</ul></li>
<li>How do we develop enterprise software with less effort?
<ul>
<li>CRUD should be generated.
<ul>
<li><a href="https://news.ycombinator.com/item?id=15429616">https://news.ycombinator.com/item?id=15429616</a></li>
<li><a href="http://isis.apache.org/">http://isis.apache.org/</a></li>
<li>other tools?</li>
</ul></li>
<li>feature-oriented software development
<ul>
<li><a href="https://en.wikipedia.org/wiki/FOSD_program_cubes">https://en.wikipedia.org/wiki/FOSD_program_cubes</a></li>
</ul></li>
</ul></li>
</ul></li>
</ol>
<h4 id="machine-learning-database-indexing-an-index-is-a-model-of-the-data"><span class="section_number">5.6.12</span><span class="section_title">Machine-learning database indexing; an index is a model of the data</span></h4>
<p><a href="http://deliprao.com/archives/262">http://deliprao.com/archives/262</a></p>
<p><a href="https://arxiv.org/abs/1712.01208">https://arxiv.org/abs/1712.01208</a></p>
<h3 id="what-is-software-engineering-1"><span class="section_number">5.7</span><span class="section_title">What is software engineering?</span></h3>
<p>(I moved some contents to <a href="file:philo.org">file:philo.org</a>).</p>
<div class="local_table_of_contents">
<ul>
<li><span class="section_number">5.7.1</span><span class="section_title"><a href="#ontology-and-jargon">Ontology and jargon</a></span><span class="word_count">(74w~1m)</span></li>
<li><span class="section_number">5.7.2</span><span class="section_title"><a href="#software-is-broken-and-bloated">&lt;2018-09-25&gt; Software is broken and bloated</a></span><span class="word_count">(23w~1m)</span></li>
<li><span class="section_number">5.7.3</span><span class="section_title"><a href="#why-is-hardware-more-standardized-than-software">Why is hardware more standardized than software?</a></span><span class="word_count">(93w~1m)</span></li>
<li><span class="section_number">5.7.4</span><span class="section_title"><a href="#how-do-we-write-lasting-software">How do we write lasting software?</a></span><span class="word_count">(188w~1m)</span></li>
<li><span class="section_number">5.7.5</span><span class="section_title"><a href="#adding-people-to-a-late-software-project-makes-it-later-fred-brooks-no-silver-bullet.">Adding people to a late software project makes it later (Fred Brooks, &quot;No silver bullet&quot;).</a></span><span class="word_count">(44w~1m)</span></li>
<li><span class="section_number">5.7.6</span><span class="section_title"><a href="#complexity">Complexity</a></span><span class="word_count">(40w~1m)</span></li>
<li><span class="section_number">5.7.7</span><span class="section_title"><a href="#defining-software-complexity-as-the-length-of-the-shortest-first-order-logic-formula-that-describes-it">Defining software complexity as the length of the shortest first-order-logic formula that describes it?</a></span><span class="word_count">(54w~1m)</span></li>
<li><span class="section_number">5.7.8</span><span class="section_title"><a href="#unpopular-opinions">Unpopular opinions</a></span><span class="word_count">(2w~1m)</span></li>
<li><span class="section_number">5.7.9</span><span class="section_title"><a href="#measuring-developer-productivity"><span class="todo TODO">TODO</span> Measuring developer productivity</a></span><span class="word_count">(64w~1m)</span></li>
<li><span class="section_number">5.7.10</span><span class="section_title"><a href="#who-reads-swebok-how-can-we-read-swebok-who-reads-all-of-it-why-does-anyone-bother-writing-it">Who reads SWEBOK? How can we read SWEBOK? Who reads all of it? Why does anyone bother writing it?</a></span><span class="word_count">(45w~1m)</span></li>
<li><span class="section_number">5.7.11</span><span class="section_title"><a href="#coupling">Coupling</a></span><span class="word_count">(25w~1m)</span></li>
<li><span class="section_number">5.7.12</span><span class="section_title"><a href="#testing-1">Testing</a></span><span class="word_count">(127w~1m)</span></li>
<li><span class="section_number">5.7.13</span><span class="section_title"><a href="#compare-programming-language-research-journals-and-conferences"><span class="todo TODO">TODO</span> Compare programming language research journals and conferences</a></span><span class="word_count">(58w~1m)</span></li>
<li><span class="section_number">5.7.14</span><span class="section_title"><a href="#software-engineer-associations">Software engineer associations</a></span><span class="word_count">(12w~1m)</span></li>
<li><span class="section_number">5.7.15</span><span class="section_title"><a href="#software-business-model">Software business model</a></span><span class="word_count">(193w~1m)</span></li>
<li><span class="section_number">5.7.16</span><span class="section_title"><a href="#measuring-software-quality">Measuring software quality?</a></span><span class="word_count">(3w~1m)</span></li>
<li><span class="section_number">5.7.17</span><span class="section_title"><a href="#programming-language-quality">Programming language quality?</a></span><span class="word_count">(3w~1m)</span></li>
<li><span class="section_number">5.7.18</span><span class="section_title"><a href="#technical-writing-software-documentation">Technical writing, software documentation</a></span><span class="word_count">(31w~1m)</span></li>
<li><span class="section_number">5.7.19</span><span class="section_title"><a href="#who-said-this-pit-of-success-it-was-someone-on-the-internet."><span class="todo TODO">TODO</span> Who said this &quot;pit of success&quot;? It was someone on the Internet.</a></span><span class="word_count">(75w~1m)</span></li>
</ul>
</div>
<h4 id="ontology-and-jargon"><span class="section_number">5.7.1</span><span class="section_title">Ontology and jargon</span></h4>
<p>A <em>language</em> is something that has syntax (form) and semantics (meaning).</p>
<p>A language enables its users to <em>communicate</em> with each other.</p>
<p>A language is formed by the agreements of its users.</p>
<p>A <em>formal language</em> …</p>
<p>A <em>programming language</em> is a formal language that is used for programming (a machine).</p>
<p>To program a machine is …?</p>
<p>A <em>program</em> is a formula/string/term in a programming language?</p>
<p>A machine can be modeled by a formal system.</p>
<p>A program is an executable mathematical object?</p>
<h4 id="software-is-broken-and-bloated"><span class="section_number">5.7.2</span><span class="section_title">&lt;2018-09-25&gt; Software is broken and bloated</span></h4>
<ul>
<li><a href="http://tonsky.me/blog/disenchantment/">Software disenchantment @ tonsky.me</a></li>
<li><a href="https://www.hanselman.com/blog/EverythingsBrokenAndNobodysUpset.aspx">Scott Hanselman: &quot;Software doesn't work. I'm shocked at how often we put up with it.&quot;</a></li>
</ul>
<h4 id="why-is-hardware-more-standardized-than-software"><span class="section_number">5.7.3</span><span class="section_title">Why is hardware more standardized than software?</span></h4>
<p>Hardware standardization benefits everyone (both its makers and its users). Hardware unstandardization is more expensive than hardware standardization.</p>
<p>Software standardization is more expensive than software unstandardization.</p>
<p>Is software too malleable?</p>
<p>Hardware engineers have standard nuts, bolts, connectors, and components.</p>
<p>Why standardize?</p>
<ul>
<li>standardization reduces cost</li>
<li>standardization reduces duplicate effort</li>
<li>standardization improves interoperability</li>
</ul>
<p>Hypothesis: Programming language is too free. If programming language is limited (that is, if there is only one way to do one thing), then software will standardize itself.</p>
<p>There are some software standards, such as ABIs (Application Binary Interfaces). C calling convention is a standard.</p>
<h4 id="how-do-we-write-lasting-software"><span class="section_number">5.7.4</span><span class="section_title">How do we write lasting software?</span></h4>
<ul>
<li>Clear ontology</li>
<li>Task-oriented documentation
<ul>
<li>Documentation doesn't have to be separate from code.</li>
</ul></li>
<li><em>Capture</em> the requirement. Translate the requirement into software, instead of making a software system that <em>satisfies</em> the requirement.
<ul>
<li>The program may be rewritten, but the functional requirements, the business logic and the mathematical truths rarely change.
<ul>
<li>In order to make software last, we must <em>capture</em> the requirements, not make a system that satisfies the requirements. This requires a change in mindset. The software is not something made to some requirements; the software is the requirements itself. The software is not the shirt made-to-order; the software is the order itself, from which all satisfying shirts can be generated/derived/produced.</li>
</ul></li>
</ul></li>
<li>Think for yourself. Don't just follow hypes. Always have a reason when doing things. Record your reasoning for your forgetful future self.</li>
<li>Design software to be refactored without surprises.
<ul>
<li>Example: Avoid runtime reflection (unless for the most obvious cases). An alternative to that is code generation.
<ul>
<li>Help the compiler help you.</li>
<li>Even the most obvious cases aren't obvious to someone who see the code for the first time?</li>
</ul></li>
</ul></li>
<li>Shorten the edit-compile-test cycle. Design software so that it compiles fast and it starts up fast.</li>
<li>What else?</li>
</ul>
<h4 id="adding-people-to-a-late-software-project-makes-it-later-fred-brooks-no-silver-bullet."><span class="section_number">5.7.5</span><span class="section_title">Adding people to a late software project makes it later (Fred Brooks, &quot;No silver bullet&quot;).</span></h4>
<p>Newcoming programmers, no matter how experienced, need time to onboard; they are not immediately productive. Existing programmers must spend some time helping the newcoming programmers, temporarily reducing productivity even further.</p>
<h4 id="complexity"><span class="section_number">5.7.6</span><span class="section_title">Complexity</span></h4>
<ol>
<li><p>Renaat Verbruggen: Three universal methods of reducing complexity: partitioning, hierarchy, independence</p>
<ul>
<li><a href="http://www.computing.dcu.ie/~renaat/ca2/ca214/ca214vii.html">Renaat Verbruggen: Three universal methods of reducing complexity</a>: partitioning, hierarchy, independence
<ul>
<li>It also applies to other things, such as organizing this wiki.</li>
</ul></li>
</ul></li>
<li><p>How complex systems fail?</p>
<ul>
<li>2000, article, &quot;How complex systems fail&quot;, <a href="http://web.mit.edu/2.75/resources/random/How%20Complex%20Systems%20Fail.pdf">pdf</a></li>
</ul></li>
</ol>
<h4 id="defining-software-complexity-as-the-length-of-the-shortest-first-order-logic-formula-that-describes-it"><span class="section_number">5.7.7</span><span class="section_title">Defining software complexity as the length of the shortest first-order-logic formula that describes it?</span></h4>
<p>Every software can, in principle, be described by a first-order-logic formula that describes the requirements satisfied or behaviors exhibited by the system.</p>
<ol>
<li><p>What is complexity?</p>
<ul>
<li><a href="https://fs.blog/2014/03/what-is-complexity/">Farnam Street blog post</a></li>
<li><a href="http://www.hartford.edu/complexity/whats-complexity.aspx">What Is 'Complexity'? | University of Hartford</a></li>
<li>Measuring software complexity by hits-of-code instead of lines-of-code <a href="https://www.yegor256.com/2014/11/14/hits-of-code.html">https://www.yegor256.com/2014/11/14/hits-of-code.html</a></li>
</ul></li>
</ol>
<h4 id="unpopular-opinions"><span class="section_number">5.7.8</span><span class="section_title">Unpopular opinions</span></h4>
<ul>
<li><a href="https://www.quora.com/What-unpopular-opinions-do-you-have-about-software-development">https://www.quora.com/What-unpopular-opinions-do-you-have-about-software-development</a></li>
</ul>
<h4 id="measuring-developer-productivity"><span class="section_number">5.7.9</span><span class="section_title"><span class="todo TODO">TODO</span> Measuring developer productivity</span></h4>
<ul>
<li>2004 article &quot;Defining and measuring the productivity of programming languages&quot; <a href="https://pdfs.semanticscholar.org/1852/9ff58460b6238f5095af073d8505d79d3264.pdf">pdf</a>:
<ul>
<li>It defines these metrics:
<ul>
<li>&quot;the time and effort required to write, debug, and tune the code&quot;</li>
<li>&quot;the performance of the code that results&quot;</li>
</ul></li>
<li>power-efficiency graph (human efficiency and machine efficiency)</li>
<li>what else?</li>
</ul></li>
<li>2008 <a href="https://ifs.host.cs.st-andrews.ac.uk/Books/SE9/Web/Planning/productivity.html">https://ifs.host.cs.st-andrews.ac.uk/Books/SE9/Web/Planning/productivity.html</a>
<ul>
<li><a href="https://ifs.host.cs.st-andrews.ac.uk/Books/SE9/">https://ifs.host.cs.st-andrews.ac.uk/Books/SE9/</a></li>
</ul></li>
<li>1992 article <a href="https://www.andrews.edu/~vyhmeisr/papers/progprod.html">https://www.andrews.edu/~vyhmeisr/papers/progprod.html</a></li>
<li>2012 article <a href="http://www.drdobbs.com/jvm/the-comparative-productivity-of-programm/240005881">http://www.drdobbs.com/jvm/the-comparative-productivity-of-programm/240005881</a>
<ul>
<li>&quot;A database comparing 6,000 projects shows that the choice of programming language has a significant impact on project schedule.&quot;</li>
</ul></li>
</ul>
<h4 id="who-reads-swebok-how-can-we-read-swebok-who-reads-all-of-it-why-does-anyone-bother-writing-it"><span class="section_number">5.7.10</span><span class="section_title">Who reads SWEBOK? How can we read SWEBOK? Who reads all of it? Why does anyone bother writing it?</span></h4>
<ul>
<li><a href="https://en.wikipedia.org/wiki/Software_Engineering_Body_of_Knowledge">https://en.wikipedia.org/wiki/Software_Engineering_Body_of_Knowledge</a></li>
<li><a href="http://www.sebokwiki.org/wiki/An_Overview_of_the_SWEBOK_Guide">http://www.sebokwiki.org/wiki/An_Overview_of_the_SWEBOK_Guide</a>
<ul>
<li>&lt;2017-04-27&gt; Someone claims to have read it. Holy shit. <a href="https://www.quora.com/Do-you-use-SWEBOK-Is-it-helpful">https://www.quora.com/Do-you-use-SWEBOK-Is-it-helpful</a></li>
</ul></li>
<li>Is the knowledge applicable? Knowledge that can't be applied is useless.</li>
</ul>
<p>Fowler 2003<a href="#fn8" class="footnote-ref" id="fnref8"><sup>8</sup></a> points out the problems with SWEBOK.</p>
<h4 id="coupling"><span class="section_number">5.7.11</span><span class="section_title">Coupling</span></h4>
<ul>
<li>Coupling is deciding what you can depend on.
<ul>
<li>Big Company X just released this new cool stuff, but will it still be there in 5 years?</li>
</ul></li>
</ul>
<h4 id="testing-1"><span class="section_number">5.7.12</span><span class="section_title">Testing</span></h4>
<ol>
<li><p>If proving is cheap, prove it instead of testing it.</p></li>
<li><p>Amount of testing should be proportional to risk.</p>
<ul>
<li>How do we make code testable?
<ul>
<li>Minimize its dependencies.</li>
<li>Minimize the number of things that you must set up before you can run it.</li>
<li>Why?
<ul>
<li>If you don't satisfy all its dependencies, you can't run it.</li>
<li>If you can't run it, you can't test it.</li>
<li>If your business logic depends on the database, you'll have to set up a database to test your business logic.</li>
</ul></li>
</ul></li>
<li>What do we need to test?
<ul>
<li>Testing is proportional to risk.
<ul>
<li>Riskier code should be tested more.
<ul>
<li>&quot;Risk comes from not knowing what you're doing.&quot; (Warren Buffett)
<ul>
<li>Buffett said that for investing, but it also applies to programming.</li>
</ul></li>
</ul></li>
</ul></li>
<li>If it's obvious, don't test it. (Getters, setters, and DAOs without fancy logic)</li>
<li>If you can prove it, don't test it.</li>
</ul></li>
</ul></li>
</ol>
<h4 id="compare-programming-language-research-journals-and-conferences"><span class="section_number">5.7.13</span><span class="section_title"><span class="todo TODO">TODO</span> Compare programming language research journals and conferences</span></h4>
<p>Which ones should we care about? Which ones are the real deal?</p>
<ol>
<li><p>Conferences</p>
<ul>
<li>ICFP: The ACM SIGPLAN International Conference on Functional Programming</li>
<li>OOPSLA: ACM SIGPLAN Object-Oriented Programming, Systems, Languages &amp; Applications</li>
</ul>
<p><a href="https://en.wikipedia.org/wiki/OOPSLA">https://en.wikipedia.org/wiki/OOPSLA</a></p>
<ul>
<li>PLDI: ACM SIGPLAN Programming Language Design and Implementation</li>
</ul>
<p><a href="http://www.sigplan.org/Conferences/PLDI/">http://www.sigplan.org/Conferences/PLDI/</a></p>
<ul>
<li>POPL: ACM SIGPLAN Principles of Programming Languages</li>
</ul>
<p><a href="http://www.sigplan.org/Conferences/POPL/">http://www.sigplan.org/Conferences/POPL/</a></p></li>
<li><p>Proceedings</p>
<ul>
<li>PACMPL: Proceedings of the ACM on Programming Languages</li>
</ul></li>
<li><p>DBLP vs Semantic Scholar?</p>
<p><a href="https://dblp.uni-trier.de/">https://dblp.uni-trier.de/</a></p></li>
</ol>
<h4 id="software-engineer-associations"><span class="section_number">5.7.14</span><span class="section_title">Software engineer associations</span></h4>
<ul>
<li><p>Indonesia</p>
<ul>
<li><a href="http://sarccom.org/">SARCCOM Software architect Indonesia community</a></li>
<li><a href="http://www.aspiluki.or.id/">ASPILUKI Asosiasi Piranti Lunak Telematika Indonesia</a></li>
</ul></li>
<li>International?</li>
</ul>
<h4 id="software-business-model"><span class="section_number">5.7.15</span><span class="section_title">Software business model</span></h4>
<ul>
<li>Hardware is moved.</li>
<li>Software is <em>copied</em>, not moved.</li>
<li>When you sell hardware, you <em>transfer</em> ownership. The hardware doesn't multiple into two.</li>
<li>There are two models:
<ul>
<li>SaaS (software as a service, a web application; you control the hardware that runs the software, but not the input and output of the process)</li>
<li>bundling software with restricted hardware (Apple iPhone)</li>
</ul></li>
<li>Controlling software requires controlling the hardware that runs it.
<ul>
<li>Controlling the law requires controlling the lawmakers and the law enforcers.</li>
</ul></li>
<li>Isn't it absurd to judge a crime by its potentiality not its actuality?</li>
<li>Process is software. Law is software.</li>
<li>The chemical process in a chemical plant is also software, but not everyone owns a chemical plant.
<ul>
<li>If you hire a chemical engineer to design and implement your chemical plant's process, does the chemical engineer own the rights to the process?</li>
<li>If you hire a software to design and implement your computer's operating system, does the software engineer own the rights to the operating system?</li>
</ul></li>
</ul>
<p>Ownership is the ability to control access. To own a thing is to be able to control the access to that thing.</p>
<ul>
<li>It is easy to control access to hardware. Nature/physics is with us on this issue.</li>
<li><p>It isn't easy to control access to software.</p></li>
<li><a href="https://medium.com/@mattklein123/the-broken-economics-of-oss-5a1b31fc0182">https://medium.com/@mattklein123/the-broken-economics-of-oss-5a1b31fc0182</a></li>
</ul>
<h4 id="measuring-software-quality"><span class="section_number">5.7.16</span><span class="section_title">Measuring software quality?</span></h4>
<ul>
<li><a href="https://cs.stackexchange.com/questions/47077/is-there-a-way-of-objectively-measuring-the-efficiency-or-quality-of-software-or">https://cs.stackexchange.com/questions/47077/is-there-a-way-of-objectively-measuring-the-efficiency-or-quality-of-software-or</a></li>
</ul>
<h4 id="programming-language-quality"><span class="section_number">5.7.17</span><span class="section_title">Programming language quality?</span></h4>
<ul>
<li><a href="https://medium.com/@richardeng/how-to-measure-programming-language-complexity-afe4f7e75786">https://medium.com/@richardeng/how-to-measure-programming-language-complexity-afe4f7e75786</a></li>
<li><a href="https://medium.com/concerning-pharo/elegant-pharo-code-bb590f0856d0">https://medium.com/concerning-pharo/elegant-pharo-code-bb590f0856d0</a></li>
</ul>
<h4 id="technical-writing-software-documentation"><span class="section_number">5.7.18</span><span class="section_title">Technical writing, software documentation</span></h4>
<ul>
<li><a href="https://www.divio.com/blog/documentation/">https://www.divio.com/blog/documentation/</a>:</li>
</ul>
<p>&quot;Documentation needs to include and be structured around its <strong>four different functions</strong>: <em>tutorials, how-to guides, explanation and technical reference</em>. Each of them <strong>requires a distinct mode of writing</strong>.&quot;</p>
<h4 id="who-said-this-pit-of-success-it-was-someone-on-the-internet."><span class="section_number">5.7.19</span><span class="section_title"><span class="todo TODO">TODO</span> Who said this &quot;pit of success&quot;? It was someone on the Internet.</span></h4>
<ul>
<li>Write code that makes your client/user/reader (another programmer who uses your code) fall into the pit of success.</li>
<li>Corollary: Principle of least astonishment.</li>
<li>Corollary: Write code that a programmer can understand with an IDE without having to read much documentation.</li>
<li>Corollary: Group data and methods that need those data together in one class.</li>
<li>Can that principle derive these principles? <a href="http://c2.com/cgi/wiki?PrinciplesOfObjectOrientedDesign">http://c2.com/cgi/wiki?PrinciplesOfObjectOrientedDesign</a></li>
<li>You can write maintainable and reliable procedural code?</li>
</ul>
<h2 id="bibliography"><span class="section_number">6</span><span class="section_title">Bibliography</span></h2>
<p>bibliography:default</p>
<div id="refs" class="references">
<div id="ref-brooks1987no">
<p>[1] Brooks, F. and Kugler, H. 1987. <em>No silver bullet</em>. April. url: &lt;<a href="http://www.cs.nott.ac.uk/~pszcah/G51ISS/Documents/NoSilverBullet.html">http://www.cs.nott.ac.uk/~pszcah/G51ISS/Documents/NoSilverBullet.html</a>&gt;.</p>
</div>
<div id="ref-dijkstra1972humble">
<p>[2] Dijkstra, E.W. 1972. The humble programmer. <em>Commun. ACM</em>. 15, 10 (1972), 859–866. url: &lt;<a href="https://www.cs.utexas.edu/~EWD/transcriptions/EWD03xx/EWD340.html">https://www.cs.utexas.edu/~EWD/transcriptions/EWD03xx/EWD340.html</a>&gt;.</p>
</div>
</div>
<section class="footnotes">
<hr />
<ol>
<li id="fn1"><p><a href="https://www.reddit.com/r/java/comments/2jona4/why_does_everyone_hate_eclipse/clea9ok/">https://www.reddit.com/r/java/comments/2jona4/why_does_everyone_hate_eclipse/clea9ok/</a><a href="#fnref1" class="footnote-back">↩</a></p></li>
<li id="fn2"><p><a href="https://hiringengineersbook.com/post/trouble-hiring/">https://hiringengineersbook.com/post/trouble-hiring/</a><a href="#fnref2" class="footnote-back">↩</a></p></li>
<li id="fn3"><p><a href="https://codeburst.io/why-developers-become-frustrated-and-companies-cant-find-talent-c4114d8b72ac">https://codeburst.io/why-developers-become-frustrated-and-companies-cant-find-talent-c4114d8b72ac</a><a href="#fnref3" class="footnote-back">↩</a></p></li>
<li id="fn4"><p><a href="https://www.avanscoperta.it/en/training/practical-machine-learning-with-functional-programming-workshop/">https://www.avanscoperta.it/en/training/practical-machine-learning-with-functional-programming-workshop/</a><a href="#fnref4" class="footnote-back">↩</a></p></li>
<li id="fn5"><p><a href="https://blog.erratasec.com/2018/10/systemd-is-bad-parsing-and-should-feel.html">https://blog.erratasec.com/2018/10/systemd-is-bad-parsing-and-should-feel.html</a><a href="#fnref5" class="footnote-back">↩</a></p></li>
<li id="fn6"><p><a href="https://www.reddit.com/r/programming/comments/9rtm1f/systemd_is_bad_parsing_and_should_feel_bad/">https://www.reddit.com/r/programming/comments/9rtm1f/systemd_is_bad_parsing_and_should_feel_bad/</a><a href="#fnref6" class="footnote-back">↩</a></p></li>
<li id="fn7"><p><a href="https://i.redd.it/ktop13ad2io01.png">https://i.redd.it/ktop13ad2io01.png</a><a href="#fnref7" class="footnote-back">↩</a></p></li>
<li id="fn8"><p><a href="https://martinfowler.com/bliki/Swebok.html">https://martinfowler.com/bliki/Swebok.html</a><a href="#fnref8" class="footnote-back">↩</a></p></li>
</ol>
</section>
                </div>
            </div>
        </main>
                        <div id="disqus_thread"></div>
<script>
/**
*  RECOMMENDED CONFIGURATION VARIABLES: EDIT AND UNCOMMENT THE SECTION BELOW TO INSERT DYNAMIC VALUES FROM YOUR PLATFORM OR CMS.
*  LEARN WHY DEFINING THESE VARIABLES IS IMPORTANT: https://disqus.com/admin/universalcode/#configuration-variables*/
var disqus_config = function () {
    this.page.url = "https://edom.github.io/softeng.html";  // Replace PAGE_URL with your page's canonical URL variable
    this.page.identifier = "https://edom.github.io/softeng.html"; // Replace PAGE_IDENTIFIER with your page's unique identifier variable
};
(function() { // DON'T EDIT BELOW THIS LINE
var d = document, s = d.createElement('script');
s.src = 'https://edom-github-io.disqus.com/embed.js';
s.setAttribute('data-timestamp', +new Date());
(d.head || d.body).appendChild(s);
})();
</script>
<noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
                        <footer class="site-footer h-card">
            <data class="u-url" href="/"></data>
            <div class="wrapper">
                <p>This page was created on 2018-04-11 00:00 +0700.</p>
                <p class="rss-subscribe">There is an
                    <a href="/feed.xml">RSS feed</a>, but it's unused because this site is a wiki, not a blog.</p>
                <p>Stop writing books, papers, and blogs!
                    Write a personal wiki instead!
                    Or, even better, contribute to a community wiki.
                </p>
            </div>
        </footer>
    </body>
</html>
